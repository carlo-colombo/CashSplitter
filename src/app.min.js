!function(a,b,c){"use strict";function d(a,b){return b=b||Error,function(){var c,d,e=arguments[0],f="["+(a?a+":":"")+e+"] ",g=arguments[1],h=arguments;for(c=f+g.replace(/\{\d+\}/g,function(a){var b=+a.slice(1,-1);return b+2<h.length?mb(h[b+2]):a}),c=c+"\nhttp://errors.angularjs.org/1.3.8/"+(a?a+"/":"")+e,d=2;d<arguments.length;d++)c=c+(2==d?"?":"&")+"p"+(d-2)+"="+encodeURIComponent(mb(arguments[d]));return new b(c)}}function e(a){if(null==a||z(a))return!1;var b=a.length;return a.nodeType===qe&&b?!0:u(a)||je(a)||0===b||"number"==typeof b&&b>0&&b-1 in a}function f(a,b,c){var d,g;if(a)if(x(a))for(d in a)"prototype"==d||"length"==d||"name"==d||a.hasOwnProperty&&!a.hasOwnProperty(d)||b.call(c,a[d],d,a);else if(je(a)||e(a)){var h="object"!=typeof a;for(d=0,g=a.length;g>d;d++)(h||d in a)&&b.call(c,a[d],d,a)}else if(a.forEach&&a.forEach!==f)a.forEach(b,c,a);else for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a);return a}function g(a){return Object.keys(a).sort()}function h(a,b,c){for(var d=g(a),e=0;e<d.length;e++)b.call(c,a[d[e]],d[e]);return d}function i(a){return function(b,c){a(c,b)}}function j(){return++he}function k(a,b){b?a.$$hashKey=b:delete a.$$hashKey}function l(a){for(var b=a.$$hashKey,c=1,d=arguments.length;d>c;c++){var e=arguments[c];if(e)for(var f=Object.keys(e),g=0,h=f.length;h>g;g++){var i=f[g];a[i]=e[i]}}return k(a,b),a}function m(a){return parseInt(a,10)}function n(a,b){return l(Object.create(a),b)}function o(){}function p(a){return a}function q(a){return function(){return a}}function r(a){return"undefined"==typeof a}function s(a){return"undefined"!=typeof a}function t(a){return null!==a&&"object"==typeof a}function u(a){return"string"==typeof a}function v(a){return"number"==typeof a}function w(a){return"[object Date]"===ee.call(a)}function x(a){return"function"==typeof a}function y(a){return"[object RegExp]"===ee.call(a)}function z(a){return a&&a.window===a}function A(a){return a&&a.$evalAsync&&a.$watch}function B(a){return"[object File]"===ee.call(a)}function C(a){return"[object FormData]"===ee.call(a)}function D(a){return"[object Blob]"===ee.call(a)}function E(a){return"boolean"==typeof a}function F(a){return a&&x(a.then)}function G(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function H(a){var b,c={},d=a.split(",");for(b=0;b<d.length;b++)c[d[b]]=!0;return c}function I(a){return Ud(a.nodeName||a[0]&&a[0].nodeName)}function J(a,b){var c=a.indexOf(b);return c>=0&&a.splice(c,1),b}function K(a,b,c,d){if(z(a)||A(a))throw fe("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(b){if(a===b)throw fe("cpi","Can't copy! Source and destination are identical.");if(c=c||[],d=d||[],t(a)){var e=c.indexOf(a);if(-1!==e)return d[e];c.push(a),d.push(b)}var g;if(je(a)){b.length=0;for(var h=0;h<a.length;h++)g=K(a[h],null,c,d),t(a[h])&&(c.push(a[h]),d.push(g)),b.push(g)}else{var i=b.$$hashKey;je(b)?b.length=0:f(b,function(a,c){delete b[c]});for(var j in a)a.hasOwnProperty(j)&&(g=K(a[j],null,c,d),t(a[j])&&(c.push(a[j]),d.push(g)),b[j]=g);k(b,i)}}else if(b=a,a)if(je(a))b=K(a,[],c,d);else if(w(a))b=new Date(a.getTime());else if(y(a))b=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]),b.lastIndex=a.lastIndex;else if(t(a)){var l=Object.create(Object.getPrototypeOf(a));b=K(a,l,c,d)}return b}function L(a,b){if(je(a)){b=b||[];for(var c=0,d=a.length;d>c;c++)b[c]=a[c]}else if(t(a)){b=b||{};for(var e in a)("$"!==e.charAt(0)||"$"!==e.charAt(1))&&(b[e]=a[e])}return b||a}function M(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var d,e,f,g=typeof a,h=typeof b;if(g==h&&"object"==g){if(!je(a)){if(w(a))return w(b)?M(a.getTime(),b.getTime()):!1;if(y(a)&&y(b))return a.toString()==b.toString();if(A(a)||A(b)||z(a)||z(b)||je(b))return!1;f={};for(e in a)if("$"!==e.charAt(0)&&!x(a[e])){if(!M(a[e],b[e]))return!1;f[e]=!0}for(e in b)if(!f.hasOwnProperty(e)&&"$"!==e.charAt(0)&&b[e]!==c&&!x(b[e]))return!1;return!0}if(!je(b))return!1;if((d=a.length)==b.length){for(e=0;d>e;e++)if(!M(a[e],b[e]))return!1;return!0}}return!1}function N(a,b,c){return a.concat(be.call(b,c))}function O(a,b){return be.call(a,b||0)}function P(a,b){var c=arguments.length>2?O(arguments,2):[];return!x(b)||b instanceof RegExp?b:c.length?function(){return arguments.length?b.apply(a,N(c,arguments,0)):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function Q(a,d){var e=d;return"string"==typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?e=c:z(d)?e="$WINDOW":d&&b===d?e="$DOCUMENT":A(d)&&(e="$SCOPE"),e}function R(a,b){return"undefined"==typeof a?c:(v(b)||(b=b?2:null),JSON.stringify(a,Q,b))}function S(a){return u(a)?JSON.parse(a):a}function T(a){a=$d(a).clone();try{a.empty()}catch(b){}var c=$d("<div>").append(a).html();try{return a[0].nodeType===re?Ud(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+Ud(b)})}catch(b){return Ud(c)}}function U(a){try{return decodeURIComponent(a)}catch(b){}}function V(a){var b,c,d={};return f((a||"").split("&"),function(a){if(a&&(b=a.replace(/\+/g,"%20").split("="),c=U(b[0]),s(c))){var e=s(b[1])?U(b[1]):!0;Vd.call(d,c)?je(d[c])?d[c].push(e):d[c]=[d[c],e]:d[c]=e}}),d}function W(a){var b=[];return f(a,function(a,c){je(a)?f(a,function(a){b.push(Y(c,!0)+(a===!0?"":"="+Y(a,!0)))}):b.push(Y(c,!0)+(a===!0?"":"="+Y(a,!0)))}),b.length?b.join("&"):""}function X(a){return Y(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Y(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function Z(a,b){var c,d,e=ne.length;for(a=$d(a),d=0;e>d;++d)if(c=ne[d]+b,u(c=a.attr(c)))return c;return null}function $(a,b){var c,d,e={};f(ne,function(b){var e=b+"app";!c&&a.hasAttribute&&a.hasAttribute(e)&&(c=a,d=a.getAttribute(e))}),f(ne,function(b){var e,f=b+"app";!c&&(e=a.querySelector("["+f.replace(":","\\:")+"]"))&&(c=e,d=e.getAttribute(f))}),c&&(e.strictDi=null!==Z(c,"strict-di"),b(c,d?[d]:[],e))}function _(c,d,e){t(e)||(e={});var g={strictDi:!1};e=l(g,e);var h=function(){if(c=$d(c),c.injector()){var a=c[0]===b?"document":T(c);throw fe("btstrpd","App Already Bootstrapped with this Element '{0}'",a.replace(/</,"&lt;").replace(/>/,"&gt;"))}d=d||[],d.unshift(["$provide",function(a){a.value("$rootElement",c)}]),e.debugInfoEnabled&&d.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]),d.unshift("ng");var f=Sb(d,e.strictDi);return f.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),f},i=/^NG_ENABLE_DEBUG_INFO!/,j=/^NG_DEFER_BOOTSTRAP!/;return a&&i.test(a.name)&&(e.debugInfoEnabled=!0,a.name=a.name.replace(i,"")),a&&!j.test(a.name)?h():(a.name=a.name.replace(j,""),void(ge.resumeBootstrap=function(a){f(a,function(a){d.push(a)}),h()}))}function ab(){a.name="NG_ENABLE_DEBUG_INFO!"+a.name,a.location.reload()}function bb(a){var b=ge.element(a).injector();if(!b)throw fe("test","no injector found for element argument to getTestability");return b.get("$$testability")}function cb(a,b){return b=b||"_",a.replace(oe,function(a,c){return(c?b:"")+a.toLowerCase()})}function db(){var b;pe||(_d=a.jQuery,_d&&_d.fn.on?($d=_d,l(_d.fn,{scope:Je.scope,isolateScope:Je.isolateScope,controller:Je.controller,injector:Je.injector,inheritedData:Je.inheritedData}),b=_d.cleanData,_d.cleanData=function(a){var c;if(ie)ie=!1;else for(var d,e=0;null!=(d=a[e]);e++)c=_d._data(d,"events"),c&&c.$destroy&&_d(d).triggerHandler("$destroy");b(a)}):$d=ub,ge.element=$d,pe=!0)}function eb(a,b,c){if(!a)throw fe("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function fb(a,b,c){return c&&je(a)&&(a=a[a.length-1]),eb(x(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function gb(a,b){if("hasOwnProperty"===a)throw fe("badname","hasOwnProperty is not a valid {0} name",b)}function hb(a,b,c){if(!b)return a;for(var d,e=b.split("."),f=a,g=e.length,h=0;g>h;h++)d=e[h],a&&(a=(f=a)[d]);return!c&&x(a)?P(f,a):a}function ib(a){var b=a[0],c=a[a.length-1],d=[b];do{if(b=b.nextSibling,!b)break;d.push(b)}while(b!==c);return $d(d)}function jb(){return Object.create(null)}function kb(a){function b(a,b,c){return a[b]||(a[b]=c())}var c=d("$injector"),e=d("ng"),f=b(a,"angular",Object);return f.$$minErr=f.$$minErr||d,b(f,"module",function(){var a={};return function(d,f,g){var h=function(a,b){if("hasOwnProperty"===a)throw e("badname","hasOwnProperty is not a valid {0} name",b)};return h(d,"module"),f&&a.hasOwnProperty(d)&&(a[d]=null),b(a,d,function(){function a(a,c,d,e){return e||(e=b),function(){return e[d||"push"]([a,c,arguments]),j}}if(!f)throw c("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",d);var b=[],e=[],h=[],i=a("$injector","invoke","push",e),j={_invokeQueue:b,_configBlocks:e,_runBlocks:h,requires:f,name:d,provider:a("$provide","provider"),factory:a("$provide","factory"),service:a("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),animation:a("$animateProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),config:i,run:function(a){return h.push(a),this}};return g&&i(g),j})}})}function lb(a){var b=[];return JSON.stringify(a,function(a,c){if(c=Q(a,c),t(c)){if(b.indexOf(c)>=0)return"<<already seen>>";b.push(c)}return c})}function mb(a){return"function"==typeof a?a.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof a?"undefined":"string"!=typeof a?lb(a):a}function nb(b){l(b,{bootstrap:_,copy:K,extend:l,equals:M,element:$d,forEach:f,injector:Sb,noop:o,bind:P,toJson:R,fromJson:S,identity:p,isUndefined:r,isDefined:s,isString:u,isFunction:x,isObject:t,isNumber:v,isElement:G,isArray:je,version:ve,isDate:w,lowercase:Ud,uppercase:Wd,callbacks:{counter:0},getTestability:bb,$$minErr:d,$$csp:me,reloadWithDebugInfo:ab}),ae=kb(a);try{ae("ngLocale")}catch(c){ae("ngLocale",[]).provider("$locale",qc)}ae("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:Wc}),a.provider("$compile",Zb).directive({a:Bf,input:Uf,textarea:Uf,form:Gf,script:Lg,select:Og,style:Qg,option:Pg,ngBind:lg,ngBindHtml:ng,ngBindTemplate:mg,ngClass:og,ngClassEven:qg,ngClassOdd:pg,ngCloak:rg,ngController:sg,ngForm:Hf,ngHide:Fg,ngIf:vg,ngInclude:wg,ngInit:yg,ngNonBindable:zg,ngPluralize:Ag,ngRepeat:Bg,ngShow:Eg,ngStyle:Gg,ngSwitch:Hg,ngSwitchWhen:Ig,ngSwitchDefault:Jg,ngOptions:Ng,ngTransclude:Kg,ngModel:bg,ngList:hg,ngChange:cg,pattern:eg,ngPattern:eg,required:dg,ngRequired:dg,minlength:gg,ngMinlength:gg,maxlength:fg,ngMaxlength:fg,ngValue:jg,ngModelOptions:kg}).directive({ngInclude:xg}).directive(Cf).directive(tg),a.provider({$anchorScroll:Tb,$animate:Te,$browser:Wb,$cacheFactory:Xb,$controller:bc,$document:cc,$exceptionHandler:dc,$filter:gd,$interpolate:oc,$interval:pc,$http:kc,$httpBackend:mc,$location:Ec,$log:Fc,$parse:Qc,$rootScope:Vc,$q:Rc,$$q:Sc,$sce:$c,$sceDelegate:Zc,$sniffer:_c,$templateCache:Yb,$templateRequest:ad,$$testability:bd,$timeout:cd,$window:fd,$$rAF:Uc,$$asyncCallback:Ub,$$jqLite:Nb})}])}function ob(){return++xe}function pb(a){return a.replace(Ae,function(a,b,c,d){return d?c.toUpperCase():c}).replace(Be,"Moz$1")}function qb(a){return!Fe.test(a)}function rb(a){var b=a.nodeType;return b===qe||!b||b===te}function sb(a,b){var c,d,e,g,h=b.createDocumentFragment(),i=[];if(qb(a))i.push(b.createTextNode(a));else{for(c=c||h.appendChild(b.createElement("div")),d=(Ge.exec(a)||["",""])[1].toLowerCase(),e=Ie[d]||Ie._default,c.innerHTML=e[1]+a.replace(He,"<$1></$2>")+e[2],g=e[0];g--;)c=c.lastChild;i=N(i,c.childNodes),c=h.firstChild,c.textContent=""}return h.textContent="",h.innerHTML="",f(i,function(a){h.appendChild(a)}),h}function tb(a,c){c=c||b;var d;return(d=Ee.exec(a))?[c.createElement(d[1])]:(d=sb(a,c))?d.childNodes:[]}function ub(a){if(a instanceof ub)return a;var b;if(u(a)&&(a=ke(a),b=!0),!(this instanceof ub)){if(b&&"<"!=a.charAt(0))throw De("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new ub(a)}b?Eb(this,tb(a)):Eb(this,a)}function vb(a){return a.cloneNode(!0)}function wb(a,b){if(b||yb(a),a.querySelectorAll)for(var c=a.querySelectorAll("*"),d=0,e=c.length;e>d;d++)yb(c[d])}function xb(a,b,c,d){if(s(d))throw De("offargs","jqLite#off() does not support the `selector` argument");var e=zb(a),g=e&&e.events,h=e&&e.handle;if(h)if(b)f(b.split(" "),function(b){if(s(c)){var d=g[b];if(J(d||[],c),d&&d.length>0)return}ze(a,b,h),delete g[b]});else for(b in g)"$destroy"!==b&&ze(a,b,h),delete g[b]}function yb(a,b){var d=a.ng339,e=d&&we[d];if(e){if(b)return void delete e.data[b];e.handle&&(e.events.$destroy&&e.handle({},"$destroy"),xb(a)),delete we[d],a.ng339=c}}function zb(a,b){var d=a.ng339,e=d&&we[d];return b&&!e&&(a.ng339=d=ob(),e=we[d]={events:{},data:{},handle:c}),e}function Ab(a,b,c){if(rb(a)){var d=s(c),e=!d&&b&&!t(b),f=!b,g=zb(a,!e),h=g&&g.data;if(d)h[b]=c;else{if(f)return h;if(e)return h&&h[b];l(h,b)}}}function Bb(a,b){return a.getAttribute?(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")>-1:!1}function Cb(a,b){b&&a.setAttribute&&f(b.split(" "),function(b){a.setAttribute("class",ke((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+ke(b)+" "," ")))})}function Db(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");f(b.split(" "),function(a){a=ke(a),-1===c.indexOf(" "+a+" ")&&(c+=a+" ")}),a.setAttribute("class",ke(c))}}function Eb(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var c=b.length;if("number"==typeof c&&b.window!==b){if(c)for(var d=0;c>d;d++)a[a.length++]=b[d]}else a[a.length++]=b}}function Fb(a,b){return Gb(a,"$"+(b||"ngController")+"Controller")}function Gb(a,b,d){a.nodeType==te&&(a=a.documentElement);for(var e=je(b)?b:[b];a;){for(var f=0,g=e.length;g>f;f++)if((d=$d.data(a,e[f]))!==c)return d;a=a.parentNode||a.nodeType===ue&&a.host}}function Hb(a){for(wb(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Ib(a,b){b||wb(a);var c=a.parentNode;c&&c.removeChild(a)}function Jb(b,c){c=c||a,"complete"===c.document.readyState?c.setTimeout(b):$d(c).on("load",b)}function Kb(a,b){var c=Ke[b.toLowerCase()];return c&&Le[I(a)]&&c}function Lb(a,b){var c=a.nodeName;return("INPUT"===c||"TEXTAREA"===c)&&Me[b]}function Mb(a,b){var c=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var e=b[d||c.type],f=e?e.length:0;if(f){if(r(c.immediatePropagationStopped)){var g=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0,c.stopPropagation&&c.stopPropagation(),g&&g.call(c)}}c.isImmediatePropagationStopped=function(){return c.immediatePropagationStopped===!0},f>1&&(e=L(e));for(var h=0;f>h;h++)c.isImmediatePropagationStopped()||e[h].call(a,c)}};return c.elem=a,c}function Nb(){this.$get=function(){return l(ub,{hasClass:function(a,b){return a.attr&&(a=a[0]),Bb(a,b)},addClass:function(a,b){return a.attr&&(a=a[0]),Db(a,b)},removeClass:function(a,b){return a.attr&&(a=a[0]),Cb(a,b)}})}}function Ob(a,b){var c=a&&a.$$hashKey;if(c)return"function"==typeof c&&(c=a.$$hashKey()),c;var d=typeof a;return c="function"==d||"object"==d&&null!==a?a.$$hashKey=d+":"+(b||j)():d+":"+a}function Pb(a,b){if(b){var c=0;this.nextUid=function(){return++c}}f(a,this.put,this)}function Qb(a){var b=a.toString().replace(Qe,""),c=b.match(Ne);return c?"function("+(c[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Rb(a,b,c){var d,e,g,h;if("function"==typeof a){if(!(d=a.$inject)){if(d=[],a.length){if(b)throw u(c)&&c||(c=a.name||Qb(a)),Re("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",c);e=a.toString().replace(Qe,""),g=e.match(Ne),f(g[1].split(Oe),function(a){a.replace(Pe,function(a,b,c){d.push(c)})})}a.$inject=d}}else je(a)?(h=a.length-1,fb(a[h],"fn"),d=a.slice(0,h)):fb(a,"fn",!0);return d}function Sb(a,b){function d(a){return function(b,c){return t(b)?void f(b,i(a)):a(b,c)}}function e(a,b){if(gb(a,"service"),(x(b)||je(b))&&(b=A.instantiate(b)),!b.$get)throw Re("pget","Provider '{0}' must define $get factory method.",a);return z[a+v]=b}function g(a,b){return function(){var c=C.invoke(b,this);if(r(c))throw Re("undef","Provider '{0}' must return a value from $get factory method.",a);return c}}function h(a,b,c){return e(a,{$get:c!==!1?g(a,b):b})}function j(a,b){return h(a,["$injector",function(a){return a.instantiate(b)}])}function k(a,b){return h(a,q(b),!1)}function l(a,b){gb(a,"constant"),z[a]=b,B[a]=b}function m(a,b){var c=A.get(a+v),d=c.$get;c.$get=function(){var a=C.invoke(d,c);return C.invoke(b,null,{$delegate:a})}}function n(a){var b,c=[];return f(a,function(a){function d(a){var b,c;for(b=0,c=a.length;c>b;b++){var d=a[b],e=A.get(d[0]);e[d[1]].apply(e,d[2])}}if(!y.get(a)){y.put(a,!0);try{u(a)?(b=ae(a),c=c.concat(n(b.requires)).concat(b._runBlocks),d(b._invokeQueue),d(b._configBlocks)):x(a)?c.push(A.invoke(a)):je(a)?c.push(A.invoke(a)):fb(a,"module")}catch(e){throw je(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Re("modulerr","Failed to instantiate module {0} due to:\n{1}",a,e.stack||e.message||e)}}}),c}function p(a,c){function d(b,d){if(a.hasOwnProperty(b)){if(a[b]===s)throw Re("cdep","Circular dependency found: {0}",b+" <- "+w.join(" <- "));return a[b]}try{return w.unshift(b),a[b]=s,a[b]=c(b,d)}catch(e){throw a[b]===s&&delete a[b],e}finally{w.shift()}}function e(a,c,e,f){"string"==typeof e&&(f=e,e=null);var g,h,i,j=[],k=Rb(a,b,f);for(h=0,g=k.length;g>h;h++){if(i=k[h],"string"!=typeof i)throw Re("itkn","Incorrect injection token! Expected service name as string, got {0}",i);j.push(e&&e.hasOwnProperty(i)?e[i]:d(i,f))}return je(a)&&(a=a[g]),a.apply(c,j)}function f(a,b,c){var d=Object.create((je(a)?a[a.length-1]:a).prototype),f=e(a,d,b,c);return t(f)||x(f)?f:d}return{invoke:e,instantiate:f,get:d,annotate:Rb,has:function(b){return z.hasOwnProperty(b+v)||a.hasOwnProperty(b)}}}b=b===!0;var s={},v="Provider",w=[],y=new Pb([],!0),z={$provide:{provider:d(e),factory:d(h),service:d(j),value:d(k),constant:d(l),decorator:m}},A=z.$injector=p(z,function(a,b){throw ge.isString(b)&&w.push(b),Re("unpr","Unknown provider: {0}",w.join(" <- "))}),B={},C=B.$injector=p(B,function(a,b){var d=A.get(a+v,b);return C.invoke(d.$get,d,c,a)});return f(n(a),function(a){C.invoke(a||o)}),C}function Tb(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,c,d){function e(a){var b=null;return Array.prototype.some.call(a,function(a){return"a"===I(a)?(b=a,!0):void 0}),b}function f(){var a=h.yOffset;if(x(a))a=a();else if(G(a)){var c=a[0],d=b.getComputedStyle(c);a="fixed"!==d.position?0:c.getBoundingClientRect().bottom}else v(a)||(a=0);return a}function g(a){if(a){a.scrollIntoView();var c=f();if(c){var d=a.getBoundingClientRect().top;b.scrollBy(0,d-c)}}else b.scrollTo(0,0)}function h(){var a,b=c.hash();b?(a=i.getElementById(b))?g(a):(a=e(i.getElementsByName(b)))?g(a):"top"===b&&g(null):g(null)}var i=b.document;return a&&d.$watch(function(){return c.hash()},function(a,b){(a!==b||""!==a)&&Jb(function(){d.$evalAsync(h)})}),h}]}function Ub(){this.$get=["$$rAF","$timeout",function(a,b){return a.supported?function(b){return a(b)}:function(a){return b(a,0,!1)}}]}function Vb(a,b,d,e){function g(a){try{a.apply(null,O(arguments,1))}finally{if(x--,0===x)for(;y.length;)try{y.pop()()}catch(b){d.error(b)}}}function h(a){var b=a.indexOf("#");return-1===b?"":a.substr(b+1)}function i(a,b){!function c(){f(A,function(a){a()}),z=b(c,a)}()}function j(){k(),l()}function k(){B=a.history.state,B=r(B)?null:B,M(B,I)&&(B=I),I=B}function l(){(D!==n.url()||C!==B)&&(D=n.url(),C=B,f(G,function(a){a(n.url(),B)}))}function m(a){try{return decodeURIComponent(a)}catch(b){return a}}var n=this,p=b[0],q=a.location,s=a.history,t=a.setTimeout,v=a.clearTimeout,w={};n.isMock=!1;var x=0,y=[];n.$$completeOutstandingRequest=g,n.$$incOutstandingRequestCount=function(){x++},n.notifyWhenNoOutstandingRequests=function(a){f(A,function(a){a()}),0===x?a():y.push(a)};var z,A=[];n.addPollFn=function(a){return r(z)&&i(100,t),A.push(a),a};var B,C,D=q.href,E=b.find("base"),F=null;k(),C=B,n.url=function(b,c,d){if(r(d)&&(d=null),q!==a.location&&(q=a.location),s!==a.history&&(s=a.history),b){var f=C===d;if(D===b&&(!e.history||f))return n;var g=D&&vc(D)===vc(b);return D=b,C=d,!e.history||g&&f?(g||(F=b),c?q.replace(b):g?q.hash=h(b):q.href=b):(s[c?"replaceState":"pushState"](d,"",b),k(),C=B),n}return F||q.href.replace(/%27/g,"'")},n.state=function(){return B};var G=[],H=!1,I=null;n.onUrlChange=function(b){return H||(e.history&&$d(a).on("popstate",j),$d(a).on("hashchange",j),H=!0),G.push(b),b},n.$$checkUrlChange=l,n.baseHref=function(){var a=E.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var J={},K="",L=n.baseHref();n.cookies=function(a,b){var e,f,g,h,i;if(!a){if(p.cookie!==K)for(K=p.cookie,f=K.split("; "),J={},h=0;h<f.length;h++)g=f[h],i=g.indexOf("="),i>0&&(a=m(g.substring(0,i)),J[a]===c&&(J[a]=m(g.substring(i+1))));return J}b===c?p.cookie=encodeURIComponent(a)+"=;path="+L+";expires=Thu, 01 Jan 1970 00:00:00 GMT":u(b)&&(e=(p.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+";path="+L).length+1,e>4096&&d.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+e+" > 4096 bytes)!"))},n.defer=function(a,b){var c;return x++,c=t(function(){delete w[c],g(a)},b||0),w[c]=!0,c},n.defer.cancel=function(a){return w[a]?(delete w[a],v(a),g(o),!0):!1}}function Wb(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new Vb(a,d,b,c)}]}function Xb(){this.$get=function(){function a(a,c){function e(a){a!=m&&(n?n==a&&(n=a.n):n=a,f(a.n,a.p),f(a,m),m=a,m.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw d("$cacheFactory")("iid","CacheId '{0}' is already taken!",a);var g=0,h=l({},c,{id:a}),i={},j=c&&c.capacity||Number.MAX_VALUE,k={},m=null,n=null;return b[a]={put:function(a,b){if(j<Number.MAX_VALUE){var c=k[a]||(k[a]={key:a});e(c)}if(!r(b))return a in i||g++,i[a]=b,g>j&&this.remove(n.key),b},get:function(a){if(j<Number.MAX_VALUE){var b=k[a];if(!b)return;e(b)}return i[a]},remove:function(a){if(j<Number.MAX_VALUE){var b=k[a];if(!b)return;b==m&&(m=b.p),b==n&&(n=b.n),f(b.n,b.p),delete k[a]}delete i[a],g--},removeAll:function(){i={},g=0,k={},m=n=null},destroy:function(){i=null,h=null,k=null,delete b[a]},info:function(){return l({},h,{size:g})}}}var b={};return a.info=function(){var a={};return f(b,function(b,c){a[c]=b.info()}),a},a.get=function(a){return b[a]},a}}function Yb(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Zb(a,d){function e(a,b){var c=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,d={};return f(a,function(a,e){var f=a.match(c);if(!f)throw Ue("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",b,e,a);d[e]={mode:f[1][0],collection:"*"===f[2],optional:"?"===f[3],attrName:f[4]||e}}),d}var g={},h="Directive",j=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,k=/(([\w\-]+)(?:\:([^;]+))?;?)/,m=H("ngSrc,ngSrcset,src,srcset"),r=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,v=/^(on[a-z]+|formaction)$/;this.directive=function y(b,c){return gb(b,"directive"),u(b)?(eb(c,"directiveFactory"),g.hasOwnProperty(b)||(g[b]=[],a.factory(b+h,["$injector","$exceptionHandler",function(a,c){var d=[];return f(g[b],function(f,g){try{var h=a.invoke(f);x(h)?h={compile:q(h)}:!h.compile&&h.link&&(h.compile=q(h.link)),h.priority=h.priority||0,h.index=g,h.name=h.name||b,h.require=h.require||h.controller&&h.name,h.restrict=h.restrict||"EA",t(h.scope)&&(h.$$isolateBindings=e(h.scope,h.name)),d.push(h)}catch(i){c(i)}}),d}])),g[b].push(c)):f(b,i(y)),this},this.aHrefSanitizationWhitelist=function(a){return s(a)?(d.aHrefSanitizationWhitelist(a),this):d.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return s(a)?(d.imgSrcSanitizationWhitelist(a),this):d.imgSrcSanitizationWhitelist()};var w=!0;this.debugInfoEnabled=function(a){return s(a)?(w=a,this):w},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(a,d,e,i,q,s,y,z,B,C,D){function E(a,b){try{a.addClass(b)}catch(c){}}function F(a,b,c,d,e){a instanceof $d||(a=$d(a)),f(a,function(b,c){b.nodeType==re&&b.nodeValue.match(/\S+/)&&(a[c]=$d(b).wrap("<span></span>").parent()[0])});var g=H(a,b,a,c,d,e);F.$$addScopeClass(a);var h=null;return function(b,c,d){eb(b,"scope"),d=d||{};var e=d.parentBoundTranscludeFn,f=d.transcludeControllers,i=d.futureParentElement;e&&e.$$boundTransclude&&(e=e.$$boundTransclude),h||(h=G(i));var j;if(j="html"!==h?$d($(h,$d("<div>").append(a).html())):c?Je.clone.call(a):a,f)for(var k in f)j.data("$"+k+"Controller",f[k].instance);return F.$$addScopeInfo(j,b),c&&c(j,b),g&&g(b,j,j,e),j}}function G(a){var b=a&&a[0];return b&&"foreignobject"!==I(b)&&b.toString().match(/SVG/)?"svg":"html"}function H(a,b,d,e,f,g){function h(a,d,e,f){var g,h,i,j,k,l,m,n,q;if(o){var r=d.length;for(q=new Array(r),k=0;k<p.length;k+=3)m=p[k],q[m]=d[m]}else q=d;for(k=0,l=p.length;l>k;)i=q[p[k++]],g=p[k++],h=p[k++],g?(g.scope?(j=a.$new(),F.$$addScopeInfo($d(i),j)):j=a,n=g.transcludeOnThisElement?K(a,g.transclude,f,g.elementTranscludeOnThisElement):!g.templateOnThisElement&&f?f:!f&&b?K(a,b):null,g(h,j,i,e,n)):h&&h(a,i.childNodes,c,f)}for(var i,j,k,l,m,n,o,p=[],q=0;q<a.length;q++)i=new gb,j=L(a[q],[],i,0===q?e:c,f),k=j.length?Q(j,a[q],i,b,d,null,[],[],g):null,k&&k.scope&&F.$$addScopeClass(i.$$element),m=k&&k.terminal||!(l=a[q].childNodes)||!l.length?null:H(l,k?(k.transcludeOnThisElement||!k.templateOnThisElement)&&k.transclude:b),(k||m)&&(p.push(q,k,m),n=!0,o=o||k),g=null;return n?h:null}function K(a,b,c){var d=function(d,e,f,g,h){return d||(d=a.$new(!1,h),d.$$transcluded=!0),b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})};return d}function L(a,b,c,d,e){var f,g,h=a.nodeType,i=c.$attr;switch(h){case qe:S(b,$b(I(a)),"E",d,e);for(var l,m,n,o,p,q,r=a.attributes,s=0,t=r&&r.length;t>s;s++){var v=!1,w=!1;l=r[s],m=l.name,p=ke(l.value),o=$b(m),(q=lb.test(o))&&(m=m.replace(Ve,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()}));var x=o.replace(/(Start|End)$/,"");U(x)&&o===x+"Start"&&(v=m,w=m.substr(0,m.length-5)+"end",m=m.substr(0,m.length-6)),n=$b(m.toLowerCase()),i[n]=m,(q||!c.hasOwnProperty(n))&&(c[n]=p,Kb(a,n)&&(c[n]=!0)),ab(a,b,p,n,q),S(b,n,"A",d,e,v,w)}if(g=a.className,u(g)&&""!==g)for(;f=k.exec(g);)n=$b(f[2]),S(b,n,"C",d,e)&&(c[n]=ke(f[3])),g=g.substr(f.index+f[0].length);break;case re:Z(b,a.nodeValue);break;case se:try{f=j.exec(a.nodeValue),f&&(n=$b(f[1]),S(b,n,"M",d,e)&&(c[n]=ke(f[2])))}catch(y){}}return b.sort(X),b}function N(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw Ue("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",b,c);a.nodeType==qe&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(e>0)}else d.push(a);return $d(d)}function P(a,b,c){return function(d,e,f,g,h){return e=N(e[0],b,c),a(d,e,f,g,h)}}function Q(a,g,h,i,j,k,l,m,n){function o(a,b,c,d){a&&(c&&(a=P(a,c,d)),a.require=z.require,a.directiveName=B,(I===z||z.$$isolateScope)&&(a=db(a,{isolateScope:!0})),l.push(a)),b&&(c&&(b=P(b,c,d)),b.require=z.require,b.directiveName=B,(I===z||z.$$isolateScope)&&(b=db(b,{isolateScope:!0})),m.push(b))}function p(a,b,c,d){var e,g,h="data",i=!1,j=c;if(u(b)){if(g=b.match(r),b=b.substring(g[0].length),g[3]&&(g[1]?g[3]=null:g[1]=g[3]),"^"===g[1]?h="inheritedData":"^^"===g[1]&&(h="inheritedData",j=c.parent()),"?"===g[2]&&(i=!0),e=null,d&&"data"===h&&(e=d[b])&&(e=e.instance),e=e||j[h]("$"+b+"Controller"),!e&&!i)throw Ue("ctreq","Controller '{0}', required by directive '{1}', can't be found!",b,a);return e||null}return je(b)&&(e=[],f(b,function(b){e.push(p(a,b,c,d))})),e}function v(a,b,e,i,j){function k(a,b,d){var e;return A(a)||(d=b,b=a,a=c),U&&(e=v),d||(d=U?x.parent():x),j(a,b,e,d,D)}var n,o,r,t,u,v,w,x,z;if(g===e?(z=h,x=h.$$element):(x=$d(e),z=new gb(x,h)),I&&(u=b.$new(!0)),j&&(w=k,w.$$boundTransclude=j),H&&(y={},v={},f(H,function(a){var c,d={$scope:a===I||a.$$isolateScope?u:b,$element:x,$attrs:z,$transclude:w};t=a.controller,"@"==t&&(t=z[a.name]),c=s(t,d,!0,a.controllerAs),v[a.name]=c,U||x.data("$"+a.name+"Controller",c.instance),y[a.name]=c})),I){F.$$addScopeInfo(x,u,!0,!(J&&(J===I||J===I.$$originalDirective))),F.$$addScopeClass(x,!0);var B=y&&y[I.name],C=u;B&&B.identifier&&I.bindToController===!0&&(C=B.instance),f(u.$$isolateBindings=I.$$isolateBindings,function(a,c){var e,f,g,h,i=a.attrName,j=a.optional,k=a.mode;switch(k){case"@":z.$observe(i,function(a){C[c]=a}),z.$$observers[i].$$scope=b,z[i]&&(C[c]=d(z[i])(b));break;case"=":if(j&&!z[i])return;f=q(z[i]),h=f.literal?M:function(a,b){return a===b||a!==a&&b!==b},g=f.assign||function(){throw e=C[c]=f(b),Ue("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",z[i],I.name)},e=C[c]=f(b);var l=function(a){return h(a,C[c])||(h(a,e)?g(b,a=C[c]):C[c]=a),e=a};l.$stateful=!0;var m;m=a.collection?b.$watchCollection(z[i],l):b.$watch(q(z[i],l),null,f.literal),u.$on("$destroy",m);break;case"&":f=q(z[i]),C[c]=function(a){return f(b,a)}}})}for(y&&(f(y,function(a){a()}),y=null),n=0,o=l.length;o>n;n++)r=l[n],fb(r,r.isolateScope?u:b,x,z,r.require&&p(r.directiveName,r.require,x,v),w);var D=b;for(I&&(I.template||null===I.templateUrl)&&(D=u),a&&a(D,e.childNodes,c,j),n=m.length-1;n>=0;n--)r=m[n],fb(r,r.isolateScope?u:b,x,z,r.require&&p(r.directiveName,r.require,x,v),w)}n=n||{};for(var w,y,z,B,C,D,E,G=-Number.MAX_VALUE,H=n.controllerDirectives,I=n.newIsolateScopeDirective,J=n.templateDirective,K=n.nonTlbTranscludeDirective,Q=!1,S=!1,U=n.hasElementTranscludeDirective,X=h.$$element=$d(g),Z=k,_=i,ab=0,cb=a.length;cb>ab;ab++){z=a[ab];var eb=z.$$start,hb=z.$$end;if(eb&&(X=N(g,eb,hb)),C=c,G>z.priority)break;if((E=z.scope)&&(z.templateUrl||(t(E)?(Y("new/isolated scope",I||w,z,X),I=z):Y("new/isolated scope",I,z,X)),w=w||z),B=z.name,!z.templateUrl&&z.controller&&(E=z.controller,H=H||{},Y("'"+B+"' controller",H[B],z,X),H[B]=z),(E=z.transclude)&&(Q=!0,z.$$tlb||(Y("transclusion",K,z,X),K=z),"element"==E?(U=!0,G=z.priority,C=X,X=h.$$element=$d(b.createComment(" "+B+": "+h[B]+" ")),g=X[0],bb(j,O(C),g),_=F(C,i,G,Z&&Z.name,{nonTlbTranscludeDirective:K})):(C=$d(vb(g)).contents(),X.empty(),_=F(C,i))),z.template)if(S=!0,Y("template",J,z,X),J=z,E=x(z.template)?z.template(X,h):z.template,E=kb(E),z.replace){if(Z=z,C=qb(E)?[]:ac($(z.templateNamespace,ke(E))),g=C[0],1!=C.length||g.nodeType!==qe)throw Ue("tplrt","Template for directive '{0}' must have exactly one root element. {1}",B,"");bb(j,X,g);var ib={$attr:{}},jb=L(g,[],ib),lb=a.splice(ab+1,a.length-(ab+1));I&&R(jb),a=a.concat(jb).concat(lb),V(h,ib),cb=a.length}else X.html(E);if(z.templateUrl)S=!0,Y("template",J,z,X),J=z,z.replace&&(Z=z),v=W(a.splice(ab,a.length-ab),X,h,j,Q&&_,l,m,{controllerDirectives:H,newIsolateScopeDirective:I,templateDirective:J,nonTlbTranscludeDirective:K}),cb=a.length;else if(z.compile)try{D=z.compile(X,h,_),x(D)?o(null,D,eb,hb):D&&o(D.pre,D.post,eb,hb)}catch(mb){e(mb,T(X))}z.terminal&&(v.terminal=!0,G=Math.max(G,z.priority))}return v.scope=w&&w.scope===!0,v.transcludeOnThisElement=Q,v.elementTranscludeOnThisElement=U,v.templateOnThisElement=S,v.transclude=_,n.hasElementTranscludeDirective=U,v}function R(a){for(var b=0,c=a.length;c>b;b++)a[b]=n(a[b],{$$isolateScope:!0})}function S(b,d,f,i,j,k,l){if(d===j)return null;var m=null;if(g.hasOwnProperty(d))for(var o,p=a.get(d+h),q=0,r=p.length;r>q;q++)try{o=p[q],(i===c||i>o.priority)&&-1!=o.restrict.indexOf(f)&&(k&&(o=n(o,{$$start:k,$$end:l})),b.push(o),m=o)}catch(s){e(s)}return m}function U(b){if(g.hasOwnProperty(b))for(var c,d=a.get(b+h),e=0,f=d.length;f>e;e++)if(c=d[e],c.multiElement)return!0;
return!1}function V(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;f(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),f(b,function(b,f){"class"==f?(E(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function W(a,b,c,d,e,g,h,j){var k,m,n=[],o=b[0],p=a.shift(),q=l({},p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),r=x(p.templateUrl)?p.templateUrl(b,c):p.templateUrl,s=p.templateNamespace;return b.empty(),i(B.getTrustedResourceUrl(r)).then(function(i){var l,u,v,w;if(i=kb(i),p.replace){if(v=qb(i)?[]:ac($(s,ke(i))),l=v[0],1!=v.length||l.nodeType!==qe)throw Ue("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p.name,r);u={$attr:{}},bb(d,b,l);var x=L(l,[],u);t(p.scope)&&R(x),a=x.concat(a),V(c,u)}else l=o,b.html(i);for(a.unshift(q),k=Q(a,l,c,e,b,p,g,h,j),f(d,function(a,c){a==l&&(d[c]=b[0])}),m=H(b[0].childNodes,e);n.length;){var y=n.shift(),z=n.shift(),A=n.shift(),B=n.shift(),C=b[0];if(!y.$$destroyed){if(z!==o){var D=z.className;j.hasElementTranscludeDirective&&p.replace||(C=vb(l)),bb(A,$d(z),C),E($d(C),D)}w=k.transcludeOnThisElement?K(y,k.transclude,B):B,k(m,y,C,d,w)}}n=null}),function(a,b,c,d,e){var f=e;b.$$destroyed||(n?n.push(b,c,d,f):(k.transcludeOnThisElement&&(f=K(b,k.transclude,e)),k(m,b,c,d,f)))}}function X(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function Y(a,b,c,d){if(b)throw Ue("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",b.name,c.name,a,T(d))}function Z(a,b){var c=d(b,!0);c&&a.push({priority:0,compile:function(a){var b=a.parent(),d=!!b.length;return d&&F.$$addBindingClass(b),function(a,b){var e=b.parent();d||F.$$addBindingClass(e),F.$$addBindingInfo(e,c.expressions),a.$watch(c,function(a){b[0].nodeValue=a})}}})}function $(a,c){switch(a=Ud(a||"html")){case"svg":case"math":var d=b.createElement("div");return d.innerHTML="<"+a+">"+c+"</"+a+">",d.childNodes[0].childNodes;default:return c}}function _(a,b){if("srcdoc"==b)return B.HTML;var c=I(a);return"xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b)?B.RESOURCE_URL:void 0}function ab(a,b,c,e,f){var g=_(a,e);f=m[e]||f;var h=d(c,!0,g,f);if(h){if("multiple"===e&&"select"===I(a))throw Ue("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",T(a));b.push({priority:100,compile:function(){return{pre:function(a,b,i){var j=i.$$observers||(i.$$observers={});if(v.test(e))throw Ue("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var k=i[e];k!==c&&(h=k&&d(k,!0,g,f),c=k),h&&(i[e]=h(a),(j[e]||(j[e]=[])).$$inter=!0,(i.$$observers&&i.$$observers[e].$$scope||a).$watch(h,function(a,b){"class"===e&&a!=b?i.$updateClass(a,b):i.$set(e,a)}))}}}})}}function bb(a,c,d){var e,f,g=c[0],h=c.length,i=g.parentNode;if(a)for(e=0,f=a.length;f>e;e++)if(a[e]==g){a[e++]=d;for(var j=e,k=j+h-1,l=a.length;l>j;j++,k++)l>k?a[j]=a[k]:delete a[j];a.length-=h-1,a.context===g&&(a.context=d);break}i&&i.replaceChild(d,g);var m=b.createDocumentFragment();m.appendChild(g),$d(d).data($d(g).data()),_d?(ie=!0,_d.cleanData([g])):delete $d.cache[g[$d.expando]];for(var n=1,o=c.length;o>n;n++){var p=c[n];$d(p).remove(),m.appendChild(p),delete c[n]}c[0]=d,c.length=1}function db(a,b){return l(function(){return a.apply(null,arguments)},a,b)}function fb(a,b,c,d,f,g){try{a(b,c,d,f,g)}catch(h){e(h,T(c))}}var gb=function(a,b){if(b){var c,d,e,f=Object.keys(b);for(c=0,d=f.length;d>c;c++)e=f[c],this[e]=b[e]}else this.$attr={};this.$$element=a};gb.prototype={$normalize:$b,$addClass:function(a){a&&a.length>0&&C.addClass(this.$$element,a)},$removeClass:function(a){a&&a.length>0&&C.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=_b(a,b);c&&c.length&&C.addClass(this.$$element,c);var d=_b(b,a);d&&d.length&&C.removeClass(this.$$element,d)},$set:function(a,b,d,g){var h,i=this.$$element[0],j=Kb(i,a),k=Lb(i,a),l=a;if(j?(this.$$element.prop(a,b),g=j):k&&(this[k]=b,l=k),this[a]=b,g?this.$attr[a]=g:(g=this.$attr[a],g||(this.$attr[a]=g=cb(a,"-"))),h=I(this.$$element),"a"===h&&"href"===a||"img"===h&&"src"===a)this[a]=b=D(b,"src"===a);else if("img"===h&&"srcset"===a){for(var m="",n=ke(b),o=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,p=/\s/.test(n)?o:/(,)/,q=n.split(p),r=Math.floor(q.length/2),s=0;r>s;s++){var t=2*s;m+=D(ke(q[t]),!0),m+=" "+ke(q[t+1])}var u=ke(q[2*s]).split(/\s/);m+=D(ke(u[0]),!0),2===u.length&&(m+=" "+ke(u[1])),this[a]=b=m}d!==!1&&(null===b||b===c?this.$$element.removeAttr(g):this.$$element.attr(g,b));var v=this.$$observers;v&&f(v[l],function(a){try{a(b)}catch(c){e(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=jb()),e=d[a]||(d[a]=[]);return e.push(b),y.$evalAsync(function(){!e.$$inter&&c.hasOwnProperty(a)&&b(c[a])}),function(){J(e,b)}}};var hb=d.startSymbol(),ib=d.endSymbol(),kb="{{"==hb||"}}"==ib?p:function(a){return a.replace(/\{\{/g,hb).replace(/}}/g,ib)},lb=/^ngAttr[A-Z]/;return F.$$addBindingInfo=w?function(a,b){var c=a.data("$binding")||[];je(b)?c=c.concat(b):c.push(b),a.data("$binding",c)}:o,F.$$addBindingClass=w?function(a){E(a,"ng-binding")}:o,F.$$addScopeInfo=w?function(a,b,c,d){var e=c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope";a.data(e,b)}:o,F.$$addScopeClass=w?function(a,b){E(a,b?"ng-isolate-scope":"ng-scope")}:o,F}]}function $b(a){return pb(a.replace(Ve,""))}function _b(a,b){var c="",d=a.split(/\s+/),e=b.split(/\s+/);a:for(var f=0;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(c.length>0?" ":"")+g}return c}function ac(a){a=$d(a);var b=a.length;if(1>=b)return a;for(;b--;){var c=a[b];c.nodeType===se&&ce.call(a,b,1)}return a}function bc(){var a={},b=!1,e=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(b,c){gb(b,"controller"),t(b)?l(a,b):a[b]=c},this.allowGlobals=function(){b=!0},this.$get=["$injector","$window",function(f,g){function h(a,b,c,e){if(!a||!t(a.$scope))throw d("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",e,b);a.$scope[b]=c}return function(d,i,j,k){var m,n,o,p;if(j=j===!0,k&&u(k)&&(p=k),u(d)&&(n=d.match(e),o=n[1],p=p||n[3],d=a.hasOwnProperty(o)?a[o]:hb(i.$scope,o,!0)||(b?hb(g,o,!0):c),fb(d,o,!0)),j){var q=(je(d)?d[d.length-1]:d).prototype;return m=Object.create(q),p&&h(i,p,m,o||d.name),l(function(){return f.invoke(d,m,i,o),m},{instance:m,identifier:p})}return m=f.instantiate(d,i,o),p&&h(i,p,m,o||d.name),m}}]}function cc(){this.$get=["$window",function(a){return $d(a.document)}]}function dc(){this.$get=["$log",function(a){return function(){a.error.apply(a,arguments)}}]}function ec(a,b){if(u(a)){var c=a.replace($e,"").trim();if(c){var d=b("Content-Type");(d&&0===d.indexOf(We)||fc(c))&&(a=S(c))}}return a}function fc(a){var b=a.match(Ye);return b&&Ze[b[0]].test(a)}function gc(a){var b,c,d,e=jb();return a?(f(a.split("\n"),function(a){d=a.indexOf(":"),b=Ud(ke(a.substr(0,d))),c=ke(a.substr(d+1)),b&&(e[b]=e[b]?e[b]+", "+c:c)}),e):e}function hc(a){var b=t(a)?a:c;return function(c){if(b||(b=gc(a)),c){var d=b[Ud(c)];return void 0===d&&(d=null),d}return b}}function ic(a,b,c,d){return x(d)?d(a,b,c):(f(d,function(d){a=d(a,b,c)}),a)}function jc(a){return a>=200&&300>a}function kc(){var a=this.defaults={transformResponse:[ec],transformRequest:[function(a){return!t(a)||B(a)||D(a)||C(a)?a:R(a)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:L(Xe),put:L(Xe),patch:L(Xe)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},b=!1;this.useApplyAsync=function(a){return s(a)?(b=!!a,this):b};var e=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(g,i,j,k,m,n){function o(b){function e(a){var b=l({},a);return b.data=a.data?ic(a.data,a.headers,a.status,i.transformResponse):a.data,jc(a.status)?b:m.reject(b)}function g(a){var b,c={};return f(a,function(a,d){x(a)?(b=a(),null!=b&&(c[d]=b)):c[d]=a}),c}function h(b){var c,d,e,f=a.headers,h=l({},b.headers);f=l({},f.common,f[Ud(b.method)]);a:for(c in f){d=Ud(c);for(e in h)if(Ud(e)===d)continue a;h[c]=f[c]}return g(h)}if(!ge.isObject(b))throw d("$http")("badreq","Http request configuration must be an object.  Received: {0}",b);var i=l({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse},b);i.headers=h(b),i.method=Wd(i.method);var j=function(b){var d=b.headers,g=ic(b.data,hc(d),c,b.transformRequest);return r(g)&&f(d,function(a,b){"content-type"===Ud(b)&&delete d[b]}),r(b.withCredentials)&&!r(a.withCredentials)&&(b.withCredentials=a.withCredentials),v(b,g).then(e,e)},k=[j,c],n=m.when(i);for(f(A,function(a){(a.request||a.requestError)&&k.unshift(a.request,a.requestError),(a.response||a.responseError)&&k.push(a.response,a.responseError)});k.length;){var o=k.shift(),p=k.shift();n=n.then(o,p)}return n.success=function(a){return n.then(function(b){a(b.data,b.status,b.headers,i)}),n},n.error=function(a){return n.then(null,function(b){a(b.data,b.status,b.headers,i)}),n},n}function p(){f(arguments,function(a){o[a]=function(b,c){return o(l(c||{},{method:a,url:b}))}})}function q(){f(arguments,function(a){o[a]=function(b,c,d){return o(l(d||{},{method:a,url:b,data:c}))}})}function v(d,e){function f(a,c,d,e){function f(){h(c,a,d,e)}n&&(jc(a)?n.put(w,[a,c,gc(d),e]):n.remove(w)),b?k.$applyAsync(f):(f(),k.$$phase||k.$apply())}function h(a,b,c,e){b=Math.max(b,0),(jc(b)?q.resolve:q.reject)({data:a,status:b,headers:hc(c),config:d,statusText:e})}function j(a){h(a.data,a.status,L(a.headers()),a.statusText)}function l(){var a=o.pendingRequests.indexOf(d);-1!==a&&o.pendingRequests.splice(a,1)}var n,p,q=m.defer(),u=q.promise,v=d.headers,w=y(d.url,d.params);if(o.pendingRequests.push(d),u.then(l,l),!d.cache&&!a.cache||d.cache===!1||"GET"!==d.method&&"JSONP"!==d.method||(n=t(d.cache)?d.cache:t(a.cache)?a.cache:z),n&&(p=n.get(w),s(p)?F(p)?p.then(j,j):je(p)?h(p[1],p[0],L(p[2]),p[3]):h(p,200,{},"OK"):n.put(w,u)),r(p)){var x=ed(d.url)?i.cookies()[d.xsrfCookieName||a.xsrfCookieName]:c;x&&(v[d.xsrfHeaderName||a.xsrfHeaderName]=x),g(d.method,w,e,f,v,d.timeout,d.withCredentials,d.responseType)}return u}function y(a,b){if(!b)return a;var c=[];return h(b,function(a,b){null===a||r(a)||(je(a)||(a=[a]),f(a,function(a){t(a)&&(a=w(a)?a.toISOString():R(a)),c.push(Y(b)+"="+Y(a))}))}),c.length>0&&(a+=(-1==a.indexOf("?")?"?":"&")+c.join("&")),a}var z=j("$http"),A=[];return f(e,function(a){A.unshift(u(a)?n.get(a):n.invoke(a))}),o.pendingRequests=[],p("get","delete","head","jsonp"),q("post","put","patch"),o.defaults=a,o}]}function lc(){return new a.XMLHttpRequest}function mc(){this.$get=["$browser","$window","$document",function(a,b,c){return nc(a,lc,a.defer,b.angular.callbacks,c[0])}]}function nc(a,b,d,e,g){function h(a,b,c){var d=g.createElement("script"),f=null;return d.type="text/javascript",d.src=a,d.async=!0,f=function(a){ze(d,"load",f),ze(d,"error",f),g.body.removeChild(d),d=null;var h=-1,i="unknown";a&&("load"!==a.type||e[b].called||(a={type:"error"}),i=a.type,h="error"===a.type?404:200),c&&c(h,i)},ye(d,"load",f),ye(d,"error",f),g.body.appendChild(d),f}return function(g,i,j,k,l,m,n,p){function q(){u&&u(),v&&v.abort()}function r(b,e,f,g,h){y!==c&&d.cancel(y),u=v=null,b(e,f,g,h),a.$$completeOutstandingRequest(o)}if(a.$$incOutstandingRequestCount(),i=i||a.url(),"jsonp"==Ud(g)){var t="_"+(e.counter++).toString(36);e[t]=function(a){e[t].data=a,e[t].called=!0};var u=h(i.replace("JSON_CALLBACK","angular.callbacks."+t),t,function(a,b){r(k,a,e[t].data,"",b),e[t]=o})}else{var v=b();v.open(g,i,!0),f(l,function(a,b){s(a)&&v.setRequestHeader(b,a)}),v.onload=function(){var a=v.statusText||"",b="response"in v?v.response:v.responseText,c=1223===v.status?204:v.status;0===c&&(c=b?200:"file"==dd(i).protocol?404:0),r(k,c,b,v.getAllResponseHeaders(),a)};var w=function(){r(k,-1,null,null,"")};if(v.onerror=w,v.onabort=w,n&&(v.withCredentials=!0),p)try{v.responseType=p}catch(x){if("json"!==p)throw x}v.send(j||null)}if(m>0)var y=d(q,m);else F(m)&&m.then(q)}}function oc(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(a){return"\\\\\\"+a}function g(f,g,m,n){function o(c){return c.replace(j,a).replace(k,b)}function p(a){try{return a=D(a),n&&!s(a)?a:E(a)}catch(b){var c=_e("interr","Can't interpolate: {0}\n{1}",f,b.toString());d(c)}}n=!!n;for(var q,t,u,v=0,w=[],y=[],z=f.length,A=[],B=[];z>v;){if(-1==(q=f.indexOf(a,v))||-1==(t=f.indexOf(b,q+h))){v!==z&&A.push(o(f.substring(v)));break}v!==q&&A.push(o(f.substring(v,q))),u=f.substring(q+h,t),w.push(u),y.push(c(u,p)),v=t+i,B.push(A.length),A.push("")}if(m&&A.length>1)throw _e("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",f);if(!g||w.length){var C=function(a){for(var b=0,c=w.length;c>b;b++){if(n&&r(a[b]))return;A[B[b]]=a[b]}return A.join("")},D=function(a){return m?e.getTrusted(m,a):e.valueOf(a)},E=function(a){if(null==a)return"";switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=R(a)}return a};return l(function(a){var b=0,c=w.length,e=new Array(c);try{for(;c>b;b++)e[b]=y[b](a);return C(e)}catch(g){var h=_e("interr","Can't interpolate: {0}\n{1}",f,g.toString());d(h)}},{exp:f,expressions:w,$$watchDelegate:function(a,b,c){var d;return a.$watchGroup(y,function(c,e){var f=C(c);x(b)&&b.call(this,f,c!==e?d:f,a),d=f},c)}})}}var h=a.length,i=b.length,j=new RegExp(a.replace(/./g,f),"g"),k=new RegExp(b.replace(/./g,f),"g");return g.startSymbol=function(){return a},g.endSymbol=function(){return b},g}]}function pc(){this.$get=["$rootScope","$window","$q","$$q",function(a,b,c,d){function e(e,g,h,i){var j=b.setInterval,k=b.clearInterval,l=0,m=s(i)&&!i,n=(m?d:c).defer(),o=n.promise;return h=s(h)?h:0,o.then(null,null,e),o.$$intervalId=j(function(){n.notify(l++),h>0&&l>=h&&(n.resolve(l),k(o.$$intervalId),delete f[o.$$intervalId]),m||a.$apply()},g),f[o.$$intervalId]=n,o}var f={};return e.cancel=function(a){return a&&a.$$intervalId in f?(f[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete f[a.$$intervalId],!0):!1},e}]}function qc(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(a){return 1===a?"one":"other"}}}}function rc(a){for(var b=a.split("/"),c=b.length;c--;)b[c]=X(b[c]);return b.join("/")}function sc(a,b){var c=dd(a);b.$$protocol=c.protocol,b.$$host=c.hostname,b.$$port=m(c.port)||bf[c.protocol]||null}function tc(a,b){var c="/"!==a.charAt(0);c&&(a="/"+a);var d=dd(a);b.$$path=decodeURIComponent(c&&"/"===d.pathname.charAt(0)?d.pathname.substring(1):d.pathname),b.$$search=V(d.search),b.$$hash=decodeURIComponent(d.hash),b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function uc(a,b){return 0===b.indexOf(a)?b.substr(a.length):void 0}function vc(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function wc(a){return a.replace(/(#.+)|#$/,"$1")}function xc(a){return a.substr(0,vc(a).lastIndexOf("/")+1)}function yc(a){return a.substring(0,a.indexOf("/",a.indexOf("//")+2))}function zc(a,b){this.$$html5=!0,b=b||"";var d=xc(a);sc(a,this),this.$$parse=function(a){var b=uc(d,a);if(!u(b))throw cf("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',a,d);tc(b,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=W(this.$$search),b=this.$$hash?"#"+X(this.$$hash):"";this.$$url=rc(this.$$path)+(a?"?"+a:"")+b,this.$$absUrl=d+this.$$url.substr(1)},this.$$parseLinkUrl=function(e,f){if(f&&"#"===f[0])return this.hash(f.slice(1)),!0;var g,h,i;return(g=uc(a,e))!==c?(h=g,i=(g=uc(b,g))!==c?d+(uc("/",g)||g):a+h):(g=uc(d,e))!==c?i=d+g:d==e+"/"&&(i=d),i&&this.$$parse(i),!!i}}function Ac(a,b){var c=xc(a);sc(a,this),this.$$parse=function(d){function e(a,b,c){var d,e=/^\/[A-Z]:(\/.*)/;return 0===b.indexOf(c)&&(b=b.replace(c,"")),e.exec(b)?a:(d=e.exec(a),d?d[1]:a)}var f,g=uc(a,d)||uc(c,d);"#"===g.charAt(0)?(f=uc(b,g),r(f)&&(f=g)):f=this.$$html5?g:"",tc(f,this),this.$$path=e(this.$$path,f,a),this.$$compose()},this.$$compose=function(){var c=W(this.$$search),d=this.$$hash?"#"+X(this.$$hash):"";this.$$url=rc(this.$$path)+(c?"?"+c:"")+d,this.$$absUrl=a+(this.$$url?b+this.$$url:"")},this.$$parseLinkUrl=function(b){return vc(a)==vc(b)?(this.$$parse(b),!0):!1}}function Bc(a,b){this.$$html5=!0,Ac.apply(this,arguments);var c=xc(a);this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return a==vc(d)?f=d:(g=uc(c,d))?f=a+b+g:c===d+"/"&&(f=c),f&&this.$$parse(f),!!f},this.$$compose=function(){var c=W(this.$$search),d=this.$$hash?"#"+X(this.$$hash):"";this.$$url=rc(this.$$path)+(c?"?"+c:"")+d,this.$$absUrl=a+b+this.$$url}}function Cc(a){return function(){return this[a]}}function Dc(a,b){return function(c){return r(c)?this[a]:(this[a]=b(c),this.$$compose(),this)}}function Ec(){var a="",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return s(b)?(a=b,this):a},this.html5Mode=function(a){return E(a)?(b.enabled=a,this):t(a)?(E(a.enabled)&&(b.enabled=a.enabled),E(a.requireBase)&&(b.requireBase=a.requireBase),E(a.rewriteLinks)&&(b.rewriteLinks=a.rewriteLinks),this):b},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){function h(a,b,c){var e=j.url(),f=j.$$state;try{d.url(a,b,c),j.$$state=d.state()}catch(g){throw j.url(e),j.$$state=f,g}}function i(a,b){c.$broadcast("$locationChangeSuccess",j.absUrl(),a,j.$$state,b)}var j,k,l,m=d.baseHref(),n=d.url();if(b.enabled){if(!m&&b.requireBase)throw cf("nobase","$location in HTML5 mode requires a <base> tag to be present!");l=yc(n)+(m||"/"),k=e.history?zc:Bc}else l=vc(n),k=Ac;j=new k(l,"#"+a),j.$$parseLinkUrl(n,n),j.$$state=d.state();var o=/^\s*(javascript|mailto):/i;f.on("click",function(a){if(b.rewriteLinks&&!a.ctrlKey&&!a.metaKey&&2!=a.which){for(var e=$d(a.target);"a"!==I(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop("href"),i=e.attr("href")||e.attr("xlink:href");t(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=dd(h.animVal).href),o.test(h)||!h||e.attr("target")||a.isDefaultPrevented()||j.$$parseLinkUrl(h,i)&&(a.preventDefault(),j.absUrl()!=d.url()&&(c.$apply(),g.angular["ff-684208-preventDefault"]=!0))}}),j.absUrl()!=n&&d.url(j.absUrl(),!0);var p=!0;return d.onUrlChange(function(a,b){c.$evalAsync(function(){var d,e=j.absUrl(),f=j.$$state;j.$$parse(a),j.$$state=b,d=c.$broadcast("$locationChangeStart",a,e,b,f).defaultPrevented,j.absUrl()===a&&(d?(j.$$parse(e),j.$$state=f,h(e,!1,f)):(p=!1,i(e,f)))}),c.$$phase||c.$digest()}),c.$watch(function(){var a=wc(d.url()),b=wc(j.absUrl()),f=d.state(),g=j.$$replace,k=a!==b||j.$$html5&&e.history&&f!==j.$$state;(p||k)&&(p=!1,c.$evalAsync(function(){var b=j.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,j.$$state,f).defaultPrevented;j.absUrl()===b&&(d?(j.$$parse(a),j.$$state=f):(k&&h(b,g,f===j.$$state?null:j.$$state),i(a,f)))})),j.$$replace=!1}),j}]}function Fc(){var a=!0,b=this;this.debugEnabled=function(b){return s(b)?(a=b,this):a},this.$get=["$window",function(c){function d(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function e(a){var b=c.console||{},e=b[a]||b.log||o,g=!1;try{g=!!e.apply}catch(h){}return g?function(){var a=[];return f(arguments,function(b){a.push(d(b))}),e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function Gc(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw ef("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",b);return a}function Hc(a,b){if(a){if(a.constructor===a)throw ef("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a.window===a)throw ef("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw ef("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",b);if(a===Object)throw ef("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",b)}return a}function Ic(a,b){if(a){if(a.constructor===a)throw ef("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a===ff||a===gf||a===hf)throw ef("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",b)}}function Jc(a){return a.constant}function Kc(a,b,c,d){Hc(a,d);for(var e,f=b.split("."),g=0;f.length>1;g++){e=Gc(f.shift(),d);var h=Hc(a[e],d);h||(h={},a[e]=h),a=h}return e=Gc(f.shift(),d),Hc(a[e],d),a[e]=c,c}function Lc(a){return"constructor"==a}function Mc(a,b,d,e,f,g,h){Gc(a,g),Gc(b,g),Gc(d,g),Gc(e,g),Gc(f,g);var i=function(a){return Hc(a,g)},j=h||Lc(a)?i:p,k=h||Lc(b)?i:p,l=h||Lc(d)?i:p,m=h||Lc(e)?i:p,n=h||Lc(f)?i:p;return function(g,h){var i=h&&h.hasOwnProperty(a)?h:g;return null==i?i:(i=j(i[a]),b?null==i?c:(i=k(i[b]),d?null==i?c:(i=l(i[d]),e?null==i?c:(i=m(i[e]),f?null==i?c:i=n(i[f]):i):i):i):i)}}function Nc(a,b){return function(c,d){return a(c,d,Hc,b)}}function Oc(a,b,d){var e=b.expensiveChecks,g=e?pf:of,h=g[a];if(h)return h;var i=a.split("."),j=i.length;if(b.csp)h=6>j?Mc(i[0],i[1],i[2],i[3],i[4],d,e):function(a,b){var f,g=0;do f=Mc(i[g++],i[g++],i[g++],i[g++],i[g++],d,e)(a,b),b=c,a=f;while(j>g);return f};else{var k="";e&&(k+="s = eso(s, fe);\nl = eso(l, fe);\n");var l=e;f(i,function(a,b){Gc(a,d);var c=(b?"s":'((l&&l.hasOwnProperty("'+a+'"))?l:s)')+"."+a;(e||Lc(a))&&(c="eso("+c+", fe)",l=!0),k+="if(s == null) return undefined;\ns="+c+";\n"}),k+="return s;";var m=new Function("s","l","eso","fe",k);m.toString=q(k),l&&(m=Nc(m,d)),h=m}return h.sharedGetter=!0,h.assign=function(b,c){return Kc(b,a,c,a)},g[a]=h,h}function Pc(a){return x(a.valueOf)?a.valueOf():qf.call(a)}function Qc(){var a=jb(),b=jb();this.$get=["$filter","$sniffer",function(c,d){function e(a){var b=a;return a.sharedGetter&&(b=function(b,c){return a(b,c)},b.literal=a.literal,b.constant=a.constant,b.assign=a.assign),b}function g(a,b){for(var c=0,d=a.length;d>c;c++){var e=a[c];e.constant||(e.inputs?g(e.inputs,b):-1===b.indexOf(e)&&b.push(e))}return b}function h(a,b){return null==a||null==b?a===b:"object"==typeof a&&(a=Pc(a),"object"==typeof a)?!1:a===b||a!==a&&b!==b}function i(a,b,c,d){var e,f=d.$$inputs||(d.$$inputs=g(d.inputs,[]));if(1===f.length){var i=h;return f=f[0],a.$watch(function(a){var b=f(a);return h(b,i)||(e=d(a),i=b&&Pc(b)),e},b,c)}for(var j=[],k=0,l=f.length;l>k;k++)j[k]=h;return a.$watch(function(a){for(var b=!1,c=0,g=f.length;g>c;c++){var i=f[c](a);(b||(b=!h(i,j[c])))&&(j[c]=i&&Pc(i))}return b&&(e=d(a)),e},b,c)}function j(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a,x(b)&&b.apply(this,arguments),s(a)&&d.$$postDigest(function(){s(f)&&e()})},c)}function k(a,b,c,d){function e(a){var b=!0;return f(a,function(a){s(a)||(b=!1)}),b}var g,h;return g=a.$watch(function(a){return d(a)},function(a,c,d){h=a,x(b)&&b.call(this,a,c,d),e(a)&&d.$$postDigest(function(){e(h)&&g()})},c)}function l(a,b,c,d){var e;return e=a.$watch(function(a){return d(a)},function(){x(b)&&b.apply(this,arguments),e()},c)}function m(a,b){if(!b)return a;var c=a.$$watchDelegate,d=c!==k&&c!==j,e=d?function(c,d){var e=a(c,d);return b(e,c,d)}:function(c,d){var e=a(c,d),f=b(e,c,d);return s(e)?f:e};return a.$$watchDelegate&&a.$$watchDelegate!==i?e.$$watchDelegate=a.$$watchDelegate:b.$stateful||(e.$$watchDelegate=i,e.inputs=[a]),e}var n={csp:d.csp,expensiveChecks:!1},p={csp:d.csp,expensiveChecks:!0};return function(d,f,g){var h,q,r;switch(typeof d){case"string":r=d=d.trim();var s=g?b:a;if(h=s[r],!h){":"===d.charAt(0)&&":"===d.charAt(1)&&(q=!0,d=d.substring(2));var t=g?p:n,u=new mf(t),v=new nf(u,c,t);h=v.parse(d),h.constant?h.$$watchDelegate=l:q?(h=e(h),h.$$watchDelegate=h.literal?k:j):h.inputs&&(h.$$watchDelegate=i),s[r]=h}return m(h,f);case"function":return m(d,f);default:return m(o,f)}}}]}function Rc(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return Tc(function(b){a.$evalAsync(b)},b)}]}function Sc(){this.$get=["$browser","$exceptionHandler",function(a,b){return Tc(function(b){a.defer(b)},b)}]}function Tc(a,b){function e(a,b,c){function d(b){return function(c){e||(e=!0,b.call(a,c))}}var e=!1;return[d(b),d(c)]}function g(){this.$$state={status:0}}function h(a,b){return function(c){b.call(a,c)}}function i(a){var d,e,f;f=a.pending,a.processScheduled=!1,a.pending=c;for(var g=0,h=f.length;h>g;++g){e=f[g][0],d=f[g][a.status];try{x(d)?e.resolve(d(a.value)):1===a.status?e.resolve(a.value):e.reject(a.value)}catch(i){e.reject(i),b(i)}}}function j(b){!b.processScheduled&&b.pending&&(b.processScheduled=!0,a(function(){i(b)}))}function k(){this.promise=new g,this.resolve=h(this,this.resolve),this.reject=h(this,this.reject),this.notify=h(this,this.notify)}function l(a){var b=new k,c=0,d=je(a)?[]:{};return f(a,function(a,e){c++,r(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})}),0===c&&b.resolve(d),b.promise}var m=d("$q",TypeError),n=function(){return new k};g.prototype={then:function(a,b,c){var d=new k;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([d,a,b,c]),this.$$state.status>0&&j(this.$$state),d.promise},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return q(b,!0,a)},function(b){return q(b,!1,a)},b)}},k.prototype={resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(m("qcycle","Expected promise to be resolved with value other than itself '{0}'",a)):this.$$resolve(a))},$$resolve:function(a){var c,d;d=e(this,this.$$resolve,this.$$reject);try{(t(a)||x(a))&&(c=a&&a.then),x(c)?(this.promise.$$state.status=-1,c.call(a,d[0],d[1],this.notify)):(this.promise.$$state.value=a,this.promise.$$state.status=1,j(this.promise.$$state))}catch(f){d[1](f),b(f)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a,this.promise.$$state.status=2,j(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;this.promise.$$state.status<=0&&d&&d.length&&a(function(){for(var a,e,f=0,g=d.length;g>f;f++){e=d[f][0],a=d[f][3];try{e.notify(x(a)?a(c):c)}catch(h){b(h)}}})}};var o=function(a){var b=new k;return b.reject(a),b.promise},p=function(a,b){var c=new k;return b?c.resolve(a):c.reject(a),c.promise},q=function(a,b,c){var d=null;try{x(c)&&(d=c())}catch(e){return p(e,!1)}return F(d)?d.then(function(){return p(a,b)},function(a){return p(a,!1)}):p(a,b)},r=function(a,b,c,d){var e=new k;return e.resolve(a),e.promise.then(b,c,d)},s=function u(a){function b(a){d.resolve(a)}function c(a){d.reject(a)}if(!x(a))throw m("norslvr","Expected resolverFn, got '{0}'",a);if(!(this instanceof u))return new u(a);var d=new k;return a(b,c),d.promise};return s.defer=n,s.reject=o,s.when=r,s.all=l,s}function Uc(){this.$get=["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame,d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function Vc(){var a=10,b=d("$rootScope"),c=null,g=null;this.digestTtl=function(b){return arguments.length&&(a=b),a},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(d,h,i,k){function l(){this.$id=j(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function m(a){if(v.$$phase)throw b("inprog","{0} already in progress",v.$$phase);v.$$phase=a}function n(){v.$$phase=null}function p(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function q(){}function s(){for(;z.length;)try{z.shift()()}catch(a){h(a)}g=null}function u(){null===g&&(g=k.defer(function(){v.$apply(s)}))}l.prototype={constructor:l,$new:function(a,b){function c(){d.$$destroyed=!0}var d;return b=b||this,a?(d=new l,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=j(),this.$$ChildScope=null},this.$$ChildScope.prototype=this),d=new this.$$ChildScope),d.$parent=b,d.$$prevSibling=b.$$childTail,b.$$childHead?(b.$$childTail.$$nextSibling=d,b.$$childTail=d):b.$$childHead=b.$$childTail=d,(a||b!=this)&&d.$on("$destroy",c),d},$watch:function(a,b,d){var e=i(a);if(e.$$watchDelegate)return e.$$watchDelegate(this,b,d,e);var f=this,g=f.$$watchers,h={fn:b,last:q,get:e,exp:a,eq:!!d};return c=null,x(b)||(h.fn=o),g||(g=f.$$watchers=[]),g.unshift(h),function(){J(g,h),c=null}},$watchGroup:function(a,b){function c(){i=!1,j?(j=!1,b(e,e,h)):b(e,d,h)}var d=new Array(a.length),e=new Array(a.length),g=[],h=this,i=!1,j=!0;if(!a.length){var k=!0;return h.$evalAsync(function(){k&&b(e,e,h)}),function(){k=!1}}return 1===a.length?this.$watch(a[0],function(a,c,f){e[0]=a,d[0]=c,b(e,a===c?e:d,f)}):(f(a,function(a,b){var f=h.$watch(a,function(a,f){e[b]=a,d[b]=f,i||(i=!0,h.$evalAsync(c))});g.push(f)}),function(){for(;g.length;)g.shift()()})},$watchCollection:function(a,b){function c(a){f=a;var b,c,d,h,i;if(!r(f)){if(t(f))if(e(f)){g!==n&&(g=n,q=g.length=0,l++),b=f.length,q!==b&&(l++,g.length=q=b);for(var j=0;b>j;j++)i=g[j],h=f[j],d=i!==i&&h!==h,d||i===h||(l++,g[j]=h)}else{g!==o&&(g=o={},q=0,l++),b=0;for(c in f)f.hasOwnProperty(c)&&(b++,h=f[c],i=g[c],c in g?(d=i!==i&&h!==h,d||i===h||(l++,g[c]=h)):(q++,g[c]=h,l++));if(q>b){l++;for(c in g)f.hasOwnProperty(c)||(q--,delete g[c])}}else g!==f&&(g=f,l++);return l}}function d(){if(p?(p=!1,b(f,f,j)):b(f,h,j),k)if(t(f))if(e(f)){h=new Array(f.length);for(var a=0;a<f.length;a++)h[a]=f[a]}else{h={};for(var c in f)Vd.call(f,c)&&(h[c]=f[c])}else h=f}c.$stateful=!0;var f,g,h,j=this,k=b.length>1,l=0,m=i(a,c),n=[],o={},p=!0,q=0;return this.$watch(m,d)},$digest:function(){var d,e,f,i,j,l,o,p,r,t,u=a,z=this,A=[];m("$digest"),k.$$checkUrlChange(),this===v&&null!==g&&(k.defer.cancel(g),s()),c=null;do{for(l=!1,p=z;w.length;){try{t=w.shift(),t.scope.$eval(t.expression,t.locals)}catch(B){h(B)}c=null}a:do{if(i=p.$$watchers)for(j=i.length;j--;)try{if(d=i[j])if((e=d.get(p))===(f=d.last)||(d.eq?M(e,f):"number"==typeof e&&"number"==typeof f&&isNaN(e)&&isNaN(f))){if(d===c){l=!1;break a}}else l=!0,c=d,d.last=d.eq?K(e,null):e,d.fn(e,f===q?e:f,p),5>u&&(r=4-u,A[r]||(A[r]=[]),A[r].push({msg:x(d.exp)?"fn: "+(d.exp.name||d.exp.toString()):d.exp,newVal:e,oldVal:f}))
}catch(B){h(B)}if(!(o=p.$$childHead||p!==z&&p.$$nextSibling))for(;p!==z&&!(o=p.$$nextSibling);)p=p.$parent}while(p=o);if((l||w.length)&&!u--)throw n(),b("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",a,A)}while(l||w.length);for(n();y.length;)try{y.shift()()}catch(B){h(B)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==v){for(var b in this.$$listenerCount)p(this,this.$$listenerCount[b],b);a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=o,this.$on=this.$watch=this.$watchGroup=function(){return o},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(a,b){return i(a)(this,b)},$evalAsync:function(a,b){v.$$phase||w.length||k.defer(function(){w.length&&v.$digest()}),w.push({scope:this,expression:a,locals:b})},$$postDigest:function(a){y.push(a)},$apply:function(a){try{return m("$apply"),this.$eval(a)}catch(b){h(b)}finally{n();try{v.$digest()}catch(b){throw h(b),b}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&z.push(b),u()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,p(e,1,a))}},$emit:function(a){var b,c,d,e=[],f=this,g=!1,i={name:a,targetScope:f,stopPropagation:function(){g=!0},preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1},j=N([i],arguments,1);do{for(b=f.$$listeners[a]||e,i.currentScope=f,c=0,d=b.length;d>c;c++)if(b[c])try{b[c].apply(null,j)}catch(k){h(k)}else b.splice(c,1),c--,d--;if(g)return i.currentScope=null,i;f=f.$parent}while(f);return i.currentScope=null,i},$broadcast:function(a){var b=this,c=b,d=b,e={name:a,targetScope:b,preventDefault:function(){e.defaultPrevented=!0},defaultPrevented:!1};if(!b.$$listenerCount[a])return e;for(var f,g,i,j=N([e],arguments,1);c=d;){for(e.currentScope=c,f=c.$$listeners[a]||[],g=0,i=f.length;i>g;g++)if(f[g])try{f[g].apply(null,j)}catch(k){h(k)}else f.splice(g,1),g--,i--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==b&&c.$$nextSibling))for(;c!==b&&!(d=c.$$nextSibling);)c=c.$parent}return e.currentScope=null,e}};var v=new l,w=v.$$asyncQueue=[],y=v.$$postDigestQueue=[],z=v.$$applyAsyncQueue=[];return v}]}function Wc(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return s(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return s(a)?(b=a,this):b},this.$get=function(){return function(c,d){var e,f=d?b:a;return e=dd(c).href,""===e||e.match(f)?c:"unsafe:"+e}}}function Xc(a){if("self"===a)return a;if(u(a)){if(a.indexOf("***")>-1)throw rf("iwcard","Illegal sequence *** in string matcher.  String: {0}",a);return a=le(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+a+"$")}if(y(a))return new RegExp("^"+a.source+"$");throw rf("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Yc(a){var b=[];return s(a)&&f(a,function(a){b.push(Xc(a))}),b}function Zc(){this.SCE_CONTEXTS=sf;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=Yc(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=Yc(a)),b},this.$get=["$injector",function(d){function e(a,b){return"self"===a?ed(b):!!a.exec(b.href)}function f(c){var d,f,g=dd(c.toString()),h=!1;for(d=0,f=a.length;f>d;d++)if(e(a[d],g)){h=!0;break}if(h)for(d=0,f=b.length;f>d;d++)if(e(b[d],g)){h=!1;break}return h}function g(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}function h(a,b){var d=m.hasOwnProperty(a)?m[a]:null;if(!d)throw rf("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",a,b);if(null===b||b===c||""===b)return b;if("string"!=typeof b)throw rf("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",a);return new d(b)}function i(a){return a instanceof l?a.$$unwrapTrustedValue():a}function j(a,b){if(null===b||b===c||""===b)return b;var d=m.hasOwnProperty(a)?m[a]:null;if(d&&b instanceof d)return b.$$unwrapTrustedValue();if(a===sf.RESOURCE_URL){if(f(b))return b;throw rf("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",b.toString())}if(a===sf.HTML)return k(b);throw rf("unsafe","Attempting to use an unsafe value in a safe context.")}var k=function(){throw rf("unsafe","Attempting to use an unsafe value in a safe context.")};d.has("$sanitize")&&(k=d.get("$sanitize"));var l=g(),m={};return m[sf.HTML]=g(l),m[sf.CSS]=g(l),m[sf.URL]=g(l),m[sf.JS]=g(l),m[sf.RESOURCE_URL]=g(m[sf.URL]),{trustAs:h,getTrusted:j,valueOf:i}}]}function $c(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sceDelegate",function(b,c){if(a&&8>Zd)throw rf("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var d=L(sf);d.isEnabled=function(){return a},d.trustAs=c.trustAs,d.getTrusted=c.getTrusted,d.valueOf=c.valueOf,a||(d.trustAs=d.getTrusted=function(a,b){return b},d.valueOf=p),d.parseAs=function(a,c){var e=b(c);return e.literal&&e.constant?e:b(c,function(b){return d.getTrusted(a,b)})};var e=d.parseAs,g=d.getTrusted,h=d.trustAs;return f(sf,function(a,b){var c=Ud(b);d[pb("parse_as_"+c)]=function(b){return e(a,b)},d[pb("get_trusted_"+c)]=function(b){return g(a,b)},d[pb("trust_as_"+c)]=function(b){return h(a,b)}}),d}]}function _c(){this.$get=["$window","$document",function(a,b){var c,d,e={},f=m((/android (\d+)/.exec(Ud((a.navigator||{}).userAgent))||[])[1]),g=/Boxee/i.test((a.navigator||{}).userAgent),h=b[0]||{},i=/^(Moz|webkit|ms)(?=[A-Z])/,j=h.body&&h.body.style,k=!1,l=!1;if(j){for(var n in j)if(d=i.exec(n)){c=d[0],c=c.substr(0,1).toUpperCase()+c.substr(1);break}c||(c="WebkitOpacity"in j&&"webkit"),k=!!("transition"in j||c+"Transition"in j),l=!!("animation"in j||c+"Animation"in j),!f||k&&l||(k=u(h.body.style.webkitTransition),l=u(h.body.style.webkitAnimation))}return{history:!(!a.history||!a.history.pushState||4>f||g),hasEvent:function(a){if("input"===a&&11>=Zd)return!1;if(r(e[a])){var b=h.createElement("div");e[a]="on"+a in b}return e[a]},csp:me(),vendorPrefix:c,transitions:k,animations:l,android:f}}]}function ad(){this.$get=["$templateCache","$http","$q",function(a,b,c){function d(e,f){function g(a){if(h.totalPendingRequests--,!f)throw Ue("tpload","Failed to load template: {0}",e);return c.reject(a)}var h=d;h.totalPendingRequests++;var i=b.defaults&&b.defaults.transformResponse;je(i)?i=i.filter(function(a){return a!==ec}):i===ec&&(i=null);var j={cache:a,transformResponse:i};return b.get(e,j).then(function(a){return h.totalPendingRequests--,a.data},g)}return d.totalPendingRequests=0,d}]}function bd(){this.$get=["$rootScope","$browser","$location",function(a,b,c){var d={};return d.findBindings=function(a,b,c){var d=a.getElementsByClassName("ng-binding"),e=[];return f(d,function(a){var d=ge.element(a).data("$binding");d&&f(d,function(d){if(c){var f=new RegExp("(^|\\s)"+le(b)+"(\\s|\\||$)");f.test(d)&&e.push(a)}else-1!=d.indexOf(b)&&e.push(a)})}),e},d.findModels=function(a,b,c){for(var d=["ng-","data-ng-","ng\\:"],e=0;e<d.length;++e){var f=c?"=":"*=",g="["+d[e]+"model"+f+'"'+b+'"]',h=a.querySelectorAll(g);if(h.length)return h}},d.getLocation=function(){return c.url()},d.setLocation=function(b){b!==c.url()&&(c.url(b),a.$digest())},d.whenStable=function(a){b.notifyWhenNoOutstandingRequests(a)},d}]}function cd(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,c,d,e){function f(f,h,i){var j,k=s(i)&&!i,l=(k?d:c).defer(),m=l.promise;return j=b.defer(function(){try{l.resolve(f())}catch(b){l.reject(b),e(b)}finally{delete g[m.$$timeoutId]}k||a.$apply()},h),m.$$timeoutId=j,g[j]=l,m}var g={};return f.cancel=function(a){return a&&a.$$timeoutId in g?(g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1},f}]}function dd(a){var b=a;return Zd&&(tf.setAttribute("href",b),b=tf.href),tf.setAttribute("href",b),{href:tf.href,protocol:tf.protocol?tf.protocol.replace(/:$/,""):"",host:tf.host,search:tf.search?tf.search.replace(/^\?/,""):"",hash:tf.hash?tf.hash.replace(/^#/,""):"",hostname:tf.hostname,port:tf.port,pathname:"/"===tf.pathname.charAt(0)?tf.pathname:"/"+tf.pathname}}function ed(a){var b=u(a)?dd(a):a;return b.protocol===uf.protocol&&b.host===uf.host}function fd(){this.$get=q(a)}function gd(a){function b(d,e){if(t(d)){var g={};return f(d,function(a,c){g[c]=b(c,a)}),g}return a.factory(d+c,e)}var c="Filter";this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}],b("currency",kd),b("date",vd),b("filter",hd),b("json",wd),b("limitTo",xd),b("lowercase",zf),b("number",ld),b("orderBy",yd),b("uppercase",Af)}function hd(){return function(a,b,c){if(!je(a))return a;var d,e;switch(typeof b){case"function":d=b;break;case"boolean":case"number":case"string":e=!0;case"object":d=id(b,c,e);break;default:return a}return a.filter(d)}}function id(a,b,c){var d,e=t(a)&&"$"in a;return b===!0?b=M:x(b)||(b=function(a,b){return t(a)||t(b)?!1:(a=Ud(""+a),b=Ud(""+b),-1!==a.indexOf(b))}),d=function(d){return e&&!t(d)?jd(d,a.$,b,!1):jd(d,a,b,c)}}function jd(a,b,c,d,e){var f=typeof a,g=typeof b;if("string"===g&&"!"===b.charAt(0))return!jd(a,b.substring(1),c,d);if("array"===f)return a.some(function(a){return jd(a,b,c,d)});switch(f){case"object":var h;if(d){for(h in a)if("$"!==h.charAt(0)&&jd(a[h],b,c,!0))return!0;return e?!1:jd(a,b,c,!1)}if("object"===g){for(h in b){var i=b[h];if(!x(i)){var j="$"===h,k=j?a:a[h];if(!jd(k,i,c,j,j))return!1}}return!0}return c(a,b);case"function":return!1;default:return c(a,b)}}function kd(a){var b=a.NUMBER_FORMATS;return function(a,c,d){return r(c)&&(c=b.CURRENCY_SYM),r(d)&&(d=b.PATTERNS[1].maxFrac),null==a?a:md(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,d).replace(/\u00A4/g,c)}}function ld(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:md(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function md(a,b,c,d,e){if(!isFinite(a)||t(a))return"";var f=0>a;a=Math.abs(a);var g=a+"",h="",i=[],j=!1;if(-1!==g.indexOf("e")){var k=g.match(/([\d\.]+)e(-?)(\d+)/);k&&"-"==k[2]&&k[3]>e+1?a=0:(h=g,j=!0)}if(j)e>0&&1>a&&(h=a.toFixed(e),a=parseFloat(h));else{var l=(g.split(vf)[1]||"").length;r(e)&&(e=Math.min(Math.max(b.minFrac,l),b.maxFrac)),a=+(Math.round(+(a.toString()+"e"+e)).toString()+"e"+-e);var m=(""+a).split(vf),n=m[0];m=m[1]||"";var o,p=0,q=b.lgSize,s=b.gSize;if(n.length>=q+s)for(p=n.length-q,o=0;p>o;o++)(p-o)%s===0&&0!==o&&(h+=c),h+=n.charAt(o);for(o=p;o<n.length;o++)(n.length-o)%q===0&&0!==o&&(h+=c),h+=n.charAt(o);for(;m.length<e;)m+="0";e&&"0"!==e&&(h+=d+m.substr(0,e))}return 0===a&&(f=!1),i.push(f?b.negPre:b.posPre,h,f?b.negSuf:b.posSuf),i.join("")}function nd(a,b,c){var d="";for(0>a&&(d="-",a=-a),a=""+a;a.length<b;)a="0"+a;return c&&(a=a.substr(a.length-b)),d+a}function od(a,b,c,d){return c=c||0,function(e){var f=e["get"+a]();return(c>0||f>-c)&&(f+=c),0===f&&-12==c&&(f=12),nd(f,b,d)}}function pd(a,b){return function(c,d){var e=c["get"+a](),f=Wd(b?"SHORT"+a:a);return d[f][e]}}function qd(a){var b=-1*a.getTimezoneOffset(),c=b>=0?"+":"";return c+=nd(Math[b>0?"floor":"ceil"](b/60),2)+nd(Math.abs(b%60),2)}function rd(a){var b=new Date(a,0,1).getDay();return new Date(a,0,(4>=b?5:12)-b)}function sd(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))}function td(a){return function(b){var c=rd(b.getFullYear()),d=sd(b),e=+d-+c,f=1+Math.round(e/6048e5);return nd(f,a)}}function ud(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]}function vd(a){function b(a){var b;if(b=a.match(c)){var d=new Date(0),e=0,f=0,g=b[8]?d.setUTCFullYear:d.setFullYear,h=b[8]?d.setUTCHours:d.setHours;b[9]&&(e=m(b[9]+b[10]),f=m(b[9]+b[11])),g.call(d,m(b[1]),m(b[2])-1,m(b[3]));var i=m(b[4]||0)-e,j=m(b[5]||0)-f,k=m(b[6]||0),l=Math.round(1e3*parseFloat("0."+(b[7]||0)));return h.call(d,i,j,k,l),d}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,e){var g,h,i="",j=[];if(d=d||"mediumDate",d=a.DATETIME_FORMATS[d]||d,u(c)&&(c=yf.test(c)?m(c):b(c)),v(c)&&(c=new Date(c)),!w(c))return c;for(;d;)h=xf.exec(d),h?(j=N(j,h,1),d=j.pop()):(j.push(d),d=null);return e&&"UTC"===e&&(c=new Date(c.getTime()),c.setMinutes(c.getMinutes()+c.getTimezoneOffset())),f(j,function(b){g=wf[b],i+=g?g(c,a.DATETIME_FORMATS):b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),i}}function wd(){return function(a,b){return r(b)&&(b=2),R(a,b)}}function xd(){return function(a,b){if(v(a)&&(a=a.toString()),!je(a)&&!u(a))return a;if(b=1/0===Math.abs(Number(b))?Number(b):m(b),u(a))return b?b>=0?a.slice(0,b):a.slice(b,a.length):"";var c,d;if(b>a.length?b=a.length:b<-a.length&&(b=-a.length),b>0)c=0,d=b;else{if(!b)return[];c=a.length+b,d=a.length}return a.slice(c,d)}}function yd(a){return function(b,c,d){function f(a,b){for(var d=0;d<c.length;d++){var e=c[d](a,b);if(0!==e)return e}return 0}function g(a,b){return b?function(b,c){return a(c,b)}:a}function h(a){switch(typeof a){case"number":case"boolean":case"string":return!0;default:return!1}}function i(a){return null===a?"null":"function"==typeof a.valueOf&&(a=a.valueOf(),h(a))?a:"function"==typeof a.toString&&(a=a.toString(),h(a))?a:""}function j(a,b){var c=typeof a,d=typeof b;return c===d&&"object"===c&&(a=i(a),b=i(b)),c===d?("string"===c&&(a=a.toLowerCase(),b=b.toLowerCase()),a===b?0:b>a?-1:1):d>c?-1:1}return e(b)?(c=je(c)?c:[c],0===c.length&&(c=["+"]),c=c.map(function(b){var c=!1,d=b||p;if(u(b)){if(("+"==b.charAt(0)||"-"==b.charAt(0))&&(c="-"==b.charAt(0),b=b.substring(1)),""===b)return g(j,c);if(d=a(b),d.constant){var e=d();return g(function(a,b){return j(a[e],b[e])},c)}}return g(function(a,b){return j(d(a),d(b))},c)}),be.call(b).sort(g(f,d))):b}}function zd(a){return x(a)&&(a={link:a}),a.restrict=a.restrict||"AC",q(a)}function Ad(a,b){a.$name=b}function Bd(a,b,d,e,g){var h=this,i=[],j=h.$$parentForm=a.parent().controller("form")||Df;h.$error={},h.$$success={},h.$pending=c,h.$name=g(b.name||b.ngForm||"")(d),h.$dirty=!1,h.$pristine=!0,h.$valid=!0,h.$invalid=!1,h.$submitted=!1,j.$addControl(h),h.$rollbackViewValue=function(){f(i,function(a){a.$rollbackViewValue()})},h.$commitViewValue=function(){f(i,function(a){a.$commitViewValue()})},h.$addControl=function(a){gb(a.$name,"input"),i.push(a),a.$name&&(h[a.$name]=a)},h.$$renameControl=function(a,b){var c=a.$name;h[c]===a&&delete h[c],h[b]=a,a.$name=b},h.$removeControl=function(a){a.$name&&h[a.$name]===a&&delete h[a.$name],f(h.$pending,function(b,c){h.$setValidity(c,null,a)}),f(h.$error,function(b,c){h.$setValidity(c,null,a)}),J(i,a)},Pd({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];if(d){var e=d.indexOf(c);-1===e&&d.push(c)}else a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(J(d,c),0===d.length&&delete a[b])},parentForm:j,$animate:e}),h.$setDirty=function(){e.removeClass(a,Xf),e.addClass(a,Yf),h.$dirty=!0,h.$pristine=!1,j.$setDirty()},h.$setPristine=function(){e.setClass(a,Xf,Yf+" "+Ef),h.$dirty=!1,h.$pristine=!0,h.$submitted=!1,f(i,function(a){a.$setPristine()})},h.$setUntouched=function(){f(i,function(a){a.$setUntouched()})},h.$setSubmitted=function(){e.addClass(a,Ef),h.$submitted=!0,j.$setSubmitted()}}function Cd(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function Dd(a,b,c,d,e,f){Ed(a,b,c,d,e,f),Cd(d)}function Ed(a,b,c,d,e,f){var g=Ud(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",function(){h=!0}),b.on("compositionend",function(){h=!1,i()})}var i=function(a){if(j&&(f.defer.cancel(j),j=null),!h){var e=b.val(),i=a&&a.type;"password"===g||c.ngTrim&&"false"===c.ngTrim||(e=ke(e)),(d.$viewValue!==e||""===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,i)}};if(e.hasEvent("input"))b.on("input",i);else{var j,k=function(a,b,c){j||(j=f.defer(function(){j=null,b&&b.value===c||i(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||b>15&&19>b||b>=37&&40>=b||k(a,this,this.value)}),e.hasEvent("paste")&&b.on("paste cut",k)}b.on("change",i),d.$render=function(){b.val(d.$isEmpty(d.$viewValue)?"":d.$viewValue)}}function Fd(a,b){if(w(a))return a;if(u(a)){Of.lastIndex=0;var c=Of.exec(a);if(c){var d=+c[1],e=+c[2],f=0,g=0,h=0,i=0,j=rd(d),k=7*(e-1);return b&&(f=b.getHours(),g=b.getMinutes(),h=b.getSeconds(),i=b.getMilliseconds()),new Date(d,0,j.getDate()+k,f,g,h,i)}}return 0/0}function Gd(a,b){return function(c,d){var e,g;if(w(c))return c;if(u(c)){if('"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substring(1,c.length-1)),If.test(c))return new Date(c);if(a.lastIndex=0,e=a.exec(c))return e.shift(),g=d?{yyyy:d.getFullYear(),MM:d.getMonth()+1,dd:d.getDate(),HH:d.getHours(),mm:d.getMinutes(),ss:d.getSeconds(),sss:d.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},f(e,function(a,c){c<b.length&&(g[b[c]]=+a)}),new Date(g.yyyy,g.MM-1,g.dd,g.HH,g.mm,g.ss||0,1e3*g.sss||0)}return 0/0}}function Hd(a,b,d,e){return function(f,g,h,i,j,k,l){function m(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function n(a){return s(a)?w(a)?a:d(a):c}Id(f,g,h,i),Ed(f,g,h,i,j,k);var o,p=i&&i.$options&&i.$options.timezone;if(i.$$parserName=a,i.$parsers.push(function(a){if(i.$isEmpty(a))return null;if(b.test(a)){var e=d(a,o);return"UTC"===p&&e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e}return c}),i.$formatters.push(function(a){if(a&&!w(a))throw Sf("datefmt","Expected `{0}` to be a date",a);if(m(a)){if(o=a,o&&"UTC"===p){var b=6e4*o.getTimezoneOffset();o=new Date(o.getTime()+b)}return l("date")(a,e,p)}return o=null,""}),s(h.min)||h.ngMin){var q;i.$validators.min=function(a){return!m(a)||r(q)||d(a)>=q},h.$observe("min",function(a){q=n(a),i.$validate()})}if(s(h.max)||h.ngMax){var t;i.$validators.max=function(a){return!m(a)||r(t)||d(a)<=t},h.$observe("max",function(a){t=n(a),i.$validate()})}}}function Id(a,b,d,e){var f=b[0],g=e.$$hasNativeValidators=t(f.validity);g&&e.$parsers.push(function(a){var d=b.prop(Td)||{};return d.badInput&&!d.typeMismatch?c:a})}function Jd(a,b,d,e,f,g){if(Id(a,b,d,e),Ed(a,b,d,e,f,g),e.$$parserName="number",e.$parsers.push(function(a){return e.$isEmpty(a)?null:Lf.test(a)?parseFloat(a):c}),e.$formatters.push(function(a){if(!e.$isEmpty(a)){if(!v(a))throw Sf("numfmt","Expected `{0}` to be a number",a);a=a.toString()}return a}),d.min||d.ngMin){var h;e.$validators.min=function(a){return e.$isEmpty(a)||r(h)||a>=h},d.$observe("min",function(a){s(a)&&!v(a)&&(a=parseFloat(a,10)),h=v(a)&&!isNaN(a)?a:c,e.$validate()})}if(d.max||d.ngMax){var i;e.$validators.max=function(a){return e.$isEmpty(a)||r(i)||i>=a},d.$observe("max",function(a){s(a)&&!v(a)&&(a=parseFloat(a,10)),i=v(a)&&!isNaN(a)?a:c,e.$validate()})}}function Kd(a,b,c,d,e,f){Ed(a,b,c,d,e,f),Cd(d),d.$$parserName="url",d.$validators.url=function(a,b){var c=a||b;return d.$isEmpty(c)||Jf.test(c)}}function Ld(a,b,c,d,e,f){Ed(a,b,c,d,e,f),Cd(d),d.$$parserName="email",d.$validators.email=function(a,b){var c=a||b;return d.$isEmpty(c)||Kf.test(c)}}function Md(a,b,c,d){r(c.name)&&b.attr("name",j());var e=function(a){b[0].checked&&d.$setViewValue(c.value,a&&a.type)};b.on("click",e),d.$render=function(){var a=c.value;b[0].checked=a==d.$viewValue},c.$observe("value",d.$render)}function Nd(a,b,c,e,f){var g;if(s(e)){if(g=a(e),!g.constant)throw d("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",c,e);return g(b)}return f}function Od(a,b,c,d,e,f,g,h){var i=Nd(h,a,"ngTrueValue",c.ngTrueValue,!0),j=Nd(h,a,"ngFalseValue",c.ngFalseValue,!1),k=function(a){d.$setViewValue(b[0].checked,a&&a.type)};b.on("click",k),d.$render=function(){b[0].checked=d.$viewValue},d.$isEmpty=function(a){return a===!1},d.$formatters.push(function(a){return M(a,i)}),d.$parsers.push(function(a){return a?i:j})}function Pd(a){function b(a,b,i){b===c?d("$pending",a,i):e("$pending",a,i),E(b)?b?(l(h.$error,a,i),k(h.$$success,a,i)):(k(h.$error,a,i),l(h.$$success,a,i)):(l(h.$error,a,i),l(h.$$success,a,i)),h.$pending?(f(_f,!0),h.$valid=h.$invalid=c,g("",null)):(f(_f,!1),h.$valid=Qd(h.$error),h.$invalid=!h.$valid,g("",h.$valid));var j;j=h.$pending&&h.$pending[a]?c:h.$error[a]?!1:h.$$success[a]?!0:null,g(a,j),m.$setValidity(a,j,h)}function d(a,b,c){h[a]||(h[a]={}),k(h[a],b,c)}function e(a,b,d){h[a]&&l(h[a],b,d),Qd(h[a])&&(h[a]=c)}function f(a,b){b&&!j[a]?(n.addClass(i,a),j[a]=!0):!b&&j[a]&&(n.removeClass(i,a),j[a]=!1)}function g(a,b){a=a?"-"+cb(a,"-"):"",f(Vf+a,b===!0),f(Wf+a,b===!1)}var h=a.ctrl,i=a.$element,j={},k=a.set,l=a.unset,m=a.parentForm,n=a.$animate;j[Wf]=!(j[Vf]=i.hasClass(Vf)),h.$setValidity=b}function Qd(a){if(a)for(var b in a)return!1;return!0}function Rd(a,b){return a="ngClass"+a,["$animate",function(c){function d(a,b){var c=[];a:for(var d=0;d<a.length;d++){for(var e=a[d],f=0;f<b.length;f++)if(e==b[f])continue a;c.push(e)}return c}function e(a){if(je(a))return a;if(u(a))return a.split(" ");if(t(a)){var b=[];return f(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b}return a}return{restrict:"AC",link:function(g,h,i){function j(a){var b=l(a,1);i.$addClass(b)}function k(a){var b=l(a,-1);i.$removeClass(b)}function l(a,b){var c=h.data("$classCounts")||{},d=[];return f(a,function(a){(b>0||c[a])&&(c[a]=(c[a]||0)+b,c[a]===+(b>0)&&d.push(a))}),h.data("$classCounts",c),d.join(" ")}function m(a,b){var e=d(b,a),f=d(a,b);e=l(e,1),f=l(f,-1),e&&e.length&&c.addClass(h,e),f&&f.length&&c.removeClass(h,f)}function n(a){if(b===!0||g.$index%2===b){var c=e(a||[]);if(o){if(!M(a,o)){var d=e(o);m(d,c)}}else j(c)}o=L(a)}var o;g.$watch(i[a],n,!0),i.$observe("class",function(){n(g.$eval(i[a]))}),"ngClass"!==a&&g.$watch("$index",function(c,d){var f=1&c;if(f!==(1&d)){var h=e(g.$eval(i[a]));f===b?j(h):k(h)}})}}}]}var Sd=/^\/(.+)\/([a-z]*)$/,Td="validity",Ud=function(a){return u(a)?a.toLowerCase():a},Vd=Object.prototype.hasOwnProperty,Wd=function(a){return u(a)?a.toUpperCase():a},Xd=function(a){return u(a)?a.replace(/[A-Z]/g,function(a){return String.fromCharCode(32|a.charCodeAt(0))}):a},Yd=function(a){return u(a)?a.replace(/[a-z]/g,function(a){return String.fromCharCode(-33&a.charCodeAt(0))}):a};"i"!=="I".toLowerCase()&&(Ud=Xd,Wd=Yd);var Zd,$d,_d,ae,be=[].slice,ce=[].splice,de=[].push,ee=Object.prototype.toString,fe=d("ng"),ge=a.angular||(a.angular={}),he=0;Zd=b.documentMode,o.$inject=[],p.$inject=[];var ie,je=Array.isArray,ke=function(a){return u(a)?a.trim():a},le=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},me=function(){if(s(me.isActive_))return me.isActive_;var a=!(!b.querySelector("[ng-csp]")&&!b.querySelector("[data-ng-csp]"));if(!a)try{new Function("")}catch(c){a=!0}return me.isActive_=a},ne=["ng-","data-ng-","ng:","x-ng-"],oe=/[A-Z]/g,pe=!1,qe=1,re=3,se=8,te=9,ue=11,ve={full:"1.3.8",major:1,minor:3,dot:8,codeName:"prophetic-narwhal"};ub.expando="ng339";var we=ub.cache={},xe=1,ye=function(a,b,c){a.addEventListener(b,c,!1)},ze=function(a,b,c){a.removeEventListener(b,c,!1)};ub._data=function(a){return this.cache[a[this.expando]]||{}};var Ae=/([\:\-\_]+(.))/g,Be=/^moz([A-Z])/,Ce={mouseleave:"mouseout",mouseenter:"mouseover"},De=d("jqLite"),Ee=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Fe=/<|&#?\w+;/,Ge=/<([\w:]+)/,He=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ie={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ie.optgroup=Ie.option,Ie.tbody=Ie.tfoot=Ie.colgroup=Ie.caption=Ie.thead,Ie.th=Ie.td;var Je=ub.prototype={ready:function(c){function d(){e||(e=!0,c())}var e=!1;"complete"===b.readyState?setTimeout(d):(this.on("DOMContentLoaded",d),ub(a).on("load",d))},toString:function(){var a=[];return f(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return $d(a>=0?this[a]:this[this.length+a])},length:0,push:de,sort:[].sort,splice:[].splice},Ke={};f("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(a){Ke[Ud(a)]=a});var Le={};f("input,select,option,textarea,button,form,details".split(","),function(a){Le[a]=!0});var Me={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};f({data:Ab,removeData:yb},function(a,b){ub[b]=a}),f({data:Ab,inheritedData:Gb,scope:function(a){return $d.data(a,"$scope")||Gb(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return $d.data(a,"$isolateScope")||$d.data(a,"$isolateScopeNoTemplate")},controller:Fb,injector:function(a){return Gb(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Bb,css:function(a,b,c){return b=pb(b),s(c)?void(a.style[b]=c):a.style[b]},attr:function(a,b,d){var e=Ud(b);if(Ke[e]){if(!s(d))return a[b]||(a.attributes.getNamedItem(b)||o).specified?e:c;d?(a[b]=!0,a.setAttribute(b,e)):(a[b]=!1,a.removeAttribute(e))}else if(s(d))a.setAttribute(b,d);else if(a.getAttribute){var f=a.getAttribute(b,2);return null===f?c:f}},prop:function(a,b,c){return s(c)?void(a[b]=c):a[b]},text:function(){function a(a,b){if(r(b)){var c=a.nodeType;return c===qe||c===re?a.textContent:""}a.textContent=b}return a.$dv="",a}(),val:function(a,b){if(r(b)){if(a.multiple&&"select"===I(a)){var c=[];return f(a.options,function(a){a.selected&&c.push(a.value||a.text)}),0===c.length?null:c}return a.value}a.value=b},html:function(a,b){return r(b)?a.innerHTML:(wb(a,!0),void(a.innerHTML=b))},empty:Hb},function(a,b){ub.prototype[b]=function(b,d){var e,f,g=this.length;if(a!==Hb&&(2==a.length&&a!==Bb&&a!==Fb?b:d)===c){if(t(b)){for(e=0;g>e;e++)if(a===Ab)a(this[e],b);else for(f in b)a(this[e],f,b[f]);return this}for(var h=a.$dv,i=h===c?Math.min(g,1):g,j=0;i>j;j++){var k=a(this[j],b,d);h=h?h+k:k}return h}for(e=0;g>e;e++)a(this[e],b,d);return this}}),f({removeData:yb,on:function Rg(a,b,c,d){if(s(d))throw De("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(rb(a)){var e=zb(a,!0),f=e.events,g=e.handle;g||(g=e.handle=Mb(a,f));for(var h=b.indexOf(" ")>=0?b.split(" "):[b],i=h.length;i--;){b=h[i];var j=f[b];j||(f[b]=[],"mouseenter"===b||"mouseleave"===b?Rg(a,Ce[b],function(a){var c=this,d=a.relatedTarget;(!d||d!==c&&!c.contains(d))&&g(a,b)}):"$destroy"!==b&&ye(a,b,g),j=f[b]),j.push(c)}}},off:xb,one:function(a,b,c){a=$d(a),a.on(b,function d(){a.off(b,c),a.off(b,d)}),a.on(b,c)},replaceWith:function(a,b){var c,d=a.parentNode;wb(a),f(new ub(b),function(b){c?d.insertBefore(b,c.nextSibling):d.replaceChild(b,a),c=b})},children:function(a){var b=[];return f(a.childNodes,function(a){a.nodeType===qe&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var c=a.nodeType;if(c===qe||c===ue){b=new ub(b);for(var d=0,e=b.length;e>d;d++){var f=b[d];a.appendChild(f)}}},prepend:function(a,b){if(a.nodeType===qe){var c=a.firstChild;f(new ub(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,b){b=$d(b).eq(0).clone()[0];var c=a.parentNode;c&&c.replaceChild(b,a),b.appendChild(a)},remove:Ib,detach:function(a){Ib(a,!0)},after:function(a,b){var c=a,d=a.parentNode;b=new ub(b);for(var e=0,f=b.length;f>e;e++){var g=b[e];d.insertBefore(g,c.nextSibling),c=g}},addClass:Db,removeClass:Cb,toggleClass:function(a,b,c){b&&f(b.split(" "),function(b){var d=c;r(d)&&(d=!Bb(a,b)),(d?Db:Cb)(a,b)})},parent:function(a){var b=a.parentNode;return b&&b.nodeType!==ue?b:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:vb,triggerHandler:function(a,b,c){var d,e,g,h=b.type||b,i=zb(a),j=i&&i.events,k=j&&j[h];k&&(d={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:o,type:h,target:a},b.type&&(d=l(d,b)),e=L(k),g=c?[d].concat(c):[d],f(e,function(b){d.isImmediatePropagationStopped()||b.apply(a,g)}))}},function(a,b){ub.prototype[b]=function(b,c,d){for(var e,f=0,g=this.length;g>f;f++)r(e)?(e=a(this[f],b,c,d),s(e)&&(e=$d(e))):Eb(e,a(this[f],b,c,d));return s(e)?e:this},ub.prototype.bind=ub.prototype.on,ub.prototype.unbind=ub.prototype.off}),Pb.prototype={put:function(a,b){this[Ob(a,this.nextUid)]=b},get:function(a){return this[Ob(a,this.nextUid)]},remove:function(a){var b=this[a=Ob(a,this.nextUid)];return delete this[a],b}};var Ne=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Oe=/,/,Pe=/^\s*(_?)(\S+?)\1\s*$/,Qe=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Re=d("$injector");Sb.$$annotate=Rb;var Se=d("$animate"),Te=["$provide",function(a){this.$$selectors={},this.register=function(b,c){var d=b+"-animation";if(b&&"."!=b.charAt(0))throw Se("notcsel","Expecting class selector starting with '.' got '{0}'.",b);this.$$selectors[b.substr(1)]=d,a.factory(d,c)},this.classNameFilter=function(a){return 1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(a,b,c){function d(b){var d,e=a.defer();return e.promise.$$cancelFn=function(){d&&d()},c.$$postDigest(function(){d=b(function(){e.resolve()})}),e.promise}function e(a,b){var c=[],d=[],e=jb();return f((a.attr("class")||"").split(/\s+/),function(a){e[a]=!0}),f(b,function(a,b){var f=e[b];a===!1&&f?d.push(b):a!==!0||f||c.push(b)}),c.length+d.length>0&&[c.length?c:null,d.length?d:null]}function g(a,b,c){for(var d=0,e=b.length;e>d;++d){var f=b[d];a[f]=c}}function h(){return j||(j=a.defer(),b(function(){j.resolve(),j=null})),j.promise}function i(a,b){if(ge.isObject(b)){var c=l(b.from||{},b.to||{});a.css(c)}}var j;return{animate:function(a,b,c){return i(a,{from:b,to:c}),h()},enter:function(a,b,c,d){return i(a,d),c?c.after(a):b.prepend(a),h()},leave:function(a){return a.remove(),h()},move:function(a,b,c,d){return this.enter(a,b,c,d)},addClass:function(a,b,c){return this.setClass(a,b,[],c)},$$addClassImmediately:function(a,b,c){return a=$d(a),b=u(b)?b:je(b)?b.join(" "):"",f(a,function(a){Db(a,b)}),i(a,c),h()},removeClass:function(a,b,c){return this.setClass(a,[],b,c)},$$removeClassImmediately:function(a,b,c){return a=$d(a),b=u(b)?b:je(b)?b.join(" "):"",f(a,function(a){Cb(a,b)}),i(a,c),h()},setClass:function(a,b,c,f){var h=this,i="$$animateClasses",j=!1;a=$d(a);var k=a.data(i);k?f&&k.options&&(k.options=ge.extend(k.options||{},f)):(k={classes:{},options:f},j=!0);var l=k.classes;return b=je(b)?b:b.split(" "),c=je(c)?c:c.split(" "),g(l,b,!0),g(l,c,!1),j&&(k.promise=d(function(b){var c=a.data(i);if(a.removeData(i),c){var d=e(a,c.classes);d&&h.$$setClassImmediately(a,d[0],d[1],c.options)}b()}),a.data(i,k)),k.promise},$$setClassImmediately:function(a,b,c,d){return b&&this.$$addClassImmediately(a,b),c&&this.$$removeClassImmediately(a,c),i(a,d),h()},enabled:o,cancel:o}}]}],Ue=d("$compile");Zb.$inject=["$provide","$$sanitizeUriProvider"];var Ve=/^((?:x|data)[\:\-_])/i,We="application/json",Xe={"Content-Type":We+";charset=utf-8"},Ye=/^\[|^\{(?!\{)/,Ze={"[":/]$/,"{":/}$/},$e=/^\)\]\}',?\n/,_e=d("$interpolate"),af=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,bf={http:80,https:443,ftp:21},cf=d("$location"),df={$$html5:!1,$$replace:!1,absUrl:Cc("$$absUrl"),url:function(a){if(r(a))return this.$$url;
var b=af.exec(a);return(b[1]||""===a)&&this.path(decodeURIComponent(b[1])),(b[2]||b[1]||""===a)&&this.search(b[3]||""),this.hash(b[5]||""),this},protocol:Cc("$$protocol"),host:Cc("$$host"),port:Cc("$$port"),path:Dc("$$path",function(a){return a=null!==a?a.toString():"","/"==a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(u(a)||v(a))a=a.toString(),this.$$search=V(a);else{if(!t(a))throw cf("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");a=K(a,{}),f(a,function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:r(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:Dc("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};f([Bc,Ac,zc],function(a){a.prototype=Object.create(df),a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==zc||!this.$$html5)throw cf("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=r(b)?null:b,this}});var ef=d("$parse"),ff=Function.prototype.call,gf=Function.prototype.apply,hf=Function.prototype.bind,jf=jb();f({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(a,b){a.constant=a.literal=a.sharedGetter=!0,jf[b]=a}),jf["this"]=function(a){return a},jf["this"].sharedGetter=!0;var kf=l(jb(),{"+":function(a,b,d,e){return d=d(a,b),e=e(a,b),s(d)?s(e)?d+e:d:s(e)?e:c},"-":function(a,b,c,d){return c=c(a,b),d=d(a,b),(s(c)?c:0)-(s(d)?d:0)},"*":function(a,b,c,d){return c(a,b)*d(a,b)},"/":function(a,b,c,d){return c(a,b)/d(a,b)},"%":function(a,b,c,d){return c(a,b)%d(a,b)},"===":function(a,b,c,d){return c(a,b)===d(a,b)},"!==":function(a,b,c,d){return c(a,b)!==d(a,b)},"==":function(a,b,c,d){return c(a,b)==d(a,b)},"!=":function(a,b,c,d){return c(a,b)!=d(a,b)},"<":function(a,b,c,d){return c(a,b)<d(a,b)},">":function(a,b,c,d){return c(a,b)>d(a,b)},"<=":function(a,b,c,d){return c(a,b)<=d(a,b)},">=":function(a,b,c,d){return c(a,b)>=d(a,b)},"&&":function(a,b,c,d){return c(a,b)&&d(a,b)},"||":function(a,b,c,d){return c(a,b)||d(a,b)},"!":function(a,b,c){return!c(a,b)},"=":!0,"|":!0}),lf={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},mf=function(a){this.options=a};mf.prototype={constructor:mf,lex:function(a){for(this.text=a,this.index=0,this.tokens=[];this.index<this.text.length;){var b=this.text.charAt(this.index);if('"'===b||"'"===b)this.readString(b);else if(this.isNumber(b)||"."===b&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(b))this.readIdent();else if(this.is(b,"(){}[].,;:?"))this.tokens.push({index:this.index,text:b}),this.index++;else if(this.isWhitespace(b))this.index++;else{var c=b+this.peek(),d=c+this.peek(2),e=kf[b],f=kf[c],g=kf[d];if(e||f||g){var h=g?d:f?c:b;this.tokens.push({index:this.index,text:h,operator:!0}),this.index+=h.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){var b=a||1;return this.index+b<this.text.length?this.text.charAt(this.index+b):!1},isNumber:function(a){return a>="0"&&"9">=a&&"string"==typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"	"===a||"\n"===a||""===a||" "===a},isIdent:function(a){return a>="a"&&"z">=a||a>="A"&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,c){c=c||this.index;var d=s(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c;throw ef("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",a,d,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=Ud(this.text.charAt(this.index));if("."==c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"==c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"==a.charAt(a.length-1))a+=c;else{if(!this.isExpOperator(c)||d&&this.isNumber(d)||"e"!=a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){for(var a=this.index;this.index<this.text.length;){var b=this.text.charAt(this.index);if(!this.isIdent(b)&&!this.isNumber(b))break;this.index++}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index);if(d+=f,e){if("u"===f){var g=this.text.substring(this.index+1,this.index+5);g.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+g+"]"),this.index+=4,c+=String.fromCharCode(parseInt(g,16))}else{var h=lf[f];c+=h||f}e=!1}else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:d,constant:!0,value:c});c+=f}this.index++}this.throwError("Unterminated quote",b)}};var nf=function(a,b,c){this.lexer=a,this.$filter=b,this.options=c};nf.ZERO=l(function(){return 0},{sharedGetter:!0,constant:!0}),nf.prototype={constructor:nf,parse:function(a){this.text=a,this.tokens=this.lexer.lex(a);var b=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),b.literal=!!b.literal,b.constant=!!b.constant,b},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.peek().identifier&&this.peek().text in jf?a=jf[this.consume().text]:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b,c;b=this.expect("(","[",".");)"("===b.text?(a=this.functionCall(a,c),c=null):"["===b.text?(c=a,a=this.objectIndex(a)):"."===b.text?(c=a,a=this.fieldAccess(a)):this.throwError("IMPOSSIBLE");return a},throwError:function(a,b){throw ef("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",b.text,a,b.index+1,this.text,this.text.substring(b.index))},peekToken:function(){if(0===this.tokens.length)throw ef("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(a,b,c,d){return this.peekAhead(0,a,b,c,d)},peekAhead:function(a,b,c,d,e){if(this.tokens.length>a){var f=this.tokens[a],g=f.text;if(g===b||g===c||g===d||g===e||!b&&!c&&!d&&!e)return f}return!1},expect:function(a,b,c,d){var e=this.peek(a,b,c,d);return e?(this.tokens.shift(),e):!1},consume:function(a){if(0===this.tokens.length)throw ef("ueoe","Unexpected end of expression: {0}",this.text);var b=this.expect(a);return b||this.throwError("is unexpected, expecting ["+a+"]",this.peek()),b},unaryFn:function(a,b){var c=kf[a];return l(function(a,d){return c(a,d,b)},{constant:b.constant,inputs:[b]})},binaryFn:function(a,b,c,d){var e=kf[b];return l(function(b,d){return e(b,d,a,c)},{constant:a.constant&&c.constant,inputs:!d&&[a,c]})},identifier:function(){for(var a=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)a+=this.consume().text+this.consume().text;return Oc(a,this.options,this.text)},constant:function(){var a=this.consume().value;return l(function(){return a},{constant:!0,literal:!0})},statements:function(){for(var a=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&a.push(this.filterChain()),!this.expect(";"))return 1===a.length?a[0]:function(b,c){for(var d,e=0,f=a.length;f>e;e++)d=a[e](b,c);return d}},filterChain:function(){for(var a,b=this.expression();a=this.expect("|");)b=this.filter(b);return b},filter:function(a){var b,d,e=this.$filter(this.consume().text);if(this.peek(":"))for(b=[],d=[];this.expect(":");)b.push(this.expression());var f=[a].concat(b||[]);return l(function(f,g){var h=a(f,g);if(d){d[0]=h;for(var i=b.length;i--;)d[i+1]=b[i](f,g);return e.apply(c,d)}return e(h)},{constant:!e.$stateful&&f.every(Jc),inputs:!e.$stateful&&f})},expression:function(){return this.assignment()},assignment:function(){var a,b,c=this.ternary();return(b=this.expect("="))?(c.assign||this.throwError("implies assignment but ["+this.text.substring(0,b.index)+"] can not be assigned to",b),a=this.ternary(),l(function(b,d){return c.assign(b,a(b,d),d)},{inputs:[c,a]})):c},ternary:function(){var a,b,c=this.logicalOR();if((b=this.expect("?"))&&(a=this.assignment(),this.consume(":"))){var d=this.assignment();return l(function(b,e){return c(b,e)?a(b,e):d(b,e)},{constant:c.constant&&a.constant&&d.constant})}return c},logicalOR:function(){for(var a,b=this.logicalAND();a=this.expect("||");)b=this.binaryFn(b,a.text,this.logicalAND(),!0);return b},logicalAND:function(){for(var a,b=this.equality();a=this.expect("&&");)b=this.binaryFn(b,a.text,this.equality(),!0);return b},equality:function(){for(var a,b=this.relational();a=this.expect("==","!=","===","!==");)b=this.binaryFn(b,a.text,this.relational());return b},relational:function(){for(var a,b=this.additive();a=this.expect("<",">","<=",">=");)b=this.binaryFn(b,a.text,this.additive());return b},additive:function(){for(var a,b=this.multiplicative();a=this.expect("+","-");)b=this.binaryFn(b,a.text,this.multiplicative());return b},multiplicative:function(){for(var a,b=this.unary();a=this.expect("*","/","%");)b=this.binaryFn(b,a.text,this.unary());return b},unary:function(){var a;return this.expect("+")?this.primary():(a=this.expect("-"))?this.binaryFn(nf.ZERO,a.text,this.unary()):(a=this.expect("!"))?this.unaryFn(a.text,this.unary()):this.primary()},fieldAccess:function(a){var b=this.identifier();return l(function(d,e,f){var g=f||a(d,e);return null==g?c:b(g)},{assign:function(c,d,e){var f=a(c,e);return f||a.assign(c,f={}),b.assign(f,d)}})},objectIndex:function(a){var b=this.text,d=this.expression();return this.consume("]"),l(function(e,f){var g,h=a(e,f),i=d(e,f);return Gc(i,b),h?g=Hc(h[i],b):c},{assign:function(c,e,f){var g=Gc(d(c,f),b),h=Hc(a(c,f),b);return h||a.assign(c,h={}),h[g]=e}})},functionCall:function(a,b){var d=[];if(")"!==this.peekToken().text)do d.push(this.expression());while(this.expect(","));this.consume(")");var e=this.text,f=d.length?[]:null;return function(g,h){var i=b?b(g,h):s(b)?c:g,j=a(g,h,i)||o;if(f)for(var k=d.length;k--;)f[k]=Hc(d[k](g,h),e);Hc(i,e),Ic(j,e);var l=j.apply?j.apply(i,f):j(f[0],f[1],f[2],f[3],f[4]);return Hc(l,e)}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","));return this.consume("]"),l(function(b,c){for(var d=[],e=0,f=a.length;f>e;e++)d.push(a[e](b,c));return d},{literal:!0,constant:a.every(Jc),inputs:a})},object:function(){var a=[],b=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var c=this.consume();c.constant?a.push(c.value):c.identifier?a.push(c.text):this.throwError("invalid key",c),this.consume(":"),b.push(this.expression())}while(this.expect(","));return this.consume("}"),l(function(c,d){for(var e={},f=0,g=b.length;g>f;f++)e[a[f]]=b[f](c,d);return e},{literal:!0,constant:b.every(Jc),inputs:b})}};var of=jb(),pf=jb(),qf=Object.prototype.valueOf,rf=d("$sce"),sf={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Ue=d("$compile"),tf=b.createElement("a"),uf=dd(a.location.href);gd.$inject=["$provide"],kd.$inject=["$locale"],ld.$inject=["$locale"];var vf=".",wf={yyyy:od("FullYear",4),yy:od("FullYear",2,0,!0),y:od("FullYear",1),MMMM:pd("Month"),MMM:pd("Month",!0),MM:od("Month",2,1),M:od("Month",1,1),dd:od("Date",2),d:od("Date",1),HH:od("Hours",2),H:od("Hours",1),hh:od("Hours",2,-12),h:od("Hours",1,-12),mm:od("Minutes",2),m:od("Minutes",1),ss:od("Seconds",2),s:od("Seconds",1),sss:od("Milliseconds",3),EEEE:pd("Day"),EEE:pd("Day",!0),a:ud,Z:qd,ww:td(2),w:td(1)},xf=/((?:[^yMdHhmsaZEw']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|w+))(.*)/,yf=/^\-?\d+$/;vd.$inject=["$locale"];var zf=q(Ud),Af=q(Wd);yd.$inject=["$parse"];var Bf=q({restrict:"E",compile:function(a,b){return b.href||b.xlinkHref||b.name?void 0:function(a,b){var c="[object SVGAnimatedString]"===ee.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(c)||a.preventDefault()})}}}),Cf={};f(Ke,function(a,b){if("multiple"!=a){var c=$b("ng-"+b);Cf[c]=function(){return{restrict:"A",priority:100,link:function(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}}}}}),f(Me,function(a,b){Cf[b]=function(){return{priority:100,link:function(a,c,d){if("ngPattern"===b&&"/"==d.ngPattern.charAt(0)){var e=d.ngPattern.match(Sd);if(e)return void d.$set("ngPattern",new RegExp(e[1],e[2]))}a.$watch(d[b],function(a){d.$set(b,a)})}}}}),f(["src","srcset","href"],function(a){var b=$b("ng-"+a);Cf[b]=function(){return{priority:99,link:function(c,d,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===ee.call(d.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null),e.$observe(b,function(b){return b?(e.$set(g,b),void(Zd&&f&&d.prop(f,e[g]))):void("href"===a&&e.$set(g,null))})}}}});var Df={$addControl:o,$$renameControl:Ad,$removeControl:o,$setValidity:o,$setDirty:o,$setPristine:o,$setSubmitted:o},Ef="ng-submitted";Bd.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Ff=function(a){return["$timeout",function(b){var d={name:"form",restrict:a?"EAC":"E",controller:Bd,compile:function(a){return a.addClass(Xf).addClass(Vf),{pre:function(a,d,e,f){if(!("action"in e)){var g=function(b){a.$apply(function(){f.$commitViewValue(),f.$setSubmitted()}),b.preventDefault()};ye(d[0],"submit",g),d.on("$destroy",function(){b(function(){ze(d[0],"submit",g)},0,!1)})}var h=f.$$parentForm,i=f.$name;i&&(Kc(a,i,f,i),e.$observe(e.name?"name":"ngForm",function(b){i!==b&&(Kc(a,i,c,i),i=b,Kc(a,i,f,i),h.$$renameControl(f,i))})),d.on("$destroy",function(){h.$removeControl(f),i&&Kc(a,i,c,i),l(f,Df)})}}}};return d}]},Gf=Ff(),Hf=Ff(!0),If=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Jf=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Kf=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Lf=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Mf=/^(\d{4})-(\d{2})-(\d{2})$/,Nf=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Of=/^(\d{4})-W(\d\d)$/,Pf=/^(\d{4})-(\d\d)$/,Qf=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Rf=/(\s+|^)default(\s+|$)/,Sf=new d("ngModel"),Tf={text:Dd,date:Hd("date",Mf,Gd(Mf,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Hd("datetimelocal",Nf,Gd(Nf,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Hd("time",Qf,Gd(Qf,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Hd("week",Of,Fd,"yyyy-Www"),month:Hd("month",Pf,Gd(Pf,["yyyy","MM"]),"yyyy-MM"),number:Jd,url:Kd,email:Ld,radio:Md,checkbox:Od,hidden:o,button:o,submit:o,reset:o,file:o},Uf=["$browser","$sniffer","$filter","$parse",function(a,b,c,d){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){h[0]&&(Tf[Ud(g.type)]||Tf.text)(e,f,g,h[0],b,a,c,d)}}}}],Vf="ng-valid",Wf="ng-invalid",Xf="ng-pristine",Yf="ng-dirty",Zf="ng-untouched",$f="ng-touched",_f="ng-pending",ag=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,b,d,e,g,h,i,j,k,l){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=c,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=c,this.$name=l(d.name||"",!1)(a);var m=g(d.ngModel),n=m.assign,p=m,q=n,t=null,u=this;this.$$setOptions=function(a){if(u.$options=a,a&&a.getterSetter){var b=g(d.ngModel+"()"),c=g(d.ngModel+"($$$p)");p=function(a){var c=m(a);return x(c)&&(c=b(a)),c},q=function(a){x(m(a))?c(a,{$$$p:u.$modelValue}):n(a,u.$modelValue)}}else if(!m.assign)throw Sf("nonassign","Expression '{0}' is non-assignable. Element: {1}",d.ngModel,T(e))},this.$render=o,this.$isEmpty=function(a){return r(a)||""===a||null===a||a!==a};var w=e.inheritedData("$formController")||Df,y=0;Pd({ctrl:this,$element:e,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},parentForm:w,$animate:h}),this.$setPristine=function(){u.$dirty=!1,u.$pristine=!0,h.removeClass(e,Yf),h.addClass(e,Xf)},this.$setDirty=function(){u.$dirty=!0,u.$pristine=!1,h.removeClass(e,Xf),h.addClass(e,Yf),w.$setDirty()},this.$setUntouched=function(){u.$touched=!1,u.$untouched=!0,h.setClass(e,Zf,$f)},this.$setTouched=function(){u.$touched=!0,u.$untouched=!1,h.setClass(e,$f,Zf)},this.$rollbackViewValue=function(){i.cancel(t),u.$viewValue=u.$$lastCommittedViewValue,u.$render()},this.$validate=function(){if(!v(u.$modelValue)||!isNaN(u.$modelValue)){var a=u.$$lastCommittedViewValue,b=u.$$rawModelValue,d=u.$$parserName||"parse",e=u.$error[d]?!1:c,f=u.$valid,g=u.$modelValue,h=u.$options&&u.$options.allowInvalid;u.$$runValidators(e,b,a,function(a){h||f===a||(u.$modelValue=a?b:c,u.$modelValue!==g&&u.$$writeModelToScope())})}},this.$$runValidators=function(a,b,d,e){function g(a){var b=u.$$parserName||"parse";if(a===c)j(b,null);else if(j(b,a),!a)return f(u.$validators,function(a,b){j(b,null)}),f(u.$asyncValidators,function(a,b){j(b,null)}),!1;return!0}function h(){var a=!0;return f(u.$validators,function(c,e){var f=c(b,d);a=a&&f,j(e,f)}),a?!0:(f(u.$asyncValidators,function(a,b){j(b,null)}),!1)}function i(){var a=[],e=!0;f(u.$asyncValidators,function(f,g){var h=f(b,d);if(!F(h))throw Sf("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",h);j(g,c),a.push(h.then(function(){j(g,!0)},function(){e=!1,j(g,!1)}))}),a.length?k.all(a).then(function(){l(e)},o):l(!0)}function j(a,b){m===y&&u.$setValidity(a,b)}function l(a){m===y&&e(a)}y++;var m=y;return g(a)&&h()?void i():void l(!1)},this.$commitViewValue=function(){var a=u.$viewValue;i.cancel(t),(u.$$lastCommittedViewValue!==a||""===a&&u.$$hasNativeValidators)&&(u.$$lastCommittedViewValue=a,u.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function b(){u.$modelValue!==h&&u.$$writeModelToScope()}var d=u.$$lastCommittedViewValue,e=d,f=r(e)?c:!0;if(f)for(var g=0;g<u.$parsers.length;g++)if(e=u.$parsers[g](e),r(e)){f=!1;break}v(u.$modelValue)&&isNaN(u.$modelValue)&&(u.$modelValue=p(a));var h=u.$modelValue,i=u.$options&&u.$options.allowInvalid;u.$$rawModelValue=e,i&&(u.$modelValue=e,b()),u.$$runValidators(f,e,u.$$lastCommittedViewValue,function(a){i||(u.$modelValue=a?e:c,b())})},this.$$writeModelToScope=function(){q(a,u.$modelValue),f(u.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}})},this.$setViewValue=function(a,b){u.$viewValue=a,(!u.$options||u.$options.updateOnDefault)&&u.$$debounceViewValueCommit(b)},this.$$debounceViewValueCommit=function(b){var c,d=0,e=u.$options;e&&s(e.debounce)&&(c=e.debounce,v(c)?d=c:v(c[b])?d=c[b]:v(c["default"])&&(d=c["default"])),i.cancel(t),d?t=i(function(){u.$commitViewValue()},d):j.$$phase?u.$commitViewValue():a.$apply(function(){u.$commitViewValue()})},a.$watch(function(){var b=p(a);if(b!==u.$modelValue){u.$modelValue=u.$$rawModelValue=b;for(var d=u.$formatters,e=d.length,f=b;e--;)f=d[e](f);u.$viewValue!==f&&(u.$viewValue=u.$$lastCommittedViewValue=f,u.$render(),u.$$runValidators(c,b,f,o))}return b})}],bg=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ag,priority:1,compile:function(b){return b.addClass(Xf).addClass(Zf).addClass(Vf),{pre:function(a,b,c,d){var e=d[0],f=d[1]||Df;e.$$setOptions(d[2]&&d[2].$options),f.$addControl(e),c.$observe("name",function(a){e.$name!==a&&f.$$renameControl(e,a)}),a.$on("$destroy",function(){f.$removeControl(e)})},post:function(b,c,d,e){var f=e[0];f.$options&&f.$options.updateOn&&c.on(f.$options.updateOn,function(a){f.$$debounceViewValueCommit(a&&a.type)}),c.on("blur",function(){f.$touched||(a.$$phase?b.$evalAsync(f.$setTouched):b.$apply(f.$setTouched))})}}}}}],cg=q({restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}}),dg=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){d&&(c.required=!0,d.$validators.required=function(a,b){return!c.required||!d.$isEmpty(b)},c.$observe("required",function(){d.$validate()}))}}},eg=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,e,f){if(f){var g,h=e.ngPattern||e.pattern;e.$observe("pattern",function(a){if(u(a)&&a.length>0&&(a=new RegExp("^"+a+"$")),a&&!a.test)throw d("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",h,a,T(b));g=a||c,f.$validate()}),f.$validators.pattern=function(a){return f.$isEmpty(a)||r(g)||g.test(a)}}}}},fg=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=-1;c.$observe("maxlength",function(a){var b=m(a);e=isNaN(b)?-1:b,d.$validate()}),d.$validators.maxlength=function(a,b){return 0>e||d.$isEmpty(a)||b.length<=e}}}}},gg=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=0;c.$observe("minlength",function(a){e=m(a)||0,d.$validate()}),d.$validators.minlength=function(a,b){return d.$isEmpty(b)||b.length>=e}}}}},hg=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,e){var g=b.attr(d.$attr.ngList)||", ",h="false"!==d.ngTrim,i=h?ke(g):g,j=function(a){if(!r(a)){var b=[];return a&&f(a.split(i),function(a){a&&b.push(h?ke(a):a)}),b}};e.$parsers.push(j),e.$formatters.push(function(a){return je(a)?a.join(g):c}),e.$isEmpty=function(a){return!a||!a.length}}}},ig=/^(true|false|\d+)$/,jg=function(){return{restrict:"A",priority:100,compile:function(a,b){return ig.test(b.ngValue)?function(a,b,c){c.$set("value",a.$eval(c.ngValue))}:function(a,b,c){a.$watch(c.ngValue,function(a){c.$set("value",a)})}}}},kg=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,b){var d=this;this.$options=a.$eval(b.ngModelOptions),this.$options.updateOn!==c?(this.$options.updateOnDefault=!1,this.$options.updateOn=ke(this.$options.updateOn.replace(Rf,function(){return d.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},lg=["$compile",function(a){return{restrict:"AC",compile:function(b){return a.$$addBindingClass(b),function(b,d,e){a.$$addBindingInfo(d,e.ngBind),d=d[0],b.$watch(e.ngBind,function(a){d.textContent=a===c?"":a})}}}}],mg=["$interpolate","$compile",function(a,b){return{compile:function(d){return b.$$addBindingClass(d),function(d,e,f){var g=a(e.attr(f.$attr.ngBindTemplate));b.$$addBindingInfo(e,g.expressions),e=e[0],f.$observe("ngBindTemplate",function(a){e.textContent=a===c?"":a})}}}}],ng=["$sce","$parse","$compile",function(a,b,c){return{restrict:"A",compile:function(d,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(a){return(a||"").toString()});return c.$$addBindingClass(d),function(b,d,e){c.$$addBindingInfo(d,e.ngBindHtml),b.$watch(g,function(){d.html(a.getTrustedHtml(f(b))||"")})}}}}],og=Rd("",!0),pg=Rd("Odd",0),qg=Rd("Even",1),rg=zd({compile:function(a,b){b.$set("ngCloak",c),a.removeClass("ng-cloak")}}),sg=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],tg={},ug={blur:!0,focus:!0};f("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=$b("ng-"+a);tg[b]=["$parse","$rootScope",function(c,d){return{restrict:"A",compile:function(e,f){var g=c(f[b],null,!0);return function(b,c){c.on(a,function(c){var e=function(){g(b,{$event:c})};ug[a]&&d.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var vg=["$animate",function(a){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,i,j;c.$watch(e.ngIf,function(c){c?i||g(function(c,f){i=f,c[c.length++]=b.createComment(" end ngIf: "+e.ngIf+" "),h={clone:c},a.enter(c,d.parent(),d)}):(j&&(j.remove(),j=null),i&&(i.$destroy(),i=null),h&&(j=ib(h.clone),a.leave(j).then(function(){j=null}),h=null))})}}}],wg=["$templateRequest","$anchorScroll","$animate","$sce",function(a,b,c,d){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ge.noop,compile:function(e,f){var g=f.ngInclude||f.src,h=f.onload||"",i=f.autoscroll;return function(e,f,j,k,l){var m,n,o,p=0,q=function(){n&&(n.remove(),n=null),m&&(m.$destroy(),m=null),o&&(c.leave(o).then(function(){n=null}),n=o,o=null)};e.$watch(d.parseAsResourceUrl(g),function(d){var g=function(){!s(i)||i&&!e.$eval(i)||b()},j=++p;d?(a(d,!0).then(function(a){if(j===p){var b=e.$new();k.template=a;var i=l(b,function(a){q(),c.enter(a,null,f).then(g)});m=b,o=i,m.$emit("$includeContentLoaded",d),e.$eval(h)}},function(){j===p&&(q(),e.$emit("$includeContentError",d))}),e.$emit("$includeContentRequested",d)):(q(),k.template=null)})}}}}],xg=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){return/SVG/.test(d[0].toString())?(d.empty(),void a(sb(f.template,b).childNodes)(c,function(a){d.append(a)},{futureParentElement:d})):(d.html(f.template),void a(d.contents())(c))}}}],yg=zd({priority:450,compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}}),zg=zd({terminal:!0,priority:1e3}),Ag=["$locale","$interpolate",function(a,b){var c=/{}/g,d=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(e,g,h){function i(a){g.text(a||"")}var j,k=h.count,l=h.$attr.when&&g.attr(h.$attr.when),m=h.offset||0,n=e.$eval(l)||{},o={},p=b.startSymbol(),q=b.endSymbol(),r=p+k+"-"+m+q,s=ge.noop;f(h,function(a,b){var c=d.exec(b);if(c){var e=(c[1]?"-":"")+Ud(c[2]);n[e]=g.attr(h.$attr[b])}}),f(n,function(a,d){o[d]=b(a.replace(c,r))}),e.$watch(k,function(b){var c=parseFloat(b),d=isNaN(c);d||c in n||(c=a.pluralCat(c-m)),c===j||d&&isNaN(j)||(s(),s=e.$watch(o[c],i),j=c)})}}}],Bg=["$parse","$animate",function(a,g){var h="$$NG_REMOVED",i=d("ngRepeat"),j=function(a,b,c,d,e,f,g){a[c]=d,e&&(a[e]=f),a.$index=b,a.$first=0===b,a.$last=b===g-1,a.$middle=!(a.$first||a.$last),a.$odd=!(a.$even=0===(1&b))},k=function(a){return a.clone[0]},l=function(a){return a.clone[a.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(d,m){var n=m.ngRepeat,o=b.createComment(" end ngRepeat: "+n+" "),p=n.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw i("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);var q=p[1],r=p[2],s=p[3],t=p[4];if(p=q.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!p)throw i("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",q);var u=p[3]||p[1],v=p[2];if(s&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(s)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent)$/.test(s)))throw i("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",s);var w,x,y,z,A={$id:Ob};return t?w=a(t):(y=function(a,b){return Ob(b)},z=function(a){return a}),function(a,b,d,m,p){w&&(x=function(b,c,d){return v&&(A[v]=b),A[u]=c,A.$index=d,w(a,A)});var q=jb();a.$watchCollection(r,function(d){var m,r,t,w,A,B,C,D,E,F,G,H,I=b[0],J=jb();if(s&&(a[s]=d),e(d))E=d,D=x||y;else{D=x||z,E=[];for(var K in d)d.hasOwnProperty(K)&&"$"!=K.charAt(0)&&E.push(K);E.sort()}for(w=E.length,G=new Array(w),m=0;w>m;m++)if(A=d===E?m:E[m],B=d[A],C=D(A,B,m),q[C])F=q[C],delete q[C],J[C]=F,G[m]=F;else{if(J[C])throw f(G,function(a){a&&a.scope&&(q[a.id]=a)}),i("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",n,C,B);G[m]={id:C,scope:c,clone:c},J[C]=!0}for(var L in q){if(F=q[L],H=ib(F.clone),g.leave(H),H[0].parentNode)for(m=0,r=H.length;r>m;m++)H[m][h]=!0;F.scope.$destroy()}for(m=0;w>m;m++)if(A=d===E?m:E[m],B=d[A],F=G[m],F.scope){t=I;do t=t.nextSibling;while(t&&t[h]);k(F)!=t&&g.move(ib(F.clone),null,$d(I)),I=l(F),j(F.scope,m,u,B,v,A,w)}else p(function(a,b){F.scope=b;var c=o.cloneNode(!1);a[a.length++]=c,g.enter(a,null,$d(I)),I=c,F.clone=a,J[F.id]=F,j(F.scope,m,u,B,v,A,w)});q=J})}}}}],Cg="ng-hide",Dg="ng-hide-animate",Eg=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngShow,function(b){a[b?"removeClass":"addClass"](c,Cg,{tempClasses:Dg})})}}}],Fg=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngHide,function(b){a[b?"addClass":"removeClass"](c,Cg,{tempClasses:Dg})})}}}],Gg=zd(function(a,b,c){a.$watch(c.ngStyle,function(a,c){c&&a!==c&&f(c,function(a,c){b.css(c,"")}),a&&b.css(a)},!0)}),Hg=["$animate",function(a){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,d,e,g){var h=e.ngSwitch||e.on,i=[],j=[],k=[],l=[],m=function(a,b){return function(){a.splice(b,1)}};c.$watch(h,function(c){var d,e;for(d=0,e=k.length;e>d;++d)a.cancel(k[d]);for(k.length=0,d=0,e=l.length;e>d;++d){var h=ib(j[d].clone);l[d].$destroy();var n=k[d]=a.leave(h);n.then(m(k,d))}j.length=0,l.length=0,(i=g.cases["!"+c]||g.cases["?"])&&f(i,function(c){c.transclude(function(d,e){l.push(e);var f=c.element;d[d.length++]=b.createComment(" end ngSwitchWhen: ");var g={clone:d};j.push(g),a.enter(d,f.parent(),f)})})})}}}],Ig=zd({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["!"+c.ngSwitchWhen]=d.cases["!"+c.ngSwitchWhen]||[],d.cases["!"+c.ngSwitchWhen].push({transclude:e,element:b})}}),Jg=zd({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[],d.cases["?"].push({transclude:e,element:b})}}),Kg=zd({restrict:"EAC",link:function(a,b,c,e,f){if(!f)throw d("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",T(b));f(function(a){b.empty(),b.append(a)})}}),Lg=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,c){if("text/ng-template"==c.type){var d=c.id,e=b[0].text;a.put(d,e)}}}}],Mg=d("ngOptions"),Ng=q({restrict:"A",terminal:!0}),Og=["$compile","$parse",function(a,d){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,h={$setViewValue:o};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(a,b,c){var d,e,f=this,g={},i=h;f.databound=c.ngModel,f.init=function(a,b,c){i=a,d=b,e=c},f.addOption=function(b,c){gb(b,'"option value"'),g[b]=!0,i.$viewValue==b&&(a.val(b),e.parent()&&e.remove()),c&&c[0].hasAttribute("selected")&&(c[0].selected=!0)},f.removeOption=function(a){this.hasOption(a)&&(delete g[a],i.$viewValue===a&&this.renderUnknownOption(a))},f.renderUnknownOption=function(b){var c="? "+Ob(b)+" ?";e.val(c),a.prepend(e),a.val(c),e.prop("selected",!0)},f.hasOption=function(a){return g.hasOwnProperty(a)},b.$on("$destroy",function(){f.renderUnknownOption=o})}],link:function(h,i,j,k){function l(a,b,c,d){c.$render=function(){var a=c.$viewValue;d.hasOption(a)?(z.parent()&&z.remove(),b.val(a),""===a&&o.prop("selected",!0)):r(a)&&o?b.val(""):d.renderUnknownOption(a)},b.on("change",function(){a.$apply(function(){z.parent()&&z.remove(),c.$setViewValue(b.val())})})}function m(a,b,c){var d;c.$render=function(){var a=new Pb(c.$viewValue);f(b.find("option"),function(b){b.selected=s(a.get(b.value))})},a.$watch(function(){M(d,c.$viewValue)||(d=L(c.$viewValue),c.$render())}),b.on("change",function(){a.$apply(function(){var a=[];f(b.find("option"),function(b){b.selected&&a.push(b.value)}),c.$setViewValue(a)})})}function n(b,h,i){function j(a,c,d){return M[B]=d,E&&(M[E]=c),a(b,M)}function k(){b.$apply(function(){var a,c=H(b)||[];
if(t)a=[],f(h.val(),function(b){b=J?K[b]:b,a.push(l(b,c[b]))});else{var d=J?K[h.val()]:h.val();a=l(d,c[d])}i.$setViewValue(a),r()})}function l(a,b){if("?"===a)return c;if(""===a)return null;var d=D?D:G;return j(d,a,b)}function m(){var a,c=H(b);if(c&&je(c)){a=new Array(c.length);for(var d=0,e=c.length;e>d;d++)a[d]=j(A,d,c[d]);return a}if(c){a={};for(var f in c)c.hasOwnProperty(f)&&(a[f]=j(A,f,c[f]))}return a}function n(a){var b;if(t)if(J&&je(a)){b=new Pb([]);for(var c=0;c<a.length;c++)b.put(j(J,null,a[c]),!0)}else b=new Pb(a);else J&&(a=j(J,null,a));return function(c,d){var e;return e=J?J:D?D:G,t?s(b.remove(j(e,c,d))):a===j(e,c,d)}}function o(){w||(b.$$postDigest(r),w=!0)}function q(a,b,c){a[b]=a[b]||0,a[b]+=c?1:-1}function r(){w=!1;var a,c,d,e,k,l,m,o,r,u,z,B,C,D,G,I,N,O={"":[]},P=[""],Q=i.$viewValue,R=H(b)||[],S=E?g(R):R,T={},U=n(Q),V=!1;for(K={},B=0;u=S.length,u>B;B++)m=B,E&&(m=S[B],"$"===m.charAt(0))||(o=R[m],a=j(F,m,o)||"",(c=O[a])||(c=O[a]=[],P.push(a)),C=U(m,o),V=V||C,I=j(A,m,o),I=s(I)?I:"",N=J?J(b,M):E?S[B]:B,J&&(K[N]=m),c.push({id:N,label:I,selected:C}));for(t||(v||null===Q?O[""].unshift({id:"",label:"",selected:!V}):V||O[""].unshift({id:"?",label:"",selected:!0})),z=0,r=P.length;r>z;z++){for(a=P[z],c=O[a],L.length<=z?(e={element:y.clone().attr("label",a),label:c.label},k=[e],L.push(k),h.append(e.element)):(k=L[z],e=k[0],e.label!=a&&e.element.attr("label",e.label=a)),D=null,B=0,u=c.length;u>B;B++)d=c[B],(l=k[B+1])?(D=l.element,l.label!==d.label&&(q(T,l.label,!1),q(T,d.label,!0),D.text(l.label=d.label),D.prop("label",l.label)),l.id!==d.id&&D.val(l.id=d.id),D[0].selected!==d.selected&&(D.prop("selected",l.selected=d.selected),Zd&&D.prop("selected",l.selected))):(""===d.id&&v?G=v:(G=x.clone()).val(d.id).prop("selected",d.selected).attr("selected",d.selected).prop("label",d.label).text(d.label),k.push(l={element:G,label:d.label,id:d.id,selected:d.selected}),q(T,d.label,!0),D?D.after(G):e.element.append(G),D=G);for(B++;k.length>B;)d=k.pop(),q(T,d.label,!1),d.element.remove()}for(;L.length>z;){for(c=L.pop(),B=1;B<c.length;++B)q(T,c[B].label,!1);c[0].element.remove()}f(T,function(a,b){a>0?p.addOption(b):0>a&&p.removeOption(b)})}var z;if(!(z=u.match(e)))throw Mg("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",u,T(h));var A=d(z[2]||z[1]),B=z[4]||z[6],C=/ as /.test(z[0])&&z[1],D=C?d(C):null,E=z[5],F=d(z[3]||""),G=d(z[2]?z[1]:B),H=d(z[7]),I=z[8],J=I?d(z[8]):null,K={},L=[[{element:h,label:""}]],M={};v&&(a(v)(b),v.removeClass("ng-scope"),v.remove()),h.empty(),h.on("change",k),i.$render=r,b.$watchCollection(H,o),b.$watchCollection(m,o),t&&b.$watchCollection(function(){return i.$modelValue},o)}if(k[1]){for(var o,p=k[0],q=k[1],t=j.multiple,u=j.ngOptions,v=!1,w=!1,x=$d(b.createElement("option")),y=$d(b.createElement("optgroup")),z=x.clone(),A=0,B=i.children(),C=B.length;C>A;A++)if(""===B[A].value){o=v=B.eq(A);break}p.init(q,v,z),t&&(q.$isEmpty=function(a){return!a||0===a.length}),u?n(h,i,q):t?m(h,i,q):l(h,i,q,p)}}}}],Pg=["$interpolate",function(a){var b={addOption:o,removeOption:o};return{restrict:"E",priority:100,compile:function(c,d){if(r(d.value)){var e=a(c.text(),!0);e||d.$set("value",c.text())}return function(a,c,d){var f="$selectController",g=c.parent(),h=g.data(f)||g.parent().data(f);h&&h.databound||(h=b),e?a.$watch(e,function(a,b){d.$set("value",a),b!==a&&h.removeOption(b),h.addOption(a,c)}):h.addOption(d.value,c),c.on("$destroy",function(){h.removeOption(d.value)})}}}}],Qg=q({restrict:"E",terminal:!1});return a.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(db(),nb(ge),void $d(b).ready(function(){$(b,_)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(a,b,c){"use strict";function d(a,b){return M(new(M(function(){},{prototype:a})),b)}function e(a){return L(arguments,function(b){b!==a&&L(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a){if(Object.keys)return Object.keys(a);var c=[];return b.forEach(a,function(a,b){c.push(b)}),c}function h(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for(d=0>d?Math.ceil(d):Math.floor(d),0>d&&(d+=c);c>d;d++)if(d in a&&a[d]===b)return d;return-1}function i(a,b,c,d){var e,i=f(c,d),j={},k=[];for(var l in i)if(i[l].params&&(e=g(i[l].params),e.length))for(var m in e)h(k,e[m])>=0||(k.push(e[m]),j[e[m]]=a[e[m]]);return M({},j,b)}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return L(a,function(a){c[a]=b[a]}),c}function l(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a)-1==h(c,d)&&(b[d]=a[d]);return b}function m(a,b){var c=K(a),d=c?[]:{};return L(a,function(a,e){b(a,e)&&(d[c?d.length:e]=a)}),d}function n(a,b){var c=K(a)?[]:{};return L(a,function(a,d){c[d]=b(a,d)}),c}function o(a,b){var d=1,f=2,i={},j=[],k=i,m=M(a.when(i),{$$promises:i,$$values:i});this.study=function(i){function n(a,c){if(s[c]!==f){if(r.push(c),s[c]===d)throw r.splice(0,h(r,c)),new Error("Cyclic dependency: "+r.join(" -> "));if(s[c]=d,I(a))q.push(c,[function(){return b.get(a)}],j);else{var e=b.annotate(a);L(e,function(a){a!==c&&i.hasOwnProperty(a)&&n(i[a],a)}),q.push(c,a,e)}r.pop(),s[c]=f}}function o(a){return J(a)&&a.then&&a.$$promises}if(!J(i))throw new Error("'invocables' must be an object");var p=g(i||{}),q=[],r=[],s={};return L(i,n),i=r=s=null,function(d,f,g){function h(){--u||(v||e(t,f.$$values),r.$$values=t,r.$$promises=r.$$promises||!0,delete r.$$inheritedValues,n.resolve(t))}function i(a){r.$$failure=a,n.reject(a)}function j(c,e,f){function j(a){l.reject(a),i(a)}function k(){if(!G(r.$$failure))try{l.resolve(b.invoke(e,g,t)),l.promise.then(function(a){t[c]=a,h()},j)}catch(a){j(a)}}var l=a.defer(),m=0;L(f,function(a){s.hasOwnProperty(a)&&!d.hasOwnProperty(a)&&(m++,s[a].then(function(b){t[a]=b,--m||k()},j))}),m||k(),s[c]=l.promise}if(o(d)&&g===c&&(g=f,f=d,d=null),d){if(!J(d))throw new Error("'locals' must be an object")}else d=k;if(f){if(!o(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else f=m;var n=a.defer(),r=n.promise,s=r.$$promises={},t=M({},d),u=1+q.length/3,v=!1;if(G(f.$$failure))return i(f.$$failure),r;f.$$inheritedValues&&e(t,l(f.$$inheritedValues,p)),M(s,f.$$promises),f.$$values?(v=e(t,l(f.$$values,p)),r.$$inheritedValues=l(f.$$values,p),h()):(f.$$inheritedValues&&(r.$$inheritedValues=l(f.$$inheritedValues,p)),f.then(h,i));for(var w=0,x=q.length;x>w;w+=3)d.hasOwnProperty(q[w])?h():j(q[w],q[w+1],q[w+2]);return r}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function p(a,b,c){this.fromConfig=function(a,b,c){return G(a.template)?this.fromString(a.template,b):G(a.templateUrl)?this.fromUrl(a.templateUrl,b):G(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return H(a)?a(b):a},this.fromUrl=function(c,d){return H(c)&&(c=c(d)),null==c?null:a.get(c,{cache:b,headers:{Accept:"text/html"}}).then(function(a){return a.data})},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function q(a,b,e){function f(b,c,d,e){if(q.push(b),o[b])return o[b];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(p[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");return p[b]=new O.Param(b,c,d,e),p[b]}function g(a,b,c){var d=["",""],e=a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!b)return e;switch(c){case!1:d=["(",")"];break;case!0:d=["?(",")?"];break;default:d=["("+c+"|",")?"]}return e+d[0]+b+d[1]}function h(c,e){var f,g,h,i,j;return f=c[2]||c[3],j=b.params[f],h=a.substring(m,c.index),g=e?c[4]:c[4]||("*"==c[1]?".*":null),i=O.type(g||"string")||d(O.type("string"),{pattern:new RegExp(g)}),{id:f,regexp:g,segment:h,type:i,cfg:j}}b=M({params:{}},J(b)?b:{});var i,j=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,k=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",m=0,n=this.segments=[],o=e?e.params:{},p=this.params=e?e.params.$$new():new O.ParamSet,q=[];this.source=a;for(var r,s,t;(i=j.exec(a))&&(r=h(i,!1),!(r.segment.indexOf("?")>=0));)s=f(r.id,r.type,r.cfg,"path"),l+=g(r.segment,s.type.pattern.source,s.squash),n.push(r.segment),m=j.lastIndex;t=a.substring(m);var u=t.indexOf("?");if(u>=0){var v=this.sourceSearch=t.substring(u);if(t=t.substring(0,u),this.sourcePath=a.substring(0,m+u),v.length>0)for(m=0;i=k.exec(v);)r=h(i,!0),s=f(r.id,r.type,r.cfg,"search"),m=j.lastIndex}else this.sourcePath=a,this.sourceSearch="";l+=g(t)+(b.strict===!1?"/?":"")+"$",n.push(t),this.regexp=new RegExp(l,b.caseInsensitive?"i":c),this.prefix=n[0],this.$$paramNames=q}function r(a){M(this,a)}function s(){function a(a){return null!=a?a.toString().replace(/\//g,"%2F"):a}function e(a){return null!=a?a.toString().replace(/%2F/g,"/"):a}function f(a){return this.pattern.test(a)}function i(){return{strict:t,caseInsensitive:p}}function j(a){return H(a)||K(a)&&H(a[a.length-1])}function k(){for(;x.length;){var a=x.shift();if(a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");b.extend(v[a.name],o.invoke(a.def))}}function l(a){M(this,a||{})}O=this;var o,p=!1,t=!0,u=!1,v={},w=!0,x=[],y={string:{encode:a,decode:e,is:f,pattern:/[^/]*/},"int":{encode:a,decode:function(a){return parseInt(a,10)},is:function(a){return G(a)&&this.decode(a.toString())===a},pattern:/\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return 0!==parseInt(a,10)},is:function(a){return a===!0||a===!1},pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):c},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):c},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:b.toJson,decode:b.fromJson,is:b.isObject,equals:b.equals,pattern:/[^/]*/},any:{encode:b.identity,decode:b.identity,is:b.identity,equals:b.equals,pattern:/.*/}};s.$$getDefaultValue=function(a){if(!j(a.value))return a.value;if(!o)throw new Error("Injectable functions cannot be called at configuration time");return o.invoke(a.value)},this.caseInsensitive=function(a){return G(a)&&(p=a),p},this.strictMode=function(a){return G(a)&&(t=a),t},this.defaultSquashPolicy=function(a){if(!G(a))return u;if(a!==!0&&a!==!1&&!I(a))throw new Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return u=a,a},this.compile=function(a,b){return new q(a,M(i(),b))},this.isMatcher=function(a){if(!J(a))return!1;var b=!0;return L(q.prototype,function(c,d){H(c)&&(b=b&&G(a[d])&&H(a[d]))}),b},this.type=function(a,b,c){if(!G(b))return v[a];if(v.hasOwnProperty(a))throw new Error("A type named '"+a+"' has already been defined.");return v[a]=new r(M({name:a},b)),c&&(x.push({name:a,def:c}),w||k()),this},L(y,function(a,b){v[b]=new r(M({name:b},a))}),v=d(v,{}),this.$get=["$injector",function(a){return o=a,w=!1,k(),L(y,function(a,b){v[b]||(v[b]=new r(a))}),this}],this.Param=function(a,b,d,e){function f(a){var b=J(a)?g(a):[],c=-1===h(b,"value")&&-1===h(b,"type")&&-1===h(b,"squash")&&-1===h(b,"array");return c&&(a={value:a}),a.$$fn=j(a.value)?a.value:function(){return a.value},a}function i(b,c,d){if(b.type&&c)throw new Error("Param '"+a+"' has two type configurations.");return c?c:b.type?b.type instanceof r?b.type:new r(b.type):"config"===d?v.any:v.string}function k(){var b={array:"search"===e?"auto":!1},c=a.match(/\[\]$/)?{array:!0}:{};return M(b,c,d).array}function l(a,b){var c=a.squash;if(!b||c===!1)return!1;if(!G(c)||null==c)return u;if(c===!0||I(c))return c;throw new Error("Invalid squash policy: '"+c+"'. Valid policies: false, true, or arbitrary string")}function p(a,b,d,e){var f,g,i=[{from:"",to:d||b?c:""},{from:null,to:d||b?c:""}];return f=K(a.replace)?a.replace:[],I(e)&&f.push({from:e,to:c}),g=n(f,function(a){return a.from}),m(i,function(a){return-1===h(g,a.from)}).concat(f)}function q(){if(!o)throw new Error("Injectable functions cannot be called at configuration time");return o.invoke(d.$$fn)}function s(a){function b(a){return function(b){return b.from===a}}function c(a){var c=n(m(w.replace,b(a)),function(a){return a.to});return c.length?c[0]:a}return a=c(a),G(a)?w.type.decode(a):q()}function t(){return"{Param:"+a+" "+b+" squash: '"+z+"' optional: "+y+"}"}var w=this;d=f(d),b=i(d,b,e);var x=k();b=x?b.$asArray(x,"search"===e):b,"string"!==b.name||x||"path"!==e||d.value!==c||(d.value="");var y=d.value!==c,z=l(d,y),A=p(d,x,y,z);M(this,{id:a,type:b,location:e,array:x,squash:z,replace:A,isOptional:y,value:s,dynamic:c,config:d,toString:t})},l.prototype={$$new:function(){return d(this,M(new l,{$$parent:this}))},$$keys:function(){for(var a=[],b=[],c=this,d=g(l.prototype);c;)b.push(c),c=c.$$parent;return b.reverse(),L(b,function(b){L(g(b),function(b){-1===h(a,b)&&-1===h(d,b)&&a.push(b)})}),a},$$values:function(a){var b={},c=this;return L(c.$$keys(),function(d){b[d]=c[d].value(a&&a[d])}),b},$$equals:function(a,b){var c=!0,d=this;return L(d.$$keys(),function(e){var f=a&&a[e],g=b&&b[e];d[e].type.equals(f,g)||(c=!1)}),c},$$validates:function(a){var b,c,d,e=!0,f=this;return L(this.$$keys(),function(g){d=f[g],c=a[g],b=!c&&d.isOptional,e=e&&(b||!!d.type.is(c))}),e},$$parent:c},this.ParamSet=l}function t(a,d){function e(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function f(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function g(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return G(d)?d:!0}function h(d,e,f,g){function h(a,b,c){return"/"===p?a:b?p.slice(0,-1)+a:c?p.slice(1)+a:a}function m(a){function b(a){var b=a(f,d);return b?(I(b)&&d.replace().url(b),!0):!1}if(!a||!a.defaultPrevented){var e=o&&d.url()===o;if(o=c,e)return!0;var g,h=j.length;for(g=0;h>g;g++)if(b(j[g]))return;k&&b(k)}}function n(){return i=i||e.$on("$locationChangeSuccess",m)}var o,p=g.baseHref(),q=d.url();return l||n(),{sync:function(){m()},listen:function(){return n()},update:function(a){return a?void(q=d.url()):void(d.url()!==q&&(d.url(q),d.replace()))},push:function(a,b,e){d.url(a.format(b||{})),o=e&&e.$$avoidResync?d.url():c,e&&e.replace&&d.replace()},href:function(c,e,f){if(!c.validates(e))return null;var g=a.html5Mode();b.isObject(g)&&(g=g.enabled);var i=c.format(e);if(f=f||{},g||null===i||(i="#"+a.hashPrefix()+i),i=h(i,g,f.absolute),!f.absolute||!i)return i;var j=!g&&i?"/":"",k=d.port();return k=80===k||443===k?"":":"+k,[d.protocol(),"://",d.host(),k,j,i].join("")}}}var i,j=[],k=null,l=!1;this.rule=function(a){if(!H(a))throw new Error("'rule' must be a function");return j.push(a),this},this.otherwise=function(a){if(I(a)){var b=a;a=function(){return b}}else if(!H(a))throw new Error("'rule' must be a function");return k=a,this},this.when=function(a,b){var c,h=I(b);if(I(a)&&(a=d.compile(a)),!h&&!H(b)&&!K(b))throw new Error("invalid 'handler' in when()");var i={matcher:function(a,b){return h&&(c=d.compile(b),b=["$match",function(a){return c.format(a)}]),M(function(c,d){return g(c,b,a.exec(d.path(),d.search()))},{prefix:I(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return h&&(c=b,b=["$match",function(a){return f(c,a)}]),M(function(c,d){return g(c,b,a.exec(d.path()))},{prefix:e(a)})}},j={matcher:d.isMatcher(a),regex:a instanceof RegExp};for(var k in j)if(j[k])return this.rule(i[k](a,b));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(a){a===c&&(a=!0),l=a},this.$get=h,h.$inject=["$location","$rootScope","$injector","$browser"]}function u(a,e){function f(a){return 0===a.indexOf(".")||0===a.indexOf("^")}function l(a,b){if(!a)return c;var d=I(a),e=d?a:a.name,g=f(e);if(g){if(!b)throw new Error("No reference point given for path '"+e+"'");b=l(b);for(var h=e.split("."),i=0,j=h.length,k=b;j>i;i++)if(""!==h[i]||0!==i){if("^"!==h[i])break;if(!k.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");k=k.parent}else k=b;h=h.slice(i).join("."),e=k.name+(k.name&&h?".":"")+h}var m=y[e];return!m||!d&&(d||m!==a&&m.self!==a)?c:m}function m(a,b){z[a]||(z[a]=[]),z[a].push(b)}function o(a){for(var b=z[a]||[];b.length;)p(b.shift())}function p(b){b=d(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!I(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(y.hasOwnProperty(c))throw new Error("State '"+c+"'' is already defined");var e=-1!==c.indexOf(".")?c.substring(0,c.lastIndexOf(".")):I(b.parent)?b.parent:J(b.parent)&&I(b.parent.name)?b.parent.name:"";if(e&&!y[e])return m(e,b.self);for(var f in B)H(B[f])&&(b[f]=B[f](b,B.$delegates[f]));return y[c]=b,!b[A]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){x.$current.navigable==b&&j(a,c)||x.transitionTo(b,a,{inherit:!0,location:!1})}]),o(c),b}function q(a){return a.indexOf("*")>-1}function r(a){var b=a.split("."),c=x.$current.name.split(".");if("**"===b[0]&&(c=c.slice(h(c,b[1])),c.unshift("**")),"**"===b[b.length-1]&&(c.splice(h(c,b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length!=c.length)return!1;for(var d=0,e=b.length;e>d;d++)"*"===b[d]&&(c[d]="*");return c.join("")===b.join("")}function s(a,b){return I(a)&&!G(b)?B[a]:H(b)&&I(a)?(B[a]&&!B.$delegates[a]&&(B.$delegates[a]=B[a]),B[a]=b,this):this}function t(a,b){return J(a)?b=a:b.name=a,p(b),this}function u(a,e,f,h,m,o,p){function s(b,c,d,f){var g=a.$broadcast("$stateNotFound",b,c,d);if(g.defaultPrevented)return p.update(),B;if(!g.retry)return null;if(f.$retry)return p.update(),C;var h=x.transition=e.when(g.retry);return h.then(function(){return h!==x.transition?u:(b.options.$retry=!0,x.transitionTo(b.to,b.toParams,b.options))},function(){return B}),p.update(),h}function t(a,c,d,g,i,j){var l=d?c:k(a.params.$$keys(),c),n={$stateParams:l};i.resolve=m.resolve(a.resolve,n,i.resolve,a);var o=[i.resolve.then(function(a){i.globals=a})];return g&&o.push(g),L(a.views,function(c,d){var e=c.resolve&&c.resolve!==a.resolve?c.resolve:{};e.$template=[function(){return f.load(d,{view:c,locals:n,params:l,notify:j.notify})||""}],o.push(m.resolve(e,n,i.resolve,a).then(function(f){if(H(c.controllerProvider)||K(c.controllerProvider)){var g=b.extend({},e,n);f.$$controller=h.invoke(c.controllerProvider,null,g)}else f.$$controller=c.controller;f.$$state=a,f.$$controllerAs=c.controllerAs,i[d]=f}))}),e.all(o).then(function(){return i})}var u=e.reject(new Error("transition superseded")),z=e.reject(new Error("transition prevented")),B=e.reject(new Error("transition aborted")),C=e.reject(new Error("transition failed"));return w.locals={resolve:null,globals:{$stateParams:{}}},x={params:{},current:w.self,$current:w,transition:null},x.reload=function(){return x.transitionTo(x.current,o,{reload:!0,inherit:!1,notify:!0})},x.go=function(a,b,c){return x.transitionTo(a,b,M({inherit:!0,relative:x.$current},c))},x.transitionTo=function(b,c,f){c=c||{},f=M({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var g,j=x.$current,m=x.params,n=j.path,q=l(b,f.relative);if(!G(q)){var r={to:b,toParams:c,options:f},y=s(r,j.self,m,f);if(y)return y;if(b=r.to,c=r.toParams,f=r.options,q=l(b,f.relative),!G(q)){if(!f.relative)throw new Error("No such state '"+b+"'");throw new Error("Could not resolve '"+b+"' from state '"+f.relative+"'")}}if(q[A])throw new Error("Cannot transition to abstract state '"+b+"'");if(f.inherit&&(c=i(o,c||{},x.$current,q)),!q.params.$$validates(c))return C;c=q.params.$$values(c),b=q;var B=b.path,D=0,E=B[D],F=w.locals,H=[];if(!f.reload)for(;E&&E===n[D]&&E.ownParams.$$equals(c,m);)F=H[D]=E.locals,D++,E=B[D];if(v(b,j,F,f))return b.self.reloadOnSearch!==!1&&p.update(),x.transition=null,e.when(x.current);if(c=k(b.params.$$keys(),c||{}),f.notify&&a.$broadcast("$stateChangeStart",b.self,c,j.self,m).defaultPrevented)return p.update(),z;for(var I=e.when(F),J=D;J<B.length;J++,E=B[J])F=H[J]=d(F),I=t(E,c,E===b,I,F,f);var K=x.transition=I.then(function(){var d,e,g;if(x.transition!==K)return u;for(d=n.length-1;d>=D;d--)g=n[d],g.self.onExit&&h.invoke(g.self.onExit,g.self,g.locals.globals),g.locals=null;for(d=D;d<B.length;d++)e=B[d],e.locals=H[d],e.self.onEnter&&h.invoke(e.self.onEnter,e.self,e.locals.globals);return x.transition!==K?u:(x.$current=b,x.current=b.self,x.params=c,N(x.params,o),x.transition=null,f.location&&b.navigable&&p.push(b.navigable.url,b.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===f.location}),f.notify&&a.$broadcast("$stateChangeSuccess",b.self,c,j.self,m),p.update(!0),x.current)},function(d){return x.transition!==K?u:(x.transition=null,g=a.$broadcast("$stateChangeError",b.self,c,j.self,m,d),g.defaultPrevented||p.update(),e.reject(d))});return K},x.is=function(a,b,d){d=M({relative:x.$current},d||{});var e=l(a,d.relative);return G(e)?x.$current!==e?!1:b?j(e.params.$$values(b),o):!0:c},x.includes=function(a,b,d){if(d=M({relative:x.$current},d||{}),I(a)&&q(a)){if(!r(a))return!1;a=x.$current.name}var e=l(a,d.relative);return G(e)?G(x.$current.includes[e.name])?b?j(e.params.$$values(b),o,g(b)):!0:!1:c},x.href=function(a,b,d){d=M({lossy:!0,inherit:!0,absolute:!1,relative:x.$current},d||{});var e=l(a,d.relative);if(!G(e))return null;d.inherit&&(b=i(o,b||{},x.$current,e));var f=e&&d.lossy?e.navigable:e;return f&&f.url!==c&&null!==f.url?p.href(f.url,k(e.params.$$keys(),b||{}),{absolute:d.absolute}):null},x.get=function(a,b){if(0===arguments.length)return n(g(y),function(a){return y[a].self});var c=l(a,b||x.$current);return c&&c.self?c.self:null},x}function v(a,b,c,d){return a!==b||(c!==b.locals||d.reload)&&a.self.reloadOnSearch!==!1?void 0:!0}var w,x,y={},z={},A="abstract",B={parent:function(a){if(G(a.parent)&&a.parent)return l(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?l(b[1]):w},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=M({},a.parent.data,a.data)),a.data},url:function(a){var b=a.url,c={params:a.params||{}};if(I(b))return"^"==b.charAt(0)?e.compile(b.substring(1),c):(a.parent.navigable||w).url.concat(b,c);if(!b||e.isMatcher(b))return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new O.ParamSet;return L(a.params||{},function(a,c){b[c]||(b[c]=new O.Param(c,null,a,"config"))}),b},params:function(a){return a.parent&&a.parent.params?M(a.parent.params.$$new(),a.ownParams):new O.ParamSet},views:function(a){var b={};return L(G(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),b[d]=c}),b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?M({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};w=p({name:"",url:"^",views:null,"abstract":!0}),w.navigable=null,this.decorator=s,this.state=t,this.$get=u,u.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function v(){function a(a,b){return{load:function(c,d){var e,f={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return d=M(f,d),d.view&&(e=b.fromConfig(d.view,d.params,d.locals)),e&&d.notify&&a.$broadcast("$viewContentLoading",d),e}}}this.$get=a,a.$inject=["$rootScope","$templateFactory"]}function w(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){c(function(){a[0].scrollIntoView()},0,!1)}}]}function x(a,c,d,e){function f(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(b){return null}}}function g(a,b){var c=function(){return{enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}}};if(j)return{enter:function(a,b,c){var d=j.enter(a,null,b,c);d&&d.then&&d.then(c)},leave:function(a,b){var c=j.leave(a,b);c&&c.then&&c.then(b)}};if(i){var d=i&&i(b,a);return{enter:function(a,b,c){d.enter(a,null,b),c()},leave:function(a,b){d.leave(a),b()}}}return c()}var h=f(),i=h("$animator"),j=h("$animate"),k={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,f,h){return function(c,f,i){function j(){l&&(l.remove(),l=null),n&&(n.$destroy(),n=null),m&&(r.leave(m,function(){l=null}),l=m,m=null)}function k(g){var k,l=z(c,i,f,e),s=l&&a.$current&&a.$current.locals[l];if(g||s!==o){k=c.$new(),o=a.$current.locals[l];var t=h(k,function(a){r.enter(a,f,function(){n&&n.$emit("$viewContentAnimationEnded"),(b.isDefined(q)&&!q||c.$eval(q))&&d(a)}),j()});m=t,n=k,n.$emit("$viewContentLoaded"),n.$eval(p)}}var l,m,n,o,p=i.onload||"",q=i.autoscroll,r=g(i,c);c.$on("$stateChangeSuccess",function(){k(!1)}),c.$on("$viewContentLoading",function(){k(!1)}),k(!0)}}};return k}function y(a,b,c,d){return{restrict:"ECA",priority:-400,compile:function(e){var f=e.html();return function(e,g,h){var i=c.$current,j=z(e,h,g,d),k=i&&i.locals[j];if(k){g.data("$uiView",{name:j,state:k.$$state}),g.html(k.$template?k.$template:f);var l=a(g.contents());if(k.$$controller){k.$scope=e;var m=b(k.$$controller,k);k.$$controllerAs&&(e[k.$$controllerAs]=m),g.data("$ngControllerController",m),g.children().data("$ngControllerController",m)}l(e)}}}}}function z(a,b,c,d){var e=d(b.uiView||b.name||"")(a),f=c.inheritedData("$uiView");return e.indexOf("@")>=0?e:e+"@"+(f?f.state.name:"")}function A(a,b){var c,d=a.match(/^\s*({[^}]*})\s*$/);if(d&&(a=b+"("+d[1]+")"),c=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!c||4!==c.length)throw new Error("Invalid state ref '"+a+"'");return{state:c[1],paramExpr:c[3]||null}}function B(a){var b=a.parent().inheritedData("$uiView");return b&&b.state&&b.state.name?b.state:void 0}function C(a,c){var d=["location","inherit","reload"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(e,f,g,h){var i=A(g.uiSref,a.current.name),j=null,k=B(f)||a.$current,l=null,m="A"===f.prop("tagName"),n="FORM"===f[0].nodeName,o=n?"action":"href",p=!0,q={relative:k,inherit:!0},r=e.$eval(g.uiSrefOpts)||{};b.forEach(d,function(a){a in r&&(q[a]=r[a])});var s=function(c){if(c&&(j=b.copy(c)),p){l=a.href(i.state,j,q);var d=h[1]||h[0];return d&&d.$$setStateInfo(i.state,j),null===l?(p=!1,!1):void g.$set(o,l)}};i.paramExpr&&(e.$watch(i.paramExpr,function(a){a!==j&&s(a)},!0),j=b.copy(e.$eval(i.paramExpr))),s(),n||f.bind("click",function(b){var d=b.which||b.button;if(!(d>1||b.ctrlKey||b.metaKey||b.shiftKey||f.attr("target"))){var e=c(function(){a.go(i.state,j,q)});b.preventDefault();var g=m&&!l?1:0;b.preventDefault=function(){g--<=0&&c.cancel(e)}}})}}}function D(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs",function(b,d,e){function f(){g()?d.addClass(j):d.removeClass(j)}function g(){return"undefined"!=typeof e.uiSrefActiveEq?h&&a.is(h.name,i):h&&a.includes(h.name,i)}var h,i,j;j=c(e.uiSrefActiveEq||e.uiSrefActive||"",!1)(b),this.$$setStateInfo=function(b,c){h=a.get(b,B(d)),i=c,f()},b.$on("$stateChangeSuccess",f)}]}}function E(a){var b=function(b){return a.is(b)};return b.$stateful=!0,b}function F(a){var b=function(b){return a.includes(b)};return b.$stateful=!0,b}var G=b.isDefined,H=b.isFunction,I=b.isString,J=b.isObject,K=b.isArray,L=b.forEach,M=b.extend,N=b.copy;b.module("ui.router.util",["ng"]),b.module("ui.router.router",["ui.router.util"]),b.module("ui.router.state",["ui.router.router","ui.router.util"]),b.module("ui.router",["ui.router.state"]),b.module("ui.router.compat",["ui.router"]),o.$inject=["$q","$injector"],b.module("ui.router.util").service("$resolve",o),p.$inject=["$http","$templateCache","$injector"],b.module("ui.router.util").service("$templateFactory",p);var O;q.prototype.concat=function(a,b){var c={caseInsensitive:O.caseInsensitive(),strict:O.strictMode(),squash:O.defaultSquashPolicy()};return new q(this.sourcePath+a+this.sourceSearch,M(c,b),this)},q.prototype.toString=function(){return this.source},q.prototype.exec=function(a,b){function c(a){function b(a){return a.split("").reverse().join("")}function c(a){return a.replace(/\\-/,"-")}var d=b(a).split(/-(?!\\)/),e=n(d,b);return n(e,c).reverse()}var d=this.regexp.exec(a);if(!d)return null;b=b||{};var e,f,g,h=this.parameters(),i=h.length,j=this.segments.length-1,k={};if(j!==d.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(e=0;j>e;e++){g=h[e];var l=this.params[g],m=d[e+1];for(f=0;f<l.replace;f++)l.replace[f].from===m&&(m=l.replace[f].to);m&&l.array===!0&&(m=c(m)),k[g]=l.value(m)}for(;i>e;e++)g=h[e],k[g]=this.params[g].value(b[g]);return k},q.prototype.parameters=function(a){return G(a)?this.params[a]||null:this.$$paramNames},q.prototype.validates=function(a){return this.params.$$validates(a)},q.prototype.format=function(a){function b(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}a=a||{};var c=this.segments,d=this.parameters(),e=this.params;if(!this.validates(a))return null;var f,g=!1,h=c.length-1,i=d.length,j=c[0];for(f=0;i>f;f++){var k=h>f,l=d[f],m=e[l],o=m.value(a[l]),p=m.isOptional&&m.type.equals(m.value(),o),q=p?m.squash:!1,r=m.type.encode(o);if(k){var s=c[f+1];if(q===!1)null!=r&&(j+=K(r)?n(r,b).join("-"):encodeURIComponent(r)),j+=s;else if(q===!0){var t=j.match(/\/$/)?/\/?(.*)/:/(.*)/;j+=s.match(t)[1]}else I(q)&&(j+=q+s)}else{if(null==r||p&&q!==!1)continue;K(r)||(r=[r]),r=n(r,encodeURIComponent).join("&"+l+"="),j+=(g?"&":"?")+(l+"="+r),g=!0}}return j},r.prototype.is=function(){return!0},r.prototype.encode=function(a){return a},r.prototype.decode=function(a){return a},r.prototype.equals=function(a,b){return a==b},r.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)},r.prototype.pattern=/.*/,r.prototype.toString=function(){return"{Type:"+this.name+"}"},r.prototype.$asArray=function(a,b){function d(a,b){function d(a,b){return function(){return a[b].apply(a,arguments)}}function e(a){return K(a)?a:G(a)?[a]:[]}function f(a){switch(a.length){case 0:return c;case 1:return"auto"===b?a[0]:a;default:return a}}function g(a){return!a}function h(a,b){return function(c){c=e(c);var d=n(c,a);return b===!0?0===m(d,g).length:f(d)}}function i(a){return function(b,c){var d=e(b),f=e(c);if(d.length!==f.length)return!1;for(var g=0;g<d.length;g++)if(!a(d[g],f[g]))return!1;return!0}}this.encode=h(d(a,"encode")),this.decode=h(d(a,"decode")),this.is=h(d(a,"is"),!0),this.equals=i(d(a,"equals")),this.pattern=a.pattern,this.$arrayMode=b}if(!a)return this;if("auto"===a&&!b)throw new Error("'auto' array mode is for query parameters only");return new d(this,a)},b.module("ui.router.util").provider("$urlMatcherFactory",s),b.module("ui.router.util").run(["$urlMatcherFactory",function(){}]),t.$inject=["$locationProvider","$urlMatcherFactoryProvider"],b.module("ui.router.router").provider("$urlRouter",t),u.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],b.module("ui.router.state").value("$stateParams",{}).provider("$state",u),v.$inject=[],b.module("ui.router.state").provider("$view",v),b.module("ui.router.state").provider("$uiViewScroll",w),x.$inject=["$state","$injector","$uiViewScroll","$interpolate"],y.$inject=["$compile","$controller","$state","$interpolate"],b.module("ui.router.state").directive("uiView",x),b.module("ui.router.state").directive("uiView",y),C.$inject=["$state","$timeout"],D.$inject=["$state","$stateParams","$interpolate"],b.module("ui.router.state").directive("uiSref",C).directive("uiSrefActive",D).directive("uiSrefActiveEq",D),E.$inject=["$state"],F.$inject=["$state"],b.module("ui.router.state").filter("isState",E).filter("includedByState",F)
}(window,window.angular),angular.module("checklist-model",[]).directive("checklistModel",["$parse","$compile",function(a,b){function c(a,b){if(angular.isArray(a))for(var c=0;c<a.length;c++)if(angular.equals(a[c],b))return!0;return!1}function d(a,b){a=angular.isArray(a)?a:[];for(var c=0;c<a.length;c++)if(angular.equals(a[c],b))return a;return a.push(b),a}function e(a,b){if(angular.isArray(a))for(var c=0;c<a.length;c++)if(angular.equals(a[c],b)){a.splice(c,1);break}return a}function f(f,g,h){b(g)(f);var i=a(h.checklistModel),j=i.assign,k=a(h.checklistValue)(f.$parent);f.$watch("checked",function(a,b){if(a!==b){var c=i(f.$parent);a===!0?j(f.$parent,d(c,k)):j(f.$parent,e(c,k))}}),f.$parent.$watch(h.checklistModel,function(a){f.checked=c(a,k)},!0)}return{restrict:"A",priority:1e3,terminal:!0,scope:!0,compile:function(a,b){if("INPUT"!==a[0].tagName||!a.attr("type","checkbox"))throw'checklist-model should be applied to `input[type="checkbox"]`.';if(!b.checklistValue)throw"You should provide `checklist-value`.";return a.removeAttr("checklist-model"),a.attr("ng-model","checked"),f}}}]),function(){function a(a,b,c){for(var d=(c||0)-1,e=a?a.length:0;++d<e;)if(a[d]===b)return d;return-1}function b(b,c){var d=typeof c;if(b=b.cache,"boolean"==d||null==c)return b[c]?0:-1;"number"!=d&&"string"!=d&&(d="object");var e="number"==d?c:u+c;return b=(b=b[d])&&b[e],"object"==d?b&&a(b,c)>-1?0:-1:b?0:-1}function c(a){var b=this.cache,c=typeof a;if("boolean"==c||null==a)b[a]=!0;else{"number"!=c&&"string"!=c&&(c="object");var d="number"==c?a:u+a,e=b[c]||(b[c]={});"object"==c?(e[d]||(e[d]=[])).push(a):e[d]=!0}}function d(a){return a.charCodeAt(0)}function e(a,b){for(var c=a.criteria,d=b.criteria,e=-1,f=c.length;++e<f;){var g=c[e],h=d[e];if(g!==h){if(g>h||"undefined"==typeof g)return 1;if(h>g||"undefined"==typeof h)return-1}}return a.index-b.index}function f(a){var b=-1,d=a.length,e=a[0],f=a[d/2|0],g=a[d-1];if(e&&"object"==typeof e&&f&&"object"==typeof f&&g&&"object"==typeof g)return!1;var h=i();h["false"]=h["null"]=h["true"]=h.undefined=!1;var j=i();for(j.array=a,j.cache=h,j.push=c;++b<d;)j.push(a[b]);return j}function g(a){return"\\"+_[a]}function h(){return q.pop()||[]}function i(){return r.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function j(a){return"function"!=typeof a.toString&&"string"==typeof(a+"")}function l(a){a.length=0,q.length<w&&q.push(a)}function m(a){var b=a.cache;b&&m(b),a.array=a.cache=a.criteria=a.object=a.number=a.string=a.value=null,r.length<w&&r.push(a)}function n(a,b,c){b||(b=0),"undefined"==typeof c&&(c=a?a.length:0);for(var d=-1,e=c-b||0,f=Array(0>e?0:e);++d<e;)f[d]=a[b+d];return f}function o(c){function q(a){return a&&"object"==typeof a&&!ke(a)&&Rd.call(a,"__wrapped__")?a:new r(a)}function r(a,b){this.__chain__=!!b,this.__wrapped__=a}function w(a){function b(){if(d){var a=n(d);Sd.apply(a,arguments)}if(this instanceof b){var f=bb(c.prototype),g=c.apply(f,a||arguments);return Lb(g)?g:f}return c.apply(e,a||arguments)}var c=a[0],d=a[2],e=a[4];return je(b,a),b}function _(a,b,c,d,e){if(c){var f=c(a);if("undefined"!=typeof f)return f}var g=Lb(a);if(!g)return a;var i=Kd.call(a);if(!W[i]||!he.nodeClass&&j(a))return a;var k=fe[i];switch(i){case O:case P:return new k(+a);case S:case V:return new k(a);case U:return f=k(a.source,C.exec(a)),f.lastIndex=a.lastIndex,f}var m=ke(a);if(b){var o=!d;d||(d=h()),e||(e=h());for(var p=d.length;p--;)if(d[p]==a)return e[p];f=m?k(a.length):{}}else f=m?n(a):ve({},a);return m&&(Rd.call(a,"index")&&(f.index=a.index),Rd.call(a,"input")&&(f.input=a.input)),b?(d.push(a),e.push(f),(m?ue:ye)(a,function(a,g){f[g]=_(a,b,c,d,e)}),o&&(l(d),l(e)),f):f}function bb(a){return Lb(a)?Yd(a):{}}function cb(a,b,c){if("function"!=typeof a)return ed;if("undefined"==typeof b||!("prototype"in a))return a;var d=a.__bindData__;if("undefined"==typeof d&&(he.funcNames&&(d=!a.name),d=d||!he.funcDecomp,!d)){var e=Pd.call(a);he.funcNames||(d=!D.test(e)),d||(d=H.test(e),je(a,d))}if(d===!1||d!==!0&&1&d[1])return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return Pc(a,b)}function db(a){function b(){var a=i?g:this;if(e){var o=n(e);Sd.apply(o,arguments)}if((f||k)&&(o||(o=n(arguments)),f&&Sd.apply(o,f),k&&o.length<h))return d|=16,db([c,l?d:-4&d,o,null,g,h]);if(o||(o=arguments),j&&(c=a[m]),this instanceof b){a=bb(c.prototype);var p=c.apply(a,o);return Lb(p)?p:a}return c.apply(a,o)}var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=1&d,j=2&d,k=4&d,l=8&d,m=c;return je(b,a),b}function eb(c,d){var e=-1,g=pb(),h=c?c.length:0,i=h>=v&&g===a,j=[];if(i){var k=f(d);k?(g=b,d=k):i=!1}for(;++e<h;){var l=c[e];g(d,l)<0&&j.push(l)}return i&&m(d),j}function gb(a,b,c,d){for(var e=(d||0)-1,f=a?a.length:0,g=[];++e<f;){var h=a[e];if(h&&"object"==typeof h&&"number"==typeof h.length&&(ke(h)||tb(h))){b||(h=gb(h,b,c));var i=-1,j=h.length,k=g.length;for(g.length+=j;++i<j;)g[k++]=h[i]}else c||g.push(h)}return g}function hb(a,b,c,d,e,f){if(c){var g=c(a,b);if("undefined"!=typeof g)return!!g}if(a===b)return 0!==a||1/a==1/b;var i=typeof a,k=typeof b;if(!(a!==a||a&&$[i]||b&&$[k]))return!1;if(null==a||null==b)return a===b;var m=Kd.call(a),n=Kd.call(b);if(m==M&&(m=T),n==M&&(n=T),m!=n)return!1;switch(m){case O:case P:return+a==+b;case S:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case U:case V:return a==Dd(b)}var o=m==N;if(!o){var p=Rd.call(a,"__wrapped__"),q=Rd.call(b,"__wrapped__");if(p||q)return hb(p?a.__wrapped__:a,q?b.__wrapped__:b,c,d,e,f);if(m!=T||!he.nodeClass&&(j(a)||j(b)))return!1;var r=!he.argsObject&&tb(a)?Bd:a.constructor,s=!he.argsObject&&tb(b)?Bd:b.constructor;if(r!=s&&!(Kb(r)&&r instanceof r&&Kb(s)&&s instanceof s)&&"constructor"in a&&"constructor"in b)return!1}var t=!e;e||(e=h()),f||(f=h());for(var u=e.length;u--;)if(e[u]==a)return f[u]==b;var v=0;if(g=!0,e.push(a),f.push(b),o){if(u=a.length,v=b.length,g=v==u,g||d)for(;v--;){var w=u,x=b[v];if(d)for(;w--&&!(g=hb(a[w],x,c,d,e,f)););else if(!(g=hb(a[v],x,c,d,e,f)))break}}else xe(b,function(b,h,i){return Rd.call(i,h)?(v++,g=Rd.call(a,h)&&hb(a[h],b,c,d,e,f)):void 0}),g&&!d&&xe(a,function(a,b,c){return Rd.call(c,b)?g=--v>-1:void 0});return e.pop(),f.pop(),t&&(l(e),l(f)),g}function ib(a,b,c,d,e){(ke(b)?dc:ye)(b,function(b,f){var g,h,i=b,j=a[f];if(b&&((h=ke(b))||ze(b))){for(var k=d.length;k--;)if(g=d[k]==b){j=e[k];break}if(!g){var l;c&&(i=c(j,b),(l="undefined"!=typeof i)&&(j=i)),l||(j=h?ke(j)?j:[]:ze(j)?j:{}),d.push(b),e.push(j),l||ib(j,b,c,d,e)}}else c&&(i=c(j,b),"undefined"==typeof i&&(i=b)),"undefined"!=typeof i&&(j=i);a[f]=j})}function jb(a,b){return a+Od(ee()*(b-a+1))}function kb(c,d,e){var g=-1,i=pb(),j=c?c.length:0,k=[],n=!d&&j>=v&&i===a,o=e||n?h():k;if(n){var p=f(o);i=b,o=p}for(;++g<j;){var q=c[g],r=e?e(q,g,c):q;(d?!g||o[o.length-1]!==r:i(o,r)<0)&&((e||n)&&o.push(r),k.push(q))}return n?(l(o.array),m(o)):e&&l(o),k}function lb(a){return function(b,c,d){var e={};if(c=q.createCallback(c,d,3),ke(b))for(var f=-1,g=b.length;++f<g;){var h=b[f];a(e,h,c(h,f,b),b)}else ue(b,function(b,d,f){a(e,b,c(b,d,f),f)});return e}}function mb(a,b,c,d,e,f){var g=1&b,h=2&b,i=4&b,j=16&b,k=32&b;if(!h&&!Kb(a))throw new Ed;j&&!c.length&&(b&=-17,j=c=!1),k&&!d.length&&(b&=-33,k=d=!1);var l=a&&a.__bindData__;if(l&&l!==!0)return l=n(l),l[2]&&(l[2]=n(l[2])),l[3]&&(l[3]=n(l[3])),!g||1&l[1]||(l[4]=e),!g&&1&l[1]&&(b|=8),!i||4&l[1]||(l[5]=f),j&&Sd.apply(l[2]||(l[2]=[]),c),k&&Wd.apply(l[3]||(l[3]=[]),d),l[1]|=b,mb.apply(null,l);var m=1==b||17===b?w:db;return m([a,b,c,d,e,f])}function nb(){Z.shadowedProps=K,Z.array=Z.bottom=Z.loop=Z.top="",Z.init="iterable",Z.useHas=!0;for(var a,b=0;a=arguments[b];b++)for(var c in a)Z[c]=a[c];var d=Z.args;Z.firstArg=/^[^,]+/.exec(d)[0];var e=yd("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+d+") {\n"+ie(Z)+"\n}");return e(cb,Q,Gd,Rd,t,tb,ke,Qb,Z.keys,Hd,$,ge,V,Id,Kd)}function ob(a){return qe[a]}function pb(){var b=(b=q.indexOf)===yc?a:b;return b}function qb(a){return"function"==typeof a&&Ld.test(a)}function rb(a){var b,c;return!a||Kd.call(a)!=T||(b=a.constructor,Kb(b)&&!(b instanceof b))||!he.argsClass&&tb(a)||!he.nodeClass&&j(a)?!1:he.ownLast?(xe(a,function(a,b,d){return c=Rd.call(d,b),!1}),c!==!1):(xe(a,function(a,b){c=b}),"undefined"==typeof c||Rd.call(a,c))}function sb(a){return re[a]}function tb(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Kd.call(a)==M||!1}function ub(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c=b,b=!1),_(a,b,"function"==typeof c&&cb(c,d,1))}function vb(a,b,c){return _(a,!0,"function"==typeof b&&cb(b,c,1))}function wb(a,b){var c=bb(a);return b?ve(c,b):c}function xb(a,b,c){var d;return b=q.createCallback(b,c,3),ye(a,function(a,c,e){return b(a,c,e)?(d=c,!1):void 0}),d}function yb(a,b,c){var d;return b=q.createCallback(b,c,3),Ab(a,function(a,c,e){return b(a,c,e)?(d=c,!1):void 0}),d}function zb(a,b,c){var d=[];xe(a,function(a,b){d.push(b,a)});var e=d.length;for(b=cb(b,c,3);e--&&b(d[e--],d[e],a)!==!1;);return a}function Ab(a,b,c){var d=me(a),e=d.length;for(b=cb(b,c,3);e--;){var f=d[e];if(b(a[f],f,a)===!1)break}return a}function Bb(a){var b=[];return xe(a,function(a,c){Kb(a)&&b.push(c)}),b.sort()}function Cb(a,b){return a?Rd.call(a,b):!1}function Db(a){for(var b=-1,c=me(a),d=c.length,e={};++b<d;){var f=c[b];e[a[f]]=f}return e}function Eb(a){return a===!0||a===!1||a&&"object"==typeof a&&Kd.call(a)==O||!1}function Fb(a){return a&&"object"==typeof a&&Kd.call(a)==P||!1}function Gb(a){return a&&1===a.nodeType||!1}function Hb(a){var b=!0;if(!a)return b;var c=Kd.call(a),d=a.length;return c==N||c==V||(he.argsClass?c==M:tb(a))||c==T&&"number"==typeof d&&Kb(a.splice)?!d:(ye(a,function(){return b=!1}),b)}function Ib(a,b,c,d){return hb(a,b,"function"==typeof c&&cb(c,d,2))}function Jb(a){return $d(a)&&!_d(parseFloat(a))}function Kb(a){return"function"==typeof a}function Lb(a){return!(!a||!$[typeof a])}function Mb(a){return Ob(a)&&a!=+a}function Nb(a){return null===a}function Ob(a){return"number"==typeof a||a&&"object"==typeof a&&Kd.call(a)==S||!1}function Pb(a){return a&&$[typeof a]&&Kd.call(a)==U||!1}function Qb(a){return"string"==typeof a||a&&"object"==typeof a&&Kd.call(a)==V||!1}function Rb(a){return"undefined"==typeof a}function Sb(a,b,c){var d={};return b=q.createCallback(b,c,3),ye(a,function(a,c,e){d[c]=b(a,c,e)}),d}function Tb(a){var b=arguments,c=2;if(!Lb(a))return a;if("number"!=typeof b[2]&&(c=b.length),c>3&&"function"==typeof b[c-2])var d=cb(b[--c-1],b[c--],2);else c>2&&"function"==typeof b[c-1]&&(d=b[--c]);for(var e=n(arguments,1,c),f=-1,g=h(),i=h();++f<c;)ib(a,e[f],d,g,i);return l(g),l(i),a}function Ub(a,b,c){var d={};if("function"!=typeof b){var e=[];xe(a,function(a,b){e.push(b)}),e=eb(e,gb(arguments,!0,!1,1));for(var f=-1,g=e.length;++f<g;){var h=e[f];d[h]=a[h]}}else b=q.createCallback(b,c,3),xe(a,function(a,c,e){b(a,c,e)||(d[c]=a)});return d}function Vb(a){for(var b=-1,c=me(a),d=c.length,e=ud(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function Wb(a,b,c){var d={};if("function"!=typeof b)for(var e=-1,f=gb(arguments,!0,!1,1),g=Lb(a)?f.length:0;++e<g;){var h=f[e];h in a&&(d[h]=a[h])}else b=q.createCallback(b,c,3),xe(a,function(a,c,e){b(a,c,e)&&(d[c]=a)});return d}function Xb(a,b,c,d){var e=ke(a);if(null==c)if(e)c=[];else{var f=a&&a.constructor,g=f&&f.prototype;c=bb(g)}return b&&(b=q.createCallback(b,d,4),(e?ue:ye)(a,function(a,d,e){return b(c,a,d,e)})),c}function Yb(a){for(var b=-1,c=me(a),d=c.length,e=ud(d);++b<d;)e[b]=a[c[b]];return e}function Zb(a){var b=arguments,c=-1,d=gb(b,!0,!1,1),e=b[2]&&b[2][b[1]]===a?1:d.length,f=ud(e);for(he.unindexedChars&&Qb(a)&&(a=a.split(""));++c<e;)f[c]=a[d[c]];return f}function $b(a,b,c){var d=-1,e=pb(),f=a?a.length:0,g=!1;return c=(0>c?be(0,f+c):c)||0,ke(a)?g=e(a,b,c)>-1:"number"==typeof f?g=(Qb(a)?a.indexOf(b,c):e(a,b,c))>-1:ue(a,function(a){return++d>=c?!(g=a===b):void 0}),g}function _b(a,b,c){var d=!0;if(b=q.createCallback(b,c,3),ke(a))for(var e=-1,f=a.length;++e<f&&(d=!!b(a[e],e,a)););else ue(a,function(a,c,e){return d=!!b(a,c,e)});return d}function ac(a,b,c){var d=[];if(b=q.createCallback(b,c,3),ke(a))for(var e=-1,f=a.length;++e<f;){var g=a[e];b(g,e,a)&&d.push(g)}else ue(a,function(a,c,e){b(a,c,e)&&d.push(a)});return d}function bc(a,b,c){if(b=q.createCallback(b,c,3),!ke(a)){var d;return ue(a,function(a,c,e){return b(a,c,e)?(d=a,!1):void 0}),d}for(var e=-1,f=a.length;++e<f;){var g=a[e];if(b(g,e,a))return g}}function cc(a,b,c){var d;return b=q.createCallback(b,c,3),ec(a,function(a,c,e){return b(a,c,e)?(d=a,!1):void 0}),d}function dc(a,b,c){if(b&&"undefined"==typeof c&&ke(a))for(var d=-1,e=a.length;++d<e&&b(a[d],d,a)!==!1;);else ue(a,b,c);return a}function ec(a,b,c){var d=a,e=a?a.length:0;if(b=b&&"undefined"==typeof c?b:cb(b,c,3),ke(a))for(;e--&&b(a[e],e,a)!==!1;);else{if("number"!=typeof e){var f=me(a);e=f.length}else he.unindexedChars&&Qb(a)&&(d=a.split(""));ue(a,function(a,c,g){return c=f?f[--e]:--e,b(d[c],c,g)})}return a}function fc(a,b){var c=n(arguments,2),d=-1,e="function"==typeof b,f=a?a.length:0,g=ud("number"==typeof f?f:0);return dc(a,function(a){g[++d]=(e?b:a[b]).apply(a,c)}),g}function gc(a,b,c){var d=-1,e=a?a.length:0,f=ud("number"==typeof e?e:0);if(b=q.createCallback(b,c,3),ke(a))for(;++d<e;)f[d]=b(a[d],d,a);else ue(a,function(a,c,e){f[++d]=b(a,c,e)});return f}function hc(a,b,c){var e=-1/0,f=e;if("function"!=typeof b&&c&&c[b]===a&&(b=null),null==b&&ke(a))for(var g=-1,h=a.length;++g<h;){var i=a[g];i>f&&(f=i)}else b=null==b&&Qb(a)?d:q.createCallback(b,c,3),ue(a,function(a,c,d){var g=b(a,c,d);g>e&&(e=g,f=a)});return f}function ic(a,b,c){var e=1/0,f=e;if("function"!=typeof b&&c&&c[b]===a&&(b=null),null==b&&ke(a))for(var g=-1,h=a.length;++g<h;){var i=a[g];f>i&&(f=i)}else b=null==b&&Qb(a)?d:q.createCallback(b,c,3),ue(a,function(a,c,d){var g=b(a,c,d);e>g&&(e=g,f=a)});return f}function jc(a,b,c,d){var e=arguments.length<3;if(b=q.createCallback(b,d,4),ke(a)){var f=-1,g=a.length;for(e&&(c=a[++f]);++f<g;)c=b(c,a[f],f,a)}else ue(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)});return c}function kc(a,b,c,d){var e=arguments.length<3;return b=q.createCallback(b,d,4),ec(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)}),c}function lc(a,b,c){return b=q.createCallback(b,c,3),ac(a,function(a,c,d){return!b(a,c,d)})}function mc(a,b,c){if(a&&"number"!=typeof a.length?a=Yb(a):he.unindexedChars&&Qb(a)&&(a=a.split("")),null==b||c)return a?a[jb(0,a.length-1)]:p;var d=nc(a);return d.length=ce(be(0,b),d.length),d}function nc(a){var b=-1,c=a?a.length:0,d=ud("number"==typeof c?c:0);return dc(a,function(a){var c=jb(0,++b);d[b]=d[c],d[c]=a}),d}function oc(a){var b=a?a.length:0;return"number"==typeof b?b:me(a).length}function pc(a,b,c){var d;if(b=q.createCallback(b,c,3),ke(a))for(var e=-1,f=a.length;++e<f&&!(d=b(a[e],e,a)););else ue(a,function(a,c,e){return!(d=b(a,c,e))});return!!d}function qc(a,b,c){var d=-1,f=ke(b),g=a?a.length:0,j=ud("number"==typeof g?g:0);for(f||(b=q.createCallback(b,c,3)),dc(a,function(a,c,e){var g=j[++d]=i();f?g.criteria=gc(b,function(b){return a[b]}):(g.criteria=h())[0]=b(a,c,e),g.index=d,g.value=a}),g=j.length,j.sort(e);g--;){var k=j[g];j[g]=k.value,f||l(k.criteria),m(k)}return j}function rc(a){return a&&"number"==typeof a.length?he.unindexedChars&&Qb(a)?a.split(""):n(a):Yb(a)}function sc(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function tc(a){return eb(a,gb(arguments,!0,!0,1))}function uc(a,b,c){var d=-1,e=a?a.length:0;for(b=q.createCallback(b,c,3);++d<e;)if(b(a[d],d,a))return d;return-1}function vc(a,b,c){var d=a?a.length:0;for(b=q.createCallback(b,c,3);d--;)if(b(a[d],d,a))return d;return-1}function wc(a,b,c){var d=0,e=a?a.length:0;if("number"!=typeof b&&null!=b){var f=-1;for(b=q.createCallback(b,c,3);++f<e&&b(a[f],f,a);)d++}else if(d=b,null==d||c)return a?a[0]:p;return n(a,0,ce(be(0,d),e))}function xc(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c="function"!=typeof b&&d&&d[b]===a?null:b,b=!1),null!=c&&(a=gc(a,c,d)),gb(a,b)}function yc(b,c,d){if("number"==typeof d){var e=b?b.length:0;d=0>d?be(0,e+d):d||0}else if(d){var f=Hc(b,c);return b[f]===c?f:-1}return a(b,c,d)}function zc(a,b,c){var d=0,e=a?a.length:0;if("number"!=typeof b&&null!=b){var f=e;for(b=q.createCallback(b,c,3);f--&&b(a[f],f,a);)d++}else d=null==b||c?1:b||d;return n(a,0,ce(be(0,e-d),e))}function Ac(){for(var c=[],d=-1,e=arguments.length,g=h(),i=pb(),j=i===a,k=h();++d<e;){var n=arguments[d];(ke(n)||tb(n))&&(c.push(n),g.push(j&&n.length>=v&&f(d?c[d]:k)))}var o=c[0],p=-1,q=o?o.length:0,r=[];a:for(;++p<q;){var s=g[0];if(n=o[p],(s?b(s,n):i(k,n))<0){for(d=e,(s||k).push(n);--d;)if(s=g[d],(s?b(s,n):i(c[d],n))<0)continue a;r.push(n)}}for(;e--;)s=g[e],s&&m(s);return l(g),l(k),r}function Bc(a,b,c){var d=0,e=a?a.length:0;if("number"!=typeof b&&null!=b){var f=e;for(b=q.createCallback(b,c,3);f--&&b(a[f],f,a);)d++}else if(d=b,null==d||c)return a?a[e-1]:p;return n(a,be(0,e-d))}function Cc(a,b,c){var d=a?a.length:0;for("number"==typeof c&&(d=(0>c?be(0,d+c):ce(c,d-1))+1);d--;)if(a[d]===b)return d;return-1}function Dc(a){for(var b=arguments,c=0,d=b.length,e=a?a.length:0;++c<d;)for(var f=-1,g=b[c];++f<e;)a[f]===g&&(Vd.call(a,f--,1),e--);return a}function Ec(a,b,c){a=+a||0,c="number"==typeof c?c:+c||1,null==b&&(b=a,a=0);for(var d=-1,e=be(0,Md((b-a)/(c||1))),f=ud(e);++d<e;)f[d]=a,a+=c;return f}function Fc(a,b,c){var d=-1,e=a?a.length:0,f=[];for(b=q.createCallback(b,c,3);++d<e;){var g=a[d];b(g,d,a)&&(f.push(g),Vd.call(a,d--,1),e--)}return f}function Gc(a,b,c){if("number"!=typeof b&&null!=b){var d=0,e=-1,f=a?a.length:0;for(b=q.createCallback(b,c,3);++e<f&&b(a[e],e,a);)d++}else d=null==b||c?1:be(0,b);return n(a,d)}function Hc(a,b,c,d){var e=0,f=a?a.length:e;for(c=c?q.createCallback(c,d,1):ed,b=c(b);f>e;){var g=e+f>>>1;c(a[g])<b?e=g+1:f=g}return e}function Ic(){return kb(gb(arguments,!0,!0))}function Jc(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c="function"!=typeof b&&d&&d[b]===a?null:b,b=!1),null!=c&&(c=q.createCallback(c,d,3)),kb(a,b,c)}function Kc(a){return eb(a,n(arguments,1))}function Lc(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(ke(c)||tb(c))var d=d?kb(eb(d,c).concat(eb(c,d))):c}return d||[]}function Mc(){for(var a=arguments.length>1?arguments:arguments[0],b=-1,c=a?hc(De(a,"length")):0,d=ud(0>c?0:c);++b<c;)d[b]=De(a,b);return d}function Nc(a,b){var c=-1,d=a?a.length:0,e={};for(b||!d||ke(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function Oc(a,b){if(!Kb(b))throw new Ed;return function(){return--a<1?b.apply(this,arguments):void 0}}function Pc(a,b){return arguments.length>2?mb(a,17,n(arguments,2),null,b):mb(a,1,null,null,b)}function Qc(a){for(var b=arguments.length>1?gb(arguments,!0,!1,1):Bb(a),c=-1,d=b.length;++c<d;){var e=b[c];a[e]=mb(a[e],1,null,null,a)}return a}function Rc(a,b){return arguments.length>2?mb(b,19,n(arguments,2),null,a):mb(b,3,null,null,a)}function Sc(){for(var a=arguments,b=a.length;b--;)if(!Kb(a[b]))throw new Ed;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}}function Tc(a,b){return b="number"==typeof b?b:+b||a.length,mb(a,4,null,null,null,b)}function Uc(a,b,c){var d,e,f,g,h,i,j,k=0,l=!1,m=!0;if(!Kb(a))throw new Ed;if(b=be(0,b)||0,c===!0){var n=!0;m=!1}else Lb(c)&&(n=c.leading,l="maxWait"in c&&(be(b,c.maxWait)||0),m="trailing"in c?c.trailing:m);var o=function(){var c=b-(Fe()-g);if(0>=c){e&&Nd(e);var l=j;e=i=j=p,l&&(k=Fe(),f=a.apply(h,d),i||e||(d=h=null))}else i=Ud(o,c)},q=function(){i&&Nd(i),e=i=j=p,(m||l!==b)&&(k=Fe(),f=a.apply(h,d),i||e||(d=h=null))};return function(){if(d=arguments,g=Fe(),h=this,j=m&&(i||!n),l===!1)var c=n&&!i;else{e||n||(k=g);var p=l-(g-k),r=0>=p;r?(e&&(e=Nd(e)),k=g,f=a.apply(h,d)):e||(e=Ud(q,p))}return r&&i?i=Nd(i):i||b===l||(i=Ud(o,b)),c&&(r=!0,f=a.apply(h,d)),!r||i||e||(d=h=null),f}}function Vc(a){if(!Kb(a))throw new Ed;var b=n(arguments,1);return Ud(function(){a.apply(p,b)},1)}function Wc(a,b){if(!Kb(a))throw new Ed;var c=n(arguments,2);return Ud(function(){a.apply(p,c)},b)}function Xc(a,b){if(!Kb(a))throw new Ed;var c=function(){var d=c.cache,e=b?b.apply(this,arguments):u+arguments[0];return Rd.call(d,e)?d[e]:d[e]=a.apply(this,arguments)};return c.cache={},c}function Yc(a){var b,c;if(!Kb(a))throw new Ed;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}}function Zc(a){return mb(a,16,n(arguments,1))}function $c(a){return mb(a,32,null,n(arguments,1))}function _c(a,b,c){var d=!0,e=!0;if(!Kb(a))throw new Ed;return c===!1?d=!1:Lb(c)&&(d="leading"in c?c.leading:d,e="trailing"in c?c.trailing:e),X.leading=d,X.maxWait=b,X.trailing=e,Uc(a,b,X)}function ad(a,b){return mb(b,16,[a])}function bd(a){return function(){return a}}function cd(a,b,c){var d=typeof a;if(null==a||"function"==d)return cb(a,b,c);if("object"!=d)return id(a);var e=me(a),f=e[0],g=a[f];return 1!=e.length||g!==g||Lb(g)?function(b){for(var c=e.length,d=!1;c--&&(d=hb(b[e[c]],a[e[c]],null,!0)););return d}:function(a){var b=a[f];return g===b&&(0!==g||1/g==1/b)}}function dd(a){return null==a?"":Dd(a).replace(te,ob)}function ed(a){return a}function fd(a,b,c){var d=!0,e=b&&Bb(b);b&&(c||e.length)||(null==c&&(c=b),f=r,b=a,a=q,e=Bb(b)),c===!1?d=!1:Lb(c)&&"chain"in c&&(d=c.chain);var f=a,g=Kb(f);dc(e,function(c){var e=a[c]=b[c];g&&(f.prototype[c]=function(){var b=this.__chain__,c=this.__wrapped__,g=[c];Sd.apply(g,arguments);var h=e.apply(a,g);if(d||b){if(c===h&&Lb(h))return this;h=new f(h),h.__chain__=b}return h})})}function gd(){return c._=Jd,this}function hd(){}function id(a){return function(b){return b[a]}}function jd(a,b,c){var d=null==a,e=null==b;if(null==c&&("boolean"==typeof a&&e?(c=a,a=1):e||"boolean"!=typeof b||(c=b,e=!0)),d&&e&&(b=1),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1){var f=ee();return ce(a+f*(b-a+parseFloat("1e-"+((f+"").length-1))),b)}return jb(a,b)}function kd(a,b){if(a){var c=a[b];return Kb(c)?a[b]():c}}function ld(a,b,c){var d=q.templateSettings;a=Dd(a||""),c=we({},c,d);var e,f=we({},c.imports,d.imports),h=me(f),i=Yb(f),j=0,k=c.interpolate||G,l="__p += '",m=Cd((c.escape||G).source+"|"+k.source+"|"+(k===E?B:G).source+"|"+(c.evaluate||G).source+"|$","g");a.replace(m,function(b,c,d,f,h,i){return d||(d=f),l+=a.slice(j,i).replace(I,g),c&&(l+="' +\n__e("+c+") +\n'"),h&&(e=!0,l+="';\n"+h+";\n__p += '"),d&&(l+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),j=i+b.length,b}),l+="';\n";var n=c.variable,o=n;o||(n="obj",l="with ("+n+") {\n"+l+"\n}\n"),l=(e?l.replace(y,""):l).replace(z,"$1").replace(A,"$1;"),l="function("+n+") {\n"+(o?"":n+" || ("+n+" = {});\n")+"var __t, __p = '', __e = _.escape"+(e?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var r="\n/*\n//# sourceURL="+(c.sourceURL||"/lodash/template/source["+L++ +"]")+"\n*/";try{var s=yd(h,"return "+l+r).apply(p,i)}catch(t){throw t.source=l,t}return b?s(b):(s.source=l,s)}function md(a,b,c){a=(a=+a)>-1?a:0;var d=-1,e=ud(a);for(b=cb(b,c,1);++d<a;)e[d]=b(d);return e}function nd(a){return null==a?"":Dd(a).replace(se,sb)}function od(a){var b=++s;return Dd(null==a?"":a)+b}function pd(a){return a=new r(a),a.__chain__=!0,a}function qd(a,b){return b(a),a}function rd(){return this.__chain__=!0,this}function sd(){return Dd(this.__wrapped__)}function td(){return this.__wrapped__}c=c?fb.defaults(ab.Object(),c,fb.pick(ab,J)):ab;var ud=c.Array,vd=c.Boolean,wd=c.Date,xd=c.Error,yd=c.Function,zd=c.Math,Ad=c.Number,Bd=c.Object,Cd=c.RegExp,Dd=c.String,Ed=c.TypeError,Fd=[],Gd=xd.prototype,Hd=Bd.prototype,Id=Dd.prototype,Jd=c._,Kd=Hd.toString,Ld=Cd("^"+Dd(Kd).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Md=zd.ceil,Nd=c.clearTimeout,Od=zd.floor,Pd=yd.prototype.toString,Qd=qb(Qd=Bd.getPrototypeOf)&&Qd,Rd=Hd.hasOwnProperty,Sd=Fd.push,Td=Hd.propertyIsEnumerable,Ud=c.setTimeout,Vd=Fd.splice,Wd=Fd.unshift,Xd=function(){try{var a={},b=qb(b=Bd.defineProperty)&&b,c=b(a,a,a)&&b}catch(d){}return c}(),Yd=qb(Yd=Bd.create)&&Yd,Zd=qb(Zd=ud.isArray)&&Zd,$d=c.isFinite,_d=c.isNaN,ae=qb(ae=Bd.keys)&&ae,be=zd.max,ce=zd.min,de=c.parseInt,ee=zd.random,fe={};fe[N]=ud,fe[O]=vd,fe[P]=wd,fe[R]=yd,fe[T]=Bd,fe[S]=Ad,fe[U]=Cd,fe[V]=Dd;var ge={};ge[N]=ge[P]=ge[S]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},ge[O]=ge[V]={constructor:!0,toString:!0,valueOf:!0},ge[Q]=ge[R]=ge[U]={constructor:!0,toString:!0},ge[T]={constructor:!0},function(){for(var a=K.length;a--;){var b=K[a];for(var c in ge)Rd.call(ge,c)&&!Rd.call(ge[c],b)&&(ge[c][b]=!1)}}(),r.prototype=q.prototype;var he=q.support={};!function(){var a=function(){this.x=1},b={0:1,length:1},d=[];a.prototype={valueOf:1,y:1};for(var e in new a)d.push(e);for(e in arguments);he.argsClass=Kd.call(arguments)==M,he.argsObject=arguments.constructor==Bd&&!(arguments instanceof ud),he.enumErrorProps=Td.call(Gd,"message")||Td.call(Gd,"name"),he.enumPrototypes=Td.call(a,"prototype"),he.funcDecomp=!qb(c.WinRTError)&&H.test(o),he.funcNames="string"==typeof yd.name,he.nonEnumArgs=0!=e,he.nonEnumShadows=!/valueOf/.test(d),he.ownLast="x"!=d[0],he.spliceObjects=(Fd.splice.call(b,0,1),!b[0]),he.unindexedChars="x"[0]+Bd("x")[0]!="xx";try{he.nodeClass=!(Kd.call(document)==T&&!({toString:0}+""))}catch(f){he.nodeClass=!0}}(1),q.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:E,variable:"",imports:{_:q}};var ie=function(a){var b="var index, iterable = "+a.firstArg+", result = "+a.init+";\nif (!iterable) return result;\n"+a.top+";";a.array?(b+="\nvar length = iterable.length; index = -1;\nif ("+a.array+") {  ",he.unindexedChars&&(b+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),b+="\n  while (++index < length) {\n    "+a.loop+";\n  }\n}\nelse {  "):he.nonEnumArgs&&(b+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+a.loop+";\n    }\n  } else {  "),he.enumPrototypes&&(b+="\n  var skipProto = typeof iterable == 'function';\n  "),he.enumErrorProps&&(b+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var c=[];if(he.enumPrototypes&&c.push('!(skipProto && index == "prototype")'),he.enumErrorProps&&c.push('!(skipErrorProps && (index == "message" || index == "name"))'),a.useHas&&a.keys)b+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",c.length&&(b+="    if ("+c.join(" && ")+") {\n  "),b+=a.loop+";    ",c.length&&(b+="\n    }"),b+="\n  }  ";else if(b+="\n  for (index in iterable) {\n",a.useHas&&c.push("hasOwnProperty.call(iterable, index)"),c.length&&(b+="    if ("+c.join(" && ")+") {\n  "),b+=a.loop+";    ",c.length&&(b+="\n    }"),b+="\n  }    ",he.nonEnumShadows){for(b+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ",k=0;k<7;k++)b+="\n    index = '"+a.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",a.useHas||(b+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),b+=") {\n      "+a.loop+";\n    }      ";b+="\n  }    "}return(a.array||he.nonEnumArgs)&&(b+="\n}"),b+=a.bottom+";\nreturn result"};Yd||(bb=function(){function a(){}return function(b){if(Lb(b)){a.prototype=b;var d=new a;a.prototype=null}return d||c.Object()}}());var je=Xd?function(a,b){Y.value=b,Xd(a,"__bindData__",Y)}:hd;he.argsClass||(tb=function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Rd.call(a,"callee")&&!Td.call(a,"callee")||!1});var ke=Zd||function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Kd.call(a)==N||!1},le=nb({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),me=ae?function(a){return Lb(a)?he.enumPrototypes&&"function"==typeof a||he.nonEnumArgs&&a.length&&tb(a)?le(a):ae(a):[]}:le,ne={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:me,loop:"if (callback(iterable[index], index, collection) === false) return result"},oe={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:me,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},pe={top:"if (!objectTypes[typeof iterable]) return result;\n"+ne.top,array:!1},qe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},re=Db(qe),se=Cd("("+me(re).join("|")+")","g"),te=Cd("["+me(qe).join("")+"]","g"),ue=nb(ne),ve=nb(oe,{top:oe.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),we=nb(oe),xe=nb(ne,pe,{useHas:!1}),ye=nb(ne,pe);Kb(/x/)&&(Kb=function(a){return"function"==typeof a&&Kd.call(a)==R});var ze=Qd?function(a){if(!a||Kd.call(a)!=T||!he.argsClass&&tb(a))return!1;var b=a.valueOf,c=qb(b)&&(c=Qd(b))&&Qd(c);return c?a==c||Qd(a)==c:rb(a)}:rb,Ae=lb(function(a,b,c){Rd.call(a,c)?a[c]++:a[c]=1}),Be=lb(function(a,b,c){(Rd.call(a,c)?a[c]:a[c]=[]).push(b)}),Ce=lb(function(a,b,c){a[c]=b}),De=gc,Ee=ac,Fe=qb(Fe=wd.now)&&Fe||function(){return(new wd).getTime()},Ge=8==de(x+"08")?de:function(a,b){return de(Qb(a)?a.replace(F,""):a,b||0)};return q.after=Oc,q.assign=ve,q.at=Zb,q.bind=Pc,q.bindAll=Qc,q.bindKey=Rc,q.chain=pd,q.compact=sc,q.compose=Sc,q.constant=bd,q.countBy=Ae,q.create=wb,q.createCallback=cd,q.curry=Tc,q.debounce=Uc,q.defaults=we,q.defer=Vc,q.delay=Wc,q.difference=tc,q.filter=ac,q.flatten=xc,q.forEach=dc,q.forEachRight=ec,q.forIn=xe,q.forInRight=zb,q.forOwn=ye,q.forOwnRight=Ab,q.functions=Bb,q.groupBy=Be,q.indexBy=Ce,q.initial=zc,q.intersection=Ac,q.invert=Db,q.invoke=fc,q.keys=me,q.map=gc,q.mapValues=Sb,q.max=hc,q.memoize=Xc,q.merge=Tb,q.min=ic,q.omit=Ub,q.once=Yc,q.pairs=Vb,q.partial=Zc,q.partialRight=$c,q.pick=Wb,q.pluck=De,q.property=id,q.pull=Dc,q.range=Ec,q.reject=lc,q.remove=Fc,q.rest=Gc,q.shuffle=nc,q.sortBy=qc,q.tap=qd,q.throttle=_c,q.times=md,q.toArray=rc,q.transform=Xb,q.union=Ic,q.uniq=Jc,q.values=Yb,q.where=Ee,q.without=Kc,q.wrap=ad,q.xor=Lc,q.zip=Mc,q.zipObject=Nc,q.collect=gc,q.drop=Gc,q.each=dc,q.eachRight=ec,q.extend=ve,q.methods=Bb,q.object=Nc,q.select=ac,q.tail=Gc,q.unique=Jc,q.unzip=Mc,fd(q),q.clone=ub,q.cloneDeep=vb,q.contains=$b,q.escape=dd,q.every=_b,q.find=bc,q.findIndex=uc,q.findKey=xb,q.findLast=cc,q.findLastIndex=vc,q.findLastKey=yb,q.has=Cb,q.identity=ed,q.indexOf=yc,q.isArguments=tb,q.isArray=ke,q.isBoolean=Eb,q.isDate=Fb,q.isElement=Gb,q.isEmpty=Hb,q.isEqual=Ib,q.isFinite=Jb,q.isFunction=Kb,q.isNaN=Mb,q.isNull=Nb,q.isNumber=Ob,q.isObject=Lb,q.isPlainObject=ze,q.isRegExp=Pb,q.isString=Qb,q.isUndefined=Rb,q.lastIndexOf=Cc,q.mixin=fd,q.noConflict=gd,q.noop=hd,q.now=Fe,q.parseInt=Ge,q.random=jd,q.reduce=jc,q.reduceRight=kc,q.result=kd,q.runInContext=o,q.size=oc,q.some=pc,q.sortedIndex=Hc,q.template=ld,q.unescape=nd,q.uniqueId=od,q.all=_b,q.any=pc,q.detect=bc,q.findWhere=bc,q.foldl=jc,q.foldr=kc,q.include=$b,q.inject=jc,fd(function(){var a={};return ye(q,function(b,c){q.prototype[c]||(a[c]=b)}),a}(),!1),q.first=wc,q.last=Bc,q.sample=mc,q.take=wc,q.head=wc,ye(q,function(a,b){var c="sample"!==b;
q.prototype[b]||(q.prototype[b]=function(b,d){var e=this.__chain__,f=a(this.__wrapped__,b,d);return e||null!=b&&(!d||c&&"function"==typeof b)?new r(f,e):f})}),q.VERSION="2.4.1",q.prototype.chain=rd,q.prototype.toString=sd,q.prototype.value=td,q.prototype.valueOf=td,ue(["join","pop","shift"],function(a){var b=Fd[a];q.prototype[a]=function(){var a=this.__chain__,c=b.apply(this.__wrapped__,arguments);return a?new r(c,a):c}}),ue(["push","reverse","sort","unshift"],function(a){var b=Fd[a];q.prototype[a]=function(){return b.apply(this.__wrapped__,arguments),this}}),ue(["concat","slice","splice"],function(a){var b=Fd[a];q.prototype[a]=function(){return new r(b.apply(this.__wrapped__,arguments),this.__chain__)}}),he.spliceObjects||ue(["pop","shift","splice"],function(a){var b=Fd[a],c="splice"==a;q.prototype[a]=function(){var a=this.__chain__,d=this.__wrapped__,e=b.apply(d,arguments);return 0===d.length&&delete d[0],a||c?new r(e,a):e}}),q}var p,q=[],r=[],s=0,t={},u=+new Date+"",v=75,w=40,x=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",y=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,A=/(__e\(.*?\)|\b__t\)) \+\n'';/g,B=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,C=/\w*$/,D=/^\s*function[ \n\r\t]+\w/,E=/<%=([\s\S]+?)%>/g,F=RegExp("^["+x+"]*0+(?=.$)"),G=/($^)/,H=/\bthis\b/,I=/['\n\r\t\u2028\u2029\\]/g,J=["Array","Boolean","Date","Error","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],K=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],L=0,M="[object Arguments]",N="[object Array]",O="[object Boolean]",P="[object Date]",Q="[object Error]",R="[object Function]",S="[object Number]",T="[object Object]",U="[object RegExp]",V="[object String]",W={};W[R]=!1,W[M]=W[N]=W[O]=W[P]=W[S]=W[T]=W[U]=W[V]=!0;var X={leading:!1,maxWait:0,trailing:!1},Y={configurable:!1,enumerable:!1,value:null,writable:!1},Z={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},$={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},_={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},ab=$[typeof window]&&window||this,bb=$[typeof exports]&&exports&&!exports.nodeType&&exports,cb=$[typeof module]&&module&&!module.nodeType&&module,db=cb&&cb.exports===bb&&bb,eb=$[typeof global]&&global;!eb||eb.global!==eb&&eb.window!==eb||(ab=eb);var fb=o();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ab._=fb,define(function(){return fb})):bb&&cb?db?(cb.exports=fb)._=fb:bb._=fb:ab._=fb}.call(this),!function(a){if("object"==typeof exports)module.exports=a();else if("function"==typeof define&&define.amd)define(a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.PouchDB=a()}}(function(){var define,module,exports;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){"use strict";function c(a,b){for(var c=0;c<a.length;c++)if(b(a[c],c)===!0)return a[c];return!1}function d(a){return function(b,c){b||c[0].error?a(b||c[0]):a(null,c[0])}}function e(a){var b={},c=[];return i.traverseRevTree(a,function(a,d,e,f){var g=d+"-"+e;return a&&(b[g]=0),void 0!==f&&c.push({from:f,to:g}),g}),c.reverse(),c.forEach(function(a){b[a.from]=void 0===b[a.from]?1+b[a.to]:Math.min(b[a.from],1+b[a.to])}),b}function f(a,b,c){var d="limit"in b?b.keys.slice(b.skip,b.limit+b.skip):b.skip>0?b.keys.slice(b.skip):b.keys;if(b.descending&&d.reverse(),!d.length)return a._allDocs({limit:0},c);var e={offset:b.skip};return n.all(d.map(function(c){var d=h.extend(!0,{key:c,deleted:"ok"},b);return["limit","skip","keys"].forEach(function(a){delete d[a]}),new n(function(b,f){a._allDocs(d,function(a,d){return a?f(a):(e.total_rows=d.total_rows,void b(d.rows[0]||{key:c,error:"not_found"}))})})})).then(function(a){return e.rows=a,e})}function g(){var a=this;k.call(this),a.autoCompact=function(b){return a.auto_compaction?function(c,d){if(c)b(c);else{var e=d.length,f=function(){e--,e||b(null,d)};d.forEach(function(b){b.ok?a.compactDocument(b.id,1,f):f()})}}:b};var b,c=0,d=["change","delete","create","update"];this.on("newListener",function(e){if(~d.indexOf(e)){if(c)return void c++;c++;var f=0;b=this.changes({conflicts:!0,include_docs:!0,continuous:!0,since:"now",onChange:function(b){b.seq<=f||(f=b.seq,a.emit("change",b),b.doc._deleted?a.emit("delete",b):"1"===b.doc._rev.split("-")[0]?a.emit("create",b):a.emit("update",b))}})}}),this.on("removeListener",function(a){~d.indexOf(a)&&(c--,c||b.cancel())})}var h=a("./utils"),i=a("./merge"),j=a("./deps/errors"),k=a("events").EventEmitter,l=a("./deps/upsert"),m=a("./changes"),n=h.Promise;h.inherits(g,k),b.exports=g,g.prototype.post=h.adapterFun("post",function(a,b,c){return"function"==typeof b&&(c=b,b={}),"object"!=typeof a||Array.isArray(a)?c(j.NOT_AN_OBJECT):void this.bulkDocs({docs:[a]},b,this.autoCompact(d(c)))}),g.prototype.put=h.adapterFun("put",h.getArguments(function(a){var b,c,e,f,g=a.shift(),i="_id"in g;if("object"!=typeof g||Array.isArray(g))return(f=a.pop())(j.NOT_AN_OBJECT);for(g=h.clone(g);;)if(b=a.shift(),c=typeof b,"string"!==c||i?"string"!==c||!i||"_rev"in g?"object"===c?e=b:"function"===c&&(f=b):g._rev=b:(g._id=b,i=!0),!a.length)break;e=e||{};var k=h.invalidIdError(g._id);return k?f(k):void this.bulkDocs({docs:[g]},e,this.autoCompact(d(f)))})),g.prototype.putAttachment=h.adapterFun("putAttachment",function(a,b,c,d,e,f){function g(a){return a._attachments=a._attachments||{},a._attachments[b]={content_type:e,data:d},h.put(a)}var h=this;return"function"==typeof e&&(f=e,e=d,d=c,c=null),"undefined"==typeof e&&(e=d,d=c,c=null),h.get(a).then(function(a){if(a._rev!==c)throw j.REV_CONFLICT;return g(a)},function(b){if(b.error===j.MISSING_DOC.error)return g({_id:a});throw b})}),g.prototype.removeAttachment=h.adapterFun("removeAttachment",function(a,b,c,d){var e=this;e.get(a,function(a,f){return a?void d(a):f._rev!==c?void d(j.REV_CONFLICT):f._attachments?(delete f._attachments[b],0===Object.keys(f._attachments).length&&delete f._attachments,void e.put(f,d)):d()})}),g.prototype.remove=h.adapterFun("remove",function(a,b,c){"function"==typeof b?(c=b,b={}):"string"==typeof b?a={_id:a,_rev:b}:void 0===b&&(b={}),b=h.clone(b),b.was_delete=!0;var e={_id:a._id,_rev:a._rev};e._deleted=!0,this.bulkDocs({docs:[e]},b,d(c))}),g.prototype.revsDiff=h.adapterFun("revsDiff",function(a,b,c){function d(a,b){j[a]||(j[a]={missing:[]}),j[a].missing.push(b)}function e(b,c){var e=a[b].slice(0);i.traverseRevTree(c,function(a,c,f,g,h){var i=c+"-"+f,j=e.indexOf(i);-1!==j&&(e.splice(j,1),"available"!==h.status&&d(b,i))}),e.forEach(function(a){d(b,a)})}"function"==typeof b&&(c=b,b={}),b=h.clone(b);var f=Object.keys(a),g=0,j={};f.map(function(b){this._getRevisionTree(b,function(d,h){if(d&&"not_found"===d.name&&"missing"===d.message)j[b]={missing:a[b]};else{if(d)return c(d);e(b,h)}return++g===f.length?c(null,j):void 0})},this)}),g.prototype.compactDocument=function(a,b,c){var d=this;this._getRevisionTree(a,function(f,g){if(f)return c(f);var h=e(g),j=[],k=[];Object.keys(h).forEach(function(a){h[a]>b&&j.push(a)}),i.traverseRevTree(g,function(a,b,c,d,e){var f=b+"-"+c;"available"===e.status&&-1!==j.indexOf(f)&&(e.status="missing",k.push(f))}),d._doCompaction(a,g,k,c)})},g.prototype.compact=h.adapterFun("compact",function(a,b){"function"==typeof a&&(b=a,a={});var c=this;this.changes({complete:function(a,d){if(a)return void b();var e=d.results.length;return e?void d.results.forEach(function(a){c.compactDocument(a.id,0,function(){e--,e||b()})}):void b()}})}),g.prototype.get=h.adapterFun("get",function(a,b,d){function e(){var c=[],e=f.length;return e?void f.forEach(function(f){g.get(a,{rev:f,revs:b.revs,attachments:b.attachments},function(a,b){c.push(a?{missing:f}:{ok:b}),e--,e||d(null,c)})}):d(null,c)}if("function"==typeof b&&(d=b,b={}),"string"!=typeof a)return d(j.INVALID_ID);var f=[],g=this;if(!b.open_revs)return this._get(a,b,function(a,e){if(b=h.clone(b),a)return d(a);var f=e.doc;if(!f)return d(new Error("no doc!"));var j=e.metadata,k=e.ctx;if(b.conflicts){var l=i.collectConflicts(j);l.length&&(f._conflicts=l)}if(b.revs||b.revs_info){var m=i.rootToLeaf(j.rev_tree),n=c(m,function(a){return-1!==a.ids.map(function(a){return a.id}).indexOf(f._rev.split("-")[1])}),o=n.ids.map(function(a){return a.id}).indexOf(f._rev.split("-")[1])+1,p=n.ids.length-o;if(n.ids.splice(o,p),n.ids.reverse(),b.revs&&(f._revisions={start:n.pos+n.ids.length-1,ids:n.ids.map(function(a){return a.id})}),b.revs_info){var q=n.pos+n.ids.length;f._revs_info=n.ids.map(function(a){return q--,{rev:q+"-"+a.id,status:a.opts.status}})}}if(b.local_seq&&(f._local_seq=e.metadata.seq),b.attachments&&f._attachments){var r=f._attachments,s=Object.keys(r).length;if(0===s)return d(null,f);Object.keys(r).forEach(function(a){this._getAttachment(r[a],{encode:!0,ctx:k},function(b,c){f._attachments[a].data=c,--s||d(null,f)})},g)}else{if(f._attachments)for(var t in f._attachments)f._attachments.hasOwnProperty(t)&&(f._attachments[t].stub=!0);d(null,f)}});if("all"===b.open_revs)this._getRevisionTree(a,function(a,b){a&&(b=[]),f=i.collectLeaves(b).map(function(a){return a.rev}),e()});else{if(!Array.isArray(b.open_revs))return d(j.error(j.UNKNOWN_ERROR,"function_clause"));f=b.open_revs;for(var k=0;k<f.length;k++){var l=f[k];if("string"!=typeof l||!/^\d+-/.test(l))return d(j.error(j.BAD_REQUEST,"Invalid rev format"))}e()}}),g.prototype.getAttachment=h.adapterFun("getAttachment",function(a,b,c,d){var e=this;c instanceof Function&&(d=c,c={}),c=h.clone(c),this._get(a,c,function(a,f){return a?d(a):f.doc._attachments&&f.doc._attachments[b]?(c.ctx=f.ctx,void e._getAttachment(f.doc._attachments[b],c,d)):d(j.MISSING_DOC)})}),g.prototype.allDocs=h.adapterFun("allDocs",function(a,b){if("function"==typeof a&&(b=a,a={}),a=h.clone(a),a.skip="undefined"!=typeof a.skip?a.skip:0,"keys"in a){if(!Array.isArray(a.keys))return b(new TypeError("options.keys must be an array"));var c=["startkey","endkey","key"].filter(function(b){return b in a})[0];if(c)return void b(j.error(j.QUERY_PARSE_ERROR,"Query parameter `"+c+"` is not compatible with multi-get"));if("http"!==this.type())return f(this,a,b)}return this._allDocs(a,b)}),g.prototype.changes=function(a,b){return"function"==typeof a&&(b=a,a={}),new m(this,a,b)},g.prototype.close=h.adapterFun("close",function(a){return this._closed=!0,this._close(a)}),g.prototype.info=h.adapterFun("info",function(a){var b=this;this._info(function(c,d){if(c)return a(c);var e=b.prefix.length;d.db_name.length>e&&d.db_name.slice(0,e)===b.prefix&&(d.db_name=d.db_name.slice(e)),a(null,d)})}),g.prototype.id=h.adapterFun("id",function(a){return this._id(a)}),g.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},g.prototype.bulkDocs=h.adapterFun("bulkDocs",function(a,b,c){if("function"==typeof b&&(c=b,b={}),b=h.clone(b),Array.isArray(a)&&(a={docs:a}),!a||!a.docs||!Array.isArray(a.docs))return c(j.MISSING_BULK_DOCS);for(var d=0;d<a.docs.length;++d)if("object"!=typeof a.docs[d]||Array.isArray(a.docs[d]))return c(j.NOT_AN_OBJECT);return a=h.clone(a),"new_edits"in b||(b.new_edits="new_edits"in a?a.new_edits:!0),this._bulkDocs(a,b,this.autoCompact(c))}),g.prototype.registerDependentDatabase=h.adapterFun("registerDependentDatabase",function(a,b){function c(b){return b.dependentDbs=b.dependentDbs||{},b.dependentDbs[a]?!1:(b.dependentDbs[a]=!0,b)}var d=new this.constructor(a,{adapter:this._adapter});l(this,"_local/_pouch_dependentDbs",c,function(a){return a?b(a):b(null,{db:d})})})},{"./changes":6,"./deps/errors":10,"./deps/upsert":11,"./merge":16,"./utils":21,events:25}],2:[function(a,b){"use strict";function c(a){for(var b=c.options,d=b.parser[b.strictMode?"strict":"loose"].exec(a),e={},f=14;f--;)e[b.key[f]]=d[f]||"";return e[b.q.name]={},e[b.key[12]].replace(b.q.parser,function(a,c,d){c&&(e[b.q.name][c]=d)}),e}function d(a){return/^_(design|local)/.test(a)?a:encodeURIComponent(a)}function e(a,b){if(/http(s?):/.test(a)){var d=c(a);d.remote=!0,(d.user||d.password)&&(d.auth={username:d.user,password:d.password});var e=d.path.replace(/(^\/|\/$)/g,"").split("/");if(d.db=e.pop(),d.path=e.join("/"),b=b||{},b=i.clone(b),d.headers=b.headers||{},b.auth||d.auth){var f=b.auth||d.auth,g=i.btoa(f.username+":"+f.password);d.headers.Authorization="Basic "+g}return b.headers&&(d.headers=b.headers),d}return{host:"",path:"/",db:a,auth:!1}}function f(a,b){return g(a,a.db+"/"+b)}function g(a,b){if(a.remote){var c=a.path?"/":"";return a.protocol+"://"+a.host+":"+a.port+"/"+a.path+c+b}return"/"+b}function h(a,b){function c(a,b){return i.ajax(i.extend({},n,a),b)}function h(a,d,e,f){d=i.clone(d);var h=k.getHost(f),j={source:l.db,target:h.protocol===l.protocol&&h.authority===l.authority?h.db:h.source};d.continuous&&(j.continuous=!0),d.create_target&&(j.create_target=!0),d.doc_ids&&(j.doc_ids=d.doc_ids),d.filter&&"string"==typeof d.filter&&(j.filter=d.filter),d.query_params&&(j.query_params=d.query_params);var m,n={},o={headers:l.headers,method:"POST",url:g(l,"_replicate"),body:j};e.cancel=function(){this.cancelled=!0,m&&!n.ok&&m.abort(),n._local_id&&(o.body={replication_id:n._local_id}),o.body.cancel=!0,c(o,function(a,c,e){return a?b(a):void i.call(d.complete,null,n,e)})},e.cancelled||(m=c(o,function(a,c,e){return a?b(a):(n.ok=!0,c._local_id&&(n._local_id=c._local_id),void i.call(d.complete,null,c,e))}))}var k=this;k.getHost=a.getHost?a.getHost:e;var l=k.getHost(a.name,a),m=f(l,"");k.getUrl=function(){return m};var n=a.ajax||{};a=i.clone(a);var o=function(){c({headers:l.headers,method:"PUT",url:m},function(a){a&&401===a.status?c({headers:l.headers,method:"HEAD",url:m},function(a){a?b(a):b(null,k)}):a&&412!==a.status?b(a):b(null,k)})};a.skipSetup||c({headers:l.headers,method:"GET",url:m},function(a){a?404===a.status?o():b(a):b(null,k)}),k.type=function(){return"http"},k.id=i.adapterFun("id",function(a){c({headers:l.headers,method:"GET",url:g(l,"")},function(b,c){var d=c&&c.uuid?c.uuid+l.db:f(l,"");a(null,d)})}),k.request=i.adapterFun("request",function(a,b){a.headers=l.headers,a.url=f(l,a.url),c(a,b)}),k.compact=i.adapterFun("compact",function(a,b){"function"==typeof a&&(b=a,a={}),a=i.clone(a),c({headers:l.headers,url:f(l,"_compact"),method:"POST"},function(){function c(){k.info(function(d,e){e.compact_running?setTimeout(c,a.interval||200):b()})}"function"==typeof b&&c()})}),k._info=function(a){c({headers:l.headers,method:"GET",url:f(l,"")},function(b,c){b?a(b):(c.host=f(l,""),a(null,c))})},k.get=i.adapterFun("get",function(a,b,e){"function"==typeof b&&(e=b,b={}),b=i.clone(b),void 0===b.auto_encode&&(b.auto_encode=!0);var g=[];b.revs&&g.push("revs=true"),b.revs_info&&g.push("revs_info=true"),b.local_seq&&g.push("local_seq=true"),b.open_revs&&("all"!==b.open_revs&&(b.open_revs=JSON.stringify(b.open_revs)),g.push("open_revs="+b.open_revs)),b.attachments&&g.push("attachments=true"),b.rev&&g.push("rev="+b.rev),b.conflicts&&g.push("conflicts="+b.conflicts),g=g.join("&"),g=""===g?"":"?"+g,b.auto_encode&&(a=d(a));var h={headers:l.headers,method:"GET",url:f(l,a+g)},j=a.split("/");(j.length>1&&"_design"!==j[0]&&"_local"!==j[0]||j.length>2&&"_design"===j[0]&&"_local"!==j[0])&&(h.binary=!0),c(h,function(a,b,c){return a?e(a):void e(null,b,c)})}),k.remove=i.adapterFun("remove",function(a,b,e){"function"==typeof b?(e=b,b={}):"string"==typeof b?a={_id:a,_rev:b}:void 0===b&&(b={}),c({headers:l.headers,method:"DELETE",url:f(l,d(a._id))+"?rev="+a._rev},e)}),k.getAttachment=i.adapterFun("getAttachment",function(a,b,c,e){"function"==typeof c&&(e=c,c={}),c=i.clone(c),void 0===c.auto_encode&&(c.auto_encode=!0),c.auto_encode&&(a=d(a)),c.auto_encode=!1,k.get(a+"/"+b,c,e)}),k.removeAttachment=i.adapterFun("removeAttachment",function(a,b,e,g){c({headers:l.headers,method:"DELETE",url:f(l,d(a)+"/"+b)+"?rev="+e},g)}),k.putAttachment=i.adapterFun("putAttachment",function(a,b,e,g,h,i){"function"==typeof h&&(i=h,h=g,g=e,e=null),"undefined"==typeof h&&(h=g,g=e,e=null);var j=d(a)+"/"+b,k=f(l,j);e&&(k+="?rev="+e);var m={headers:l.headers,method:"PUT",url:k,processData:!1,body:g,timeout:6e4};m.headers["Content-Type"]=h,c(m,i)}),k.put=i.adapterFun("put",i.getArguments(function(a){var b,e,g,h,k=a.shift(),m="_id"in k;if("object"!=typeof k||Array.isArray(k))return(h=a.pop())(j.NOT_AN_OBJECT);for(k=i.clone(k);;)if(b=a.shift(),e=typeof b,"string"!==e||m?"string"!==e||!m||"_rev"in k?"object"===e?g=i.clone(b):"function"===e&&(h=b):k._rev=b:(k._id=b,m=!0),!a.length)break;g=g||{};var n=i.invalidIdError(k._id);if(n)return h(n);var o=[];g&&"undefined"!=typeof g.new_edits&&o.push("new_edits="+g.new_edits),o=o.join("&"),""!==o&&(o="?"+o),c({headers:l.headers,method:"PUT",url:f(l,d(k._id))+o,body:k},h)})),k.post=i.adapterFun("post",function(a,b,c){return"function"==typeof b&&(c=b,b={}),b=i.clone(b),"object"!=typeof a?c(j.NOT_AN_OBJECT):("_id"in a||(a._id=i.uuid()),void k.put(a,b,c))}),k._bulkDocs=function(a,b,d){"undefined"!=typeof b.new_edits&&(a.new_edits=b.new_edits),c({headers:l.headers,method:"POST",url:f(l,"_bulk_docs"),body:a},d)},k.allDocs=i.adapterFun("allDocs",function(a,b){"function"==typeof a&&(b=a,a={}),a=i.clone(a);var d,e=[],g="GET";if(a.conflicts&&e.push("conflicts=true"),a.descending&&e.push("descending=true"),a.include_docs&&e.push("include_docs=true"),a.key&&e.push("key="+encodeURIComponent(JSON.stringify(a.key))),a.startkey&&e.push("startkey="+encodeURIComponent(JSON.stringify(a.startkey))),a.endkey&&e.push("endkey="+encodeURIComponent(JSON.stringify(a.endkey))),"undefined"!=typeof a.inclusive_end&&e.push("inclusive_end="+!!a.inclusive_end),"undefined"!=typeof a.limit&&e.push("limit="+a.limit),"undefined"!=typeof a.skip&&e.push("skip="+a.skip),e=e.join("&"),""!==e&&(e="?"+e),"undefined"!=typeof a.keys){var h=2e3,j="keys="+encodeURIComponent(JSON.stringify(a.keys));j.length+e.length+1<=h?e+=(-1!==e.indexOf("?")?"&":"?")+j:(g="POST",d=JSON.stringify({keys:a.keys}))}c({headers:l.headers,method:g,url:f(l,"_all_docs"+e),body:d},b)}),k._changes=function(a){var b=25;a=i.clone(a),a.timeout=a.timeout||3e4;var d={timeout:a.timeout-5e3},e="undefined"!=typeof a.limit?a.limit:!1;0===e&&(e=1);var g;g="returnDocs"in a?a.returnDocs:!0;var h=e;if(a.style&&(d.style=a.style),(a.include_docs||a.filter&&"function"==typeof a.filter)&&(d.include_docs=!0),a.continuous&&(d.feed="longpoll"),a.conflicts&&(d.conflicts=!0),a.descending&&(d.descending=!0),a.filter&&"string"==typeof a.filter&&(d.filter=a.filter,"_view"===a.filter&&a.view&&"string"==typeof a.view&&(d.view=a.view)),a.query_params&&"object"==typeof a.query_params)for(var k in a.query_params)a.query_params.hasOwnProperty(k)&&(d[k]=a.query_params[k]);var m,n,o=function(g,i){if(!a.aborted){d.since=g,a.descending?e&&(d.limit=h):d.limit=!e||h>b?b:h;var j="?"+Object.keys(d).map(function(a){return a+"="+d[a]}).join("&"),k={headers:l.headers,method:"GET",url:f(l,"_changes"+j),timeout:a.timeout};n=g,a.aborted||(m=c(k,i))}},p=10,q=0,r={results:[]},s=function(c,d){if(!a.aborted){var f=0;if(d&&d.results){f=d.results.length,r.last_seq=d.last_seq;var k={};k.query=a.query_params,d.results=d.results.filter(function(b){h--;var c=i.filterChange(a)(b);return c&&(g&&r.results.push(b),i.call(a.onChange,b)),c})}else if(c)return a.aborted=!0,void i.call(a.complete,c);d&&d.last_seq&&(n=d.last_seq);var l=e&&0>=h||d&&b>f||a.descending;if((!a.continuous||e&&0>=h)&&l)i.call(a.complete,null,r);else{c?q+=1:q=0;var m=1<<q,t=p*m,u=a.maximumWait||3e4;if(t>u)return void i.call(a.complete,c||j.UNKNOWN_ERROR);setTimeout(function(){o(n,s)},t)}}};return o(a.since||0,s),{cancel:function(){a.aborted=!0,m&&m.abort()}}},k.revsDiff=i.adapterFun("revsDif",function(a,b,d){"function"==typeof b&&(d=b,b={}),c({headers:l.headers,method:"POST",url:f(l,"_revs_diff"),body:a},function(a,b){d(a,b)})}),k._close=function(a){a()},k.replicateOnServer=function(a,b,c){return k.taskqueue.isReady?void a.info(function(d,e){h(a,b,c,e.host)}):(k.taskqueue.addTask("replicateOnServer",[a,b,c]),c)},k.destroy=i.adapterFun("destroy",function(a){c({url:f(l,""),method:"DELETE",headers:l.headers},function(b,c){b?(k.emit("error",b),a(b)):(k.emit("destroyed"),a(null,c))})})}var i=a("../utils"),j=a("../deps/errors");c.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},h.destroy=i.toPromise(function(a,b,c){var d=e(a,b);b=b||{},"function"==typeof b&&(c=b,b={}),b=i.clone(b),b.headers=d.headers,b.method="DELETE",b.url=f(d,"");var g=b.ajax||{};b=i.extend({},b,g),i.ajax(b,c)}),h.valid=function(){return!0},b.exports=h},{"../deps/errors":10,"../utils":21}],3:[function(a,b){(function(c,d){"use strict";function e(a,b,c){try{a.apply(b,c)}catch(d){window.PouchDB&&window.PouchDB.emit("error",d)}}function f(){if(!p.running&&p.queue.length){p.running=!0;var a=p.queue.shift();a.action(function(b,d){e(a.callback,this,[b,d]),p.running=!1,c.nextTick(f)})}}function g(a){return function(b){var c=b.target&&b.target.error&&b.target.error.name||b.target;a(n.error(n.IDB_ERROR,c,b.type))}}function h(){var a="_pouch__checkModernIdb_"+(d.navigator&&d.navigator.appVersion),b=l.hasLocalStorage()&&d.localStorage[a];if(b)return JSON.parse(b);var c="_pouch__checkModernIdb",e=null===d.indexedDB.open(c,1).onupgradeneeded;return d.indexedDB.deleteDatabase&&d.indexedDB.deleteDatabase(c),l.hasLocalStorage()&&(d.localStorage[a]=JSON.stringify(e)),e}function i(a,b){var c=this;p.queue.push({action:function(b){j(c,a,b)},callback:b}),f()}function j(a,b,e){function f(a){a.createObjectStore(r,{keyPath:"id"}).createIndex("seq","seq",{unique:!0}),a.createObjectStore(s,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),a.createObjectStore(t,{keyPath:"digest"}),a.createObjectStore(u,{keyPath:"id",autoIncrement:!1}),a.createObjectStore(v)}function h(a){var b=a.currentTarget.transaction.objectStore(r);b.openCursor().onsuccess=function(a){var c=a.target.result;if(c){var d=c.value,e=l.isDeleted(d),f=l.isLocalId(d.id);d.deletedOrLocal=e||f?"1":"0",b.put(d),c["continue"]()}else b.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1})}}function j(a,b){return a._bulk_seq-b._bulk_seq}function k(a,b,c){var e="startkey"in b?b.startkey:!1,f="endkey"in b?b.endkey:!1,g="key"in b?b.key:!1,h=b.skip||0,i="number"==typeof b.limit?b.limit:-1,j=b.inclusive_end!==!1,k="descending"in b&&b.descending?"prev":null,o=!1;k&&e&&f&&(o=f,f=!1);var p=null;try{e&&f?p=d.IDBKeyRange.bound(e,f,!1,!j):e?p=k?d.IDBKeyRange.upperBound(e):d.IDBKeyRange.lowerBound(e):f?p=k?d.IDBKeyRange.lowerBound(f,!j):d.IDBKeyRange.upperBound(f,!j):g&&(p=d.IDBKeyRange.only(g))}catch(q){return"DataError"===q.name&&0===q.code?c(null,{total_rows:a,offset:b.skip,rows:[]}):c(n.error(n.IDB_ERROR,q.name,q.message))}var t=A.transaction([r,s],"readonly");t.oncomplete=function(){c(null,{total_rows:a,offset:b.skip,rows:w})};var u=t.objectStore(r),v=k?u.openCursor(p,k):u.openCursor(p),w=[];v.onsuccess=function(a){function c(a,c){if(l.isLocalId(a.id))return d["continue"]();var e={id:a.id,key:a.id,value:{rev:f}};if(b.include_docs){e.doc=c,e.doc._rev=f,e.doc._doc_id_rev&&delete e.doc._doc_id_rev,b.conflicts&&(e.doc._conflicts=m.collectConflicts(a));for(var g in e.doc._attachments)e.doc._attachments.hasOwnProperty(g)&&(e.doc._attachments[g].stub=!0)}var k=l.isDeleted(a,f);if("ok"===b.deleted)k&&(e.value.deleted=!0,e.doc=null),w.push(e);else if(!k&&h--<=0){if(o){if(j&&e.key<o)return;if(!j&&e.key<=o)return}if(w.push(e),0===--i)return}d["continue"]()}if(a.target.result){var d=a.target.result,e=d.value,f=e.winningRev||m.winningRev(e);if(b.include_docs){var g=t.objectStore(s).index("_doc_id_rev"),k=e.id+"::"+f;g.get(k).onsuccess=function(a){c(d.value,a.target.result)}}else c(e)}}}function p(a){if(-1!==B)return a(null,B);var b,c=A.transaction([r],"readonly"),e=c.objectStore(r).index("deletedOrLocal");e.count(d.IDBKeyRange.only("0")).onsuccess=function(a){b=a.target.result},c.onerror=g(a),c.oncomplete=function(){B=b,a(null,B)}}var q=2,r="document-store",s="by-sequence",t="attach-store",u="meta-store",v="detect-blob-support",w=b.name,x=null,y=null,z=!1,A=null,B=-1;a.type=function(){return"idb"},a._id=l.toPromise(function(a){a(null,y)}),a._bulkDocs=function(a,b,c){function d(a){var b=a.target.result;b.updateSeq=(b.updateSeq||0)+I,F.objectStore(u).put(b)}function e(){if(!D.length)return void(F.objectStore(u).get(u).onsuccess=d);var a=D.shift(),b=a.metadata.id;if(b in H)return p(H[b],a);var c=F.objectStore(r).get(b);c.onsuccess=function(b){var c=b.target.result;c?p(c,a):q(a)}}function f(){var a=[];G.sort(j),G.forEach(function(b){if(delete b._bulk_seq,b.error)return void a.push(b);var c=b.metadata,d=m.winningRev(c);a.push({ok:!0,id:c.id,rev:d}),l.isLocalId(c.id)}),i.Changes.notify(w),B=-1,c(null,a)}function h(a,b){if(a.stub)return b();if("string"==typeof a.data){var d;try{d=atob(a.data)}catch(e){var f=n.error(n.BAD_ARG,"Attachments need to be base64 encoded");return c(f)}if(a.digest="md5-"+l.MD5(d),x){var g=a.content_type;d=l.fixBinary(d),a.data=l.createBlob([d],{type:g})}return b()}var h=new FileReader;h.onloadend=function(){var c=l.arrayBufferToBinaryString(this.result);a.digest="md5-"+l.MD5(c),x||(a.data=btoa(c)),b()},h.readAsArrayBuffer(a.data)}function k(a){function b(){c++,D.length===c&&a()}if(!D.length)return a();var c=0;D.forEach(function(a){function c(){e++,e===d.length&&b()}var d=a.data&&a.data._attachments?Object.keys(a.data._attachments):[];if(!d.length)return b();var e=0;for(var f in a.data._attachments)a.data._attachments.hasOwnProperty(f)&&h(a.data._attachments[f],c)})}function o(a,b,c,d){function e(a){h||(a?(h=a,d(h)):i===j.length&&g())}function f(a){i++,e(a)}function g(){a.data._doc_id_rev=a.data._id+"::"+a.data._rev;var e=F.objectStore(s).index("_doc_id_rev");e.getKey(a.data._doc_id_rev).onsuccess=function(e){var f=e.target.result?F.objectStore(s).put(a.data,e.target.result):F.objectStore(s).put(a.data);f.onsuccess=function(e){var f=a.metadata;f.seq=e.target.result,delete f.rev;var g=l.isLocalId(f.id);f.deletedOrLocal=c||g?"1":"0",f.winningRev=b;var h=F.objectStore(r).put(f);h.onsuccess=function(){delete f.deletedOrLocal,delete f.winningRev,G.push(a),H[a.metadata.id]=a.metadata,l.call(d)}}}}var h=null,i=0;a.data._id=a.metadata.id,a.data._rev=a.metadata.rev,I++,c&&(a.data._deleted=!0);var j=a.data._attachments?Object.keys(a.data._attachments):[];for(var k in a.data._attachments)if(a.data._attachments[k].stub)i++,e();else{var m=a.data._attachments[k].data;delete a.data._attachments[k].data;var n=a.data._attachments[k].digest;y(a,n,m,f)}j.length||g()}function p(a,b){var c=m.merge(a.rev_tree,b.metadata.rev_tree[0],1e3),d=l.isDeleted(a),f=l.isDeleted(b.metadata),g=d&&f&&z||!d&&z&&"new_leaf"!==c.conflicts;if(g)return G.push(v(n.REV_CONFLICT,b._bulk_seq)),e();b.metadata.rev_tree=c.tree;var h=m.winningRev(b.metadata);f=l.isDeleted(b.metadata,h),o(b,h,f,e)}function q(a){var c=m.winningRev(a.metadata),d=l.isDeleted(a.metadata,c);return"was_delete"in b&&d?(G.push(n.MISSING_DOC),e()):void o(a,c,d,e)}function v(a,b){return a._bulk_seq=b,a}function y(a,b,c,d){var e=F.objectStore(t);e.get(b).onsuccess=function(f){var g=f.target.result&&f.target.result.refs||{},h=[a.metadata.id,a.metadata.rev].join("@"),i={digest:b,body:c,refs:g};i.refs[h]=!0,e.put(i).onsuccess=function(){l.call(d)}}}var z=b.new_edits,C=a.docs,D=C.map(function(a,b){var c=l.parseDoc(a,z);return c._bulk_seq=b,c}),E=D.filter(function(a){return a.error});if(E.length)return c(E[0]);var F,G=[],H={},I=0;k(function(){F=A.transaction([r,s,t,u],"readwrite"),F.onerror=g(c),F.ontimeout=g(c),F.oncomplete=f,e()})},a._get=function(a,b,c){function d(){c(g,{doc:e,metadata:f,ctx:h})}var e,f,g,h;b=l.clone(b),h=b.ctx?b.ctx:A.transaction([r,s,t],"readonly"),h.objectStore(r).get(a).onsuccess=function(a){if(f=a.target.result,!f)return g=n.MISSING_DOC,d();if(l.isDeleted(f)&&!b.rev)return g=n.error(n.MISSING_DOC,"deleted"),d();var c=h.objectStore(s),i=b.rev||f.winningRev||m.winningRev(f),j=f.id+"::"+i;c.index("_doc_id_rev").get(j).onsuccess=function(a){return e=a.target.result,e&&e._doc_id_rev&&delete e._doc_id_rev,e?void d():(g=n.MISSING_DOC,d())}}},a._getAttachment=function(a,b,c){var d,e;b=l.clone(b),e=b.ctx?b.ctx:A.transaction([r,s,t],"readonly");var f=a.digest,g=a.content_type;e.objectStore(t).get(f).onsuccess=function(a){var e=a.target.result.body;if(b.encode)if(x){var f=new FileReader;f.onloadend=function(){var a=l.arrayBufferToBinaryString(this.result);d=btoa(a),c(null,d)},f.readAsArrayBuffer(e)}else d=e,c(null,d);else x?d=e:(e=l.fixBinary(atob(e)),d=l.createBlob([e],{type:g})),c(null,d)}},a._allDocs=function(a,b){p(function(c,d){return c?b(c):0===a.limit?b(null,{total_rows:d,offset:a.skip,rows:[]}):void k(d,a,b)})},a._info=function(a){p(function(b,c){if(b)return a(b);if(null===A){var d=new Error("db isn't open");return d.id="idbNull",a(d)}var e=0,f=A.transaction([u],"readonly");f.objectStore(u).get(u).onsuccess=function(a){e=a.target.result&&a.target.result.updateSeq||0},f.oncomplete=function(){a(null,{db_name:w,doc_count:c,update_seq:e})}})},a._changes=function(b){function c(){o=A.transaction([r,s]),o.oncomplete=f;var a;a=h?o.objectStore(s).openCursor(d.IDBKeyRange.lowerBound(b.since,!0),h):o.objectStore(s).openCursor(d.IDBKeyRange.lowerBound(b.since,!0)),a.onsuccess=e,a.onerror=onerror}function e(a){var c=a.target.result;if(c){var d=c.value;if(l.isLocalId(d._id)||b.doc_ids&&-1===b.doc_ids.indexOf(d._id))return c["continue"]();var e=o.objectStore(r);e.get(d._id).onsuccess=function(a){var e=a.target.result;j<e.seq&&(j=e.seq);var f=e.winningRev||m.winningRev(e);if(d._rev!==f)return c["continue"]();delete d._doc_id_rev;var g=b.processChange(d,e,b);g.seq=c.key,t(g)&&(q++,n&&p.push(g),b.onChange(g)),q!==k&&c["continue"]()}}}function f(){b.continuous||b.complete(null,{results:p,last_seq:j})}if(b=l.clone(b),b.continuous){var g=w+":"+l.uuid();return i.Changes.addListener(w,g,a,b),i.Changes.notify(w),{cancel:function(){i.Changes.removeListener(w,g)}}}var h=b.descending?"prev":null,j=0;b.since=b.since&&!h?b.since:0;var k="limit"in b?b.limit:-1;0===k&&(k=1);var n;n="returnDocs"in b?b.returnDocs:!0;var o,p=[],q=0,t=l.filterChange(b);c()},a._close=function(a){return null===A?a(n.NOT_OPEN):(A.close(),delete o[w],A=null,void a())},a._getRevisionTree=function(a,b){var c=A.transaction([r],"readonly"),d=c.objectStore(r).get(a);d.onsuccess=function(a){var c=a.target.result;c?b(null,c.rev_tree):b(n.MISSING_DOC)}},a._doCompaction=function(a,b,c,d){var e=A.transaction([r,s],"readwrite"),f=e.objectStore(r);f.get(a).onsuccess=function(d){var f=d.target.result;f.rev_tree=b;var g=c.length;c.forEach(function(b){var c=e.objectStore(s).index("_doc_id_rev"),d=a+"::"+b;c.getKey(d).onsuccess=function(a){var b=a.target.result;b&&(e.objectStore(s)["delete"](b),g--,g||e.objectStore(r).put(f))}})},e.oncomplete=function(){l.call(d)}};var C=o[w];if(C)return A=C.idb,x=C.blobSupport,y=C.instanceId,z=C.idStored,void c.nextTick(function(){e(null,a)});var D=d.indexedDB.open(w,q);"openReqList"in i||(i.openReqList={}),i.openReqList[w]=D,D.onupgradeneeded=function(a){var b=a.target.result;a.oldVersion<1&&f(b),a.oldVersion<2&&h(a)},D.onsuccess=function(b){A=b.target.result,A.onversionchange=function(){A.close(),delete o[w]
},A.onabort=function(){A.close(),delete o[w]};var c=A.transaction([u,v],"readwrite"),d=c.objectStore(u).get(u);d.onsuccess=function(b){var d=function(){null!==x&&z&&(o[w]={idb:A,blobSupport:x,instanceId:y,idStored:z,loaded:!0},e(null,a))},f=b.target.result||{id:u};w+"_id"in f?(y=f[w+"_id"],z=!0,d()):(y=l.uuid(),f[w+"_id"]=y,c.objectStore(u).put(f).onsuccess=function(){z=!0,d()});try{c.objectStore(v).put(l.createBlob(),"key"),x=!0}catch(g){x=!1}finally{d()}}},D.onerror=g(e)}function k(a,b,c){"openReqList"in i||(i.openReqList={}),i.Changes.removeAllListeners(a),i.openReqList[a]&&i.openReqList[a].result&&i.openReqList[a].result.close();var e=d.indexedDB.deleteDatabase(a);e.onsuccess=function(){i.openReqList[a]&&(i.openReqList[a]=null),l.hasLocalStorage()&&delete d.localStorage[a],delete o[a],c(null,{ok:!0})},e.onerror=g(c)}var l=a("../utils"),m=a("../merge"),n=a("../deps/errors"),o={},p={running:!1,queue:[]};i.valid=function(){return d.indexedDB&&h()},i.destroy=l.toPromise(function(a,b,c){p.queue.push({action:function(c){k(a,b,c)},callback:c}),f()}),i.Changes=new l.Changes,b.exports=i}).call(this,a("/Users/daleharvey/src/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../deps/errors":10,"../merge":16,"../utils":21,"/Users/daleharvey/src/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":26}],4:[function(a,b){b.exports=["idb","websql"]},{}],5:[function(a,b){(function(c){"use strict";function d(a){return"'"+a+"'"}function e(a,b,c,d,e){return"SELECT "+a+" FROM "+("string"==typeof b?b:b.join(" JOIN "))+(c?" ON "+c:"")+(d?" WHERE "+("string"==typeof d?d:d.join(" AND ")):"")+(e?" ORDER BY "+e:"")}function f(a){return function(b){var c=b&&b.constructor.toString().match(/function ([^\(]+)/),d=c&&c[1]||b.type,e=b.target||b.message;a(l.error(l.WSQ_ERROR,e,d))}}function g(a){return decodeURIComponent(window.escape(a))}function h(a,b){for(var c="",d="UTF-8"===b?2:4,e=0,f=a.length;f>e;e+=d){var h=a.substring(e,e+d);4===d&&(h=h.substring(2,4)+h.substring(0,2)),c+=String.fromCharCode(parseInt(h,16))}return c="UTF-8"===b?g(c):c}function i(a,b){function d(){j.hasLocalStorage()&&(c.localStorage["_pouch__websqldb_"+H]=!0),b(null,F)}function g(a){a.executeSql(x),a.executeSql("ALTER TABLE "+s+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){a.executeSql(v),a.executeSql("ALTER TABLE "+r+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){a.executeSql(w);var b="SELECT "+r+".winningseq AS seq, "+r+".json AS metadata FROM "+s+" JOIN "+r+" ON "+s+".seq = "+r+".winningseq";a.executeSql(b,[],function(a,b){for(var c=[],d=[],e=0;e<b.rows.length;e++){var f=b.rows.item(e),g=f.seq,h=JSON.parse(f.metadata);j.isDeleted(h)&&c.push(g),j.isLocalId(h.id)&&d.push(h.id)}a.executeSql("UPDATE "+r+"SET local = 1 WHERE id IN ("+d.map(function(){return"?"}).join(",")+")",d),a.executeSql("UPDATE "+s+" SET deleted = 1 WHERE seq IN ("+c.map(function(){return"?"}).join(",")+")",c)})})})}function m(a){for(;I.length>0;){var b=I.pop();b(null,G)}A(a)}function A(a){a.executeSql("SELECT dbid, hex(dbid) AS hexId FROM "+u,[],function(a,b){var c=b.rows.item(0).dbid,d=b.rows.item(0).hexId;E=d.length===2*c.length?"UTF-8":"UTF-16"})}function B(a,b){if(0===b){var c="CREATE TABLE IF NOT EXISTS "+u+" (update_seq, dbid, db_version INTEGER)",d="CREATE TABLE IF NOT EXISTS "+t+" (digest, json, body BLOB)",e="CREATE TABLE IF NOT EXISTS "+r+" (id unique, json, winningseq, local TINYINT(1))",f="CREATE TABLE IF NOT EXISTS "+s+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, doc_id_rev UNIQUE, json, deleted TINYINT(1))";a.executeSql(d),a.executeSql(e,[],function(){a.executeSql(x),a.executeSql(w)}),a.executeSql(f,[],function(){a.executeSql(v)}),a.executeSql(c,[],function(){var b="INSERT INTO "+u+" (update_seq, db_version, dbid) VALUES (?, ?, ?)";G=j.uuid(),a.executeSql(b,[0,q,G]),m(a)})}else 1===b&&(g(a),a.executeSql("UPDATE "+u+" SET db_version = "+q)),a.executeSql("SELECT dbid FROM "+u,[],function(a,b){G=b.rows.item(0).dbid,m(a)})}function C(){K.transaction(function(a){a.executeSql("SELECT sql FROM sqlite_master WHERE tbl_name = "+u,[],function(a,b){b.rows.length?/db_version/.test(b.rows.item(0).sql)?a.executeSql("SELECT db_version FROM "+u,[],function(a,b){var c=b.rows.item(0).db_version;B(a,c)}):a.executeSql("ALTER TABLE "+u+" ADD COLUMN db_version INTEGER",[],function(){B(a,1)}):B(a,0)})},f(b),d)}function D(a,b){if(-1!==J)return b(J);var c=e("COUNT("+r+".id) AS 'num'",[r,s],y,[s+".deleted=0",r+".local=0"]);a.executeSql(c,[],function(a,c){J=c.rows.item(0).num,b(J)})}var E,F=this,G=null,H=a.name,I=[],J=-1,K=n(H,o,H,p);return K?("function"!=typeof K.readTransaction&&(K.readTransaction=K.transaction),j.isCordova()&&"undefined"!=typeof c?c.addEventListener(H+"_pouch",function L(){c.removeEventListener(H+"_pouch",L,!1),C()},!1):C(),F.type=function(){return"websql"},F._id=j.toPromise(function(a){a(null,G)}),F._info=function(a){K.readTransaction(function(b){D(b,function(c){var d="SELECT update_seq FROM "+u;b.executeSql(d,[],function(b,d){var e=d.rows.item(0).update_seq;a(null,{db_name:H,doc_count:c,update_seq:e})})})},f(a))},F._bulkDocs=function(a,b,c){function d(a,b){return a._bulk_seq-b._bulk_seq}function g(){var a=[];D.sort(d),D.forEach(function(b){if(delete b._bulk_seq,b.error)return void a.push(b);var c=b.metadata,d=k.winningRev(c);a.push({ok:!0,id:c.id,rev:d}),j.isLocalId(c.id)||z++}),i.Changes.notify(H);var b="SELECT update_seq FROM "+u;C.executeSql(b,[],function(b,d){var e=d.rows.item(0).update_seq+z,f="UPDATE "+u+" SET update_seq=?";b.executeSql(f,[e],function(){c(null,a)})})}function h(a,b){if(a.stub)return b();if("string"==typeof a.data){try{a.data=atob(a.data)}catch(d){var e=l.error(l.BAD_ARG,"Attachments need to be base64 encoded");return c(e)}var f=j.fixBinary(a.data);a.data=j.createBlob([f],{type:a.content_type})}var g=new FileReader;g.onloadend=function(){var c=j.arrayBufferToBinaryString(this.result);a.data=c,a.digest="md5-"+j.MD5(c),b()},g.readAsArrayBuffer(a.data)}function m(a){function b(){c++,A.length===c&&a()}if(!A.length)return a();var c=0;A.forEach(function(a){function c(){e++,e===d.length&&b()}var d=a.data&&a.data._attachments?Object.keys(a.data._attachments):[],e=0;if(!d.length)return b();for(var f in a.data._attachments)a.data._attachments.hasOwnProperty(f)&&h(a.data._attachments[f],c)})}function n(a,b,c,d,f){function g(){var b=a.data,d=b._id+"::"+b._rev,f=c?1:0,g=e("seq",s,null,"doc_id_rev=?");C.executeSql(g,[d],function(a,c){var e,g;c.rows.length?(e="UPDATE "+s+" SET json=?, deleted=? WHERE doc_id_rev=?;",g=[JSON.stringify(b),f,d],C.executeSql(e,g,function(a){k(a,c.rows.item(0).seq)})):(e="INSERT INTO "+s+" (doc_id_rev, json, deleted) VALUES (?, ?, ?);",g=[d,JSON.stringify(b),f],C.executeSql(e,g,function(a,b){k(a,b.insertId)}))})}function h(a){l||(a?(l=a,d(l)):m===n.length&&g())}function i(a){m++,h(a)}function k(c,e){a.metadata.seq=e,delete a.metadata.rev;var g=f?"UPDATE "+r+" SET json=?, winningseq=(SELECT seq FROM "+s+" WHERE doc_id_rev=?) WHERE id=?":"INSERT INTO "+r+" (id, winningseq, json, local) VALUES (?, ?, ?, ?);",h=JSON.stringify(a.metadata),i=a.metadata.id+"::"+b,k=j.isLocalId(a.metadata.id)?1:0,l=f?[h,i,a.metadata.id]:[a.metadata.id,e,h,k];c.executeSql(g,l,function(){D.push(a),E[a.metadata.id]=a.metadata,d()})}var l=null,m=0;a.data._id=a.metadata.id,a.data._rev=a.metadata.rev,c&&(a.data._deleted=!0);var n=a.data._attachments?Object.keys(a.data._attachments):[];for(var o in a.data._attachments)if(a.data._attachments[o].stub)m++,h();else{var p=a.data._attachments[o].data;delete a.data._attachments[o].data;var q=a.data._attachments[o].digest;w(a,q,p,i)}n.length||g()}function o(a,b){var c=k.merge(a.rev_tree,b.metadata.rev_tree[0],1e3),d=j.isDeleted(b.metadata),e=j.isDeleted(a),f=e&&d&&x||!e&&x&&"new_leaf"!==c.conflicts;if(f)return D.push(v(l.REV_CONFLICT,b._bulk_seq)),q();b.metadata.rev_tree=c.tree;var g=k.winningRev(b.metadata);d=j.isDeleted(b.metadata,g),n(b,g,d,q,!0)}function p(a){var c=k.winningRev(a.metadata),d=j.isDeleted(a.metadata,c);return"was_delete"in b&&d?(D.push(l.MISSING_DOC),q()):void n(a,c,d,q,!1)}function q(){if(!A.length)return g();var a=A.shift(),b=a.metadata.id;return b in E?o(E[b],a):void C.executeSql("SELECT json FROM "+r+" WHERE id = ?",[b],function(b,c){if(c.rows.length){var d=JSON.parse(c.rows.item(0).json);o(d,a)}else p(a)})}function v(a,b){return a._bulk_seq=b,a}function w(a,b,c,d){var e=[a.metadata.id,a.metadata.rev].join("@"),f={digest:b},g="SELECT digest, json FROM "+t+" WHERE digest=?";C.executeSql(g,[b],function(a,h){h.rows.length?(f.refs=JSON.parse(h.rows.item(0).json).refs,g="UPDATE "+t+" SET json=?, body=? WHERE digest=?",a.executeSql(g,[JSON.stringify(f),c,b],function(){d()})):(f.refs={},f.refs[e]=!0,g="INSERT INTO "+t+"(digest, json, body) VALUES (?, ?, ?)",a.executeSql(g,[b,JSON.stringify(f),c],function(){d()}))})}var x=b.new_edits,y=a.docs,z=0,A=y.map(function(a,b){var c=j.parseDoc(a,x);return c._bulk_seq=b,c}),B=A.filter(function(a){return a.error});if(B.length)return c(B[0]);var C,D=[],E={};m(function(){K.transaction(function(a){C=a,q()},f(c),function(){J=-1})})},F._get=function(a,b,c){function d(){c(h,{doc:f,metadata:g,ctx:m})}b=j.clone(b);var f,g,h;if(!b.ctx)return void K.readTransaction(function(d){b.ctx=d,F._get(a,b,c)});var i,k,m=b.ctx;b.rev?(i=e(z,[r,s],null,[s+".doc_id_rev=?",r+".id=?"]),k=[a+"::"+b.rev,a]):(i=e(z,[r,s],y,r+".id=?"),k=[a]),m.executeSql(i,k,function(a,c){if(!c.rows.length)return h=l.MISSING_DOC,d();var e=c.rows.item(0);return g=JSON.parse(e.metadata),e.deleted&&!b.rev?(h=l.error(l.MISSING_DOC,"deleted"),d()):(f=JSON.parse(e.data),void d())})},F._allDocs=function(a,b){var c,d=[],g="startkey"in a?a.startkey:!1,h="endkey"in a?a.endkey:!1,i="key"in a?a.key:!1,j="descending"in a?a.descending:!1,l="limit"in a?a.limit:-1,m="skip"in a?a.skip:0,n=a.inclusive_end!==!1,o=[],p=[r+".local = 0"];if(i!==!1)p.push(r+".id = ?"),o.push(i);else if(g!==!1||h!==!1){if(g!==!1&&(p.push(r+".id "+(j?"<=":">=")+" ?"),o.push(g)),h!==!1){var q=j?">":"<";n&&(q+="="),p.push(r+".id "+q+" ?"),o.push(h)}i!==!1&&(p.push(r+".id = ?"),o.push(i))}"ok"!==a.deleted&&p.push(s+".deleted = 0"),K.readTransaction(function(b){D(b,function(f){if(c=f,0!==l){var g=e(z,[r,s],y,p,r+".id "+(j?"DESC":"ASC"));g+=" LIMIT "+l+" OFFSET "+m,b.executeSql(g,o,function(b,c){for(var e=0,f=c.rows.length;f>e;e++){var g=c.rows.item(e),h=JSON.parse(g.metadata),i=JSON.parse(g.data),j=i._rev,l={id:h.id,key:h.id,value:{rev:j}};if(a.include_docs){l.doc=i,l.doc._rev=j,a.conflicts&&(l.doc._conflicts=k.collectConflicts(h));for(var m in l.doc._attachments)l.doc._attachments.hasOwnProperty(m)&&(l.doc._attachments[m].stub=!0)}if(g.deleted){if("ok"!==a.deleted)continue;l.value.deleted=!0,l.doc=null}d.push(l)}})}})},f(b),function(){b(null,{total_rows:c,offset:a.skip,rows:d})})},F._changes=function(a){function b(){var b=[r+".winningseq > "+a.since,r+".local = 0"],c=[];a.doc_ids&&(b.push(r+".id IN ("+a.doc_ids.map(function(){return"?"}).join(",")+")"),c=a.doc_ids);var i=e(z,[r,s],y,b,r+".winningseq "+(d?"DESC":"ASC")),l=j.filterChange(a);a.view||a.filter||(i+=" LIMIT "+f),K.readTransaction(function(b){b.executeSql(i,c,function(b,c){for(var d=0,e=0,i=c.rows.length;i>e;e++){var j=c.rows.item(e),m=JSON.parse(j.metadata);d<j.seq&&(d=j.seq);var n=JSON.parse(j.data),o=a.processChange(n,m,a);if(o.seq=j.seq,l(o)&&(k++,g&&h.push(o),a.onChange(o)),k===f)break}a.continuous||a.complete(null,{results:h,last_seq:d})})})}if(a=j.clone(a),a.continuous){var c=H+":"+j.uuid();return i.Changes.addListener(H,c,F,a),i.Changes.notify(H),{cancel:function(){i.Changes.removeListener(H,c)}}}var d=a.descending;a.since=a.since&&!d?a.since:0;var f="limit"in a?a.limit:-1;0===f&&(f=1);var g;g="returnDocs"in a?a.returnDocs:!0;var h=[],k=0;b()},F._close=function(a){a()},F._getAttachment=function(a,b,c){var d,e=b.ctx,f=a.digest,g=a.content_type,i="SELECT hex(body) as body FROM "+t+" WHERE digest=?";e.executeSql(i,[f],function(a,e){var f=h(e.rows.item(0).body,E);b.encode?d=btoa(f):(f=j.fixBinary(f),d=j.createBlob([f],{type:g})),c(null,d)})},F._getRevisionTree=function(a,b){K.readTransaction(function(c){var d="SELECT json AS metadata FROM "+r+" WHERE id = ?";c.executeSql(d,[a],function(a,c){if(c.rows.length){var d=JSON.parse(c.rows.item(0).metadata);b(null,d.rev_tree)}else b(l.MISSING_DOC)})})},void(F._doCompaction=function(a,b,c,d){return c.length?void K.transaction(function(e){var f="SELECT json AS metadata FROM "+r+" WHERE id = ?";e.executeSql(f,[a],function(e,f){if(!f.rows.length)return j.call(d);var g=JSON.parse(f.rows.item(0).metadata);g.rev_tree=b;var h=0;c.forEach(function(b){var f=a+"::"+b,i="DELETE FROM "+s+" WHERE doc_id_rev = ?";e.executeSql(i,[f],function(b){if(++h===c.length){var e="UPDATE "+r+" SET json = ? WHERE id = ?";b.executeSql(e,[JSON.stringify(g),a],function(){d()})}})})})}):d()})):b(l.UNKNOWN_ERROR)}var j=a("../utils"),k=a("../merge"),l=a("../deps/errors"),m={},n=j.getArguments(function(a){if("undefined"!=typeof c){if(c.navigator&&c.navigator.sqlitePlugin&&c.navigator.sqlitePlugin.openDatabase)return navigator.sqlitePlugin.openDatabase.apply(navigator.sqlitePlugin,a);if(c.sqlitePlugin&&c.sqlitePlugin.openDatabase)return c.sqlitePlugin.openDatabase.apply(c.sqlitePlugin,a);var b=m[a[0]];return b||(b=m[a[0]]=c.openDatabase.apply(c,a)),b}}),o=1,p=0,q=2,r=d("document-store"),s=d("by-sequence"),t=d("attach-store"),u=d("metadata-store"),v="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+s+" (seq, deleted)",w="CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+r+" (local, id)",x="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+r+" (winningseq)",y=s+".seq = "+r+".winningseq",z=s+".seq AS seq, "+s+".deleted AS deleted, "+s+".json AS data, "+r+".json AS metadata";i.valid=function(){if("undefined"!=typeof c){if(c.navigator&&c.navigator.sqlitePlugin&&c.navigator.sqlitePlugin.openDatabase)return!0;if(c.sqlitePlugin&&c.sqlitePlugin.openDatabase)return!0;if(c.openDatabase)return!0}return!1},i.destroy=j.toPromise(function(a,b,d){i.Changes.removeAllListeners(a);var e=n(a,o,a,p);e.transaction(function(a){var b=[r,s,t,u];b.forEach(function(b){a.executeSql("DROP TABLE IF EXISTS "+b,[])})},f(d),function(){j.hasLocalStorage()&&(delete c.localStorage["_pouch__websqldb_"+a],delete c.localStorage[a]),d(null,{ok:!0})})}),i.Changes=new j.Changes,b.exports=i}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../deps/errors":10,"../merge":16,"../utils":21}],6:[function(a,b){"use strict";function c(a,b,c){function d(){f.cancel()}h.call(this);var f=this;this.db=a,b=b?e.clone(b):{};var g=c||b.complete||function(){},i=b.complete=e.once(function(b,c){b?f.emit("error",b):f.emit("complete",c),f.removeAllListeners(),a.removeListener("destroyed",d)});g&&(f.on("complete",function(a){g(null,a)}),f.on("error",function(a){g(a)}));var j=b.onChange;j&&f.on("change",j),a.once("destroyed",d),b.onChange=function(a){b.isCancelled||(f.emit("change",a),f.startSeq&&f.startSeq<=a.seq&&(f.emit("uptodate"),f.startSeq=!1),a.deleted?f.emit("delete",a):1===a.changes.length&&"1-"===a.changes[0].rev.slice(0,2)?f.emit("create",a):f.emit("update",a))};var k=new e.Promise(function(a,c){b.complete=function(b,d){b?c(b):a(d)}});f.once("cancel",function(){j&&f.removeListener("change",j),b.complete(null,{status:"cancelled"})}),this.then=k.then.bind(k),this["catch"]=k["catch"].bind(k),this.then(function(a){i(null,a)},i),a.taskqueue.isReady?f.doChanges(b):a.taskqueue.addTask(function(){f.isCancelled?f.emit("cancel"):f.doChanges(b)})}function d(a,b,c){var d=[{rev:a._rev}];"all_docs"===c.style&&(d=f.collectLeaves(b.rev_tree).map(function(a){return{rev:a.rev}}));var g={id:b.id,changes:d,doc:a};return e.isDeleted(b,a._rev)&&(g.deleted=!0),c.conflicts&&(g.doc._conflicts=f.collectConflicts(b),g.doc._conflicts.length||delete g.doc._conflicts),g}var e=a("./utils"),f=a("./merge"),g=a("./deps/errors"),h=a("events").EventEmitter,i=a("./evalFilter"),j=a("./evalView");b.exports=c,e.inherits(c,h),c.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},c.prototype.doChanges=function(a){var b=this,c=a.complete;if(a=e.clone(a),"live"in a&&!("continuous"in a)&&(a.continuous=a.live),a.processChange=d,"latest"===a.since&&(a.since="now"),a.since||(a.since=0),"now"===a.since)return void this.db.info().then(function(d){return b.isCancelled?void c(null,{status:"cancelled"}):(a.since=d.update_seq-1,void b.doChanges(a))},c);if(a.continuous&&"now"!==a.since&&this.db.info().then(function(a){b.startSeq=a.update_seq-1},function(a){if("idbNull"!==a.id)throw a}),"http"!==this.db.type()&&a.filter&&"string"==typeof a.filter)return this.filterChanges(a);"descending"in a||(a.descending=!1),a.limit=0===a.limit?1:a.limit,a.complete=c;var f=this.db._changes(a);if(f&&"function"==typeof f.cancel){var g=b.cancel;b.cancel=e.getArguments(function(a){f.cancel(),g.apply(this,a)})}},c.prototype.filterChanges=function(a){var b=this,c=a.complete;if("_view"===a.filter){if(!a.view||"string"!=typeof a.view){var d=new Error("`view` filter parameter is not provided.");return d.status=g.BAD_REQUEST.status,d.name=g.BAD_REQUEST.name,d.error=!0,void c(d)}var e=a.view.split("/");this.db.get("_design/"+e[0],function(d,f){if(b.isCancelled)return void c(null,{status:"cancelled"});if(d)return void c(d);if(f&&f.views&&f.views[e[1]]){var h=j(f.views[e[1]].map);return a.filter=h,void b.doChanges(a)}var i=f.views?"missing json key: "+e[1]:"missing json key: views";d||(d=new Error(i),d.status=g.MISSING_DOC.status,d.name=g.MISSING_DOC.name,d.error=!0),c(d)})}else{var f=a.filter.split("/");this.db.get("_design/"+f[0],function(d,e){if(b.isCancelled)return void c(null,{status:"cancelled"});if(d)return void c(d);if(e&&e.filters&&e.filters[f[1]]){var h=i(e.filters[f[1]]);return a.filter=h,void b.doChanges(a)}var j=e&&e.filters?"missing json key: "+f[1]:"missing json key: filters";return d||(d=new Error(j),d.status=g.MISSING_DOC.status,d.name=g.MISSING_DOC.name,d.error=!0),void c(d)})}}},{"./deps/errors":10,"./evalFilter":13,"./evalView":14,"./merge":16,"./utils":21,events:25}],7:[function(a,b){(function(c){"use strict";function d(a){a&&c.debug&&console.error(a)}function e(a,b,c){if(!(this instanceof e))return new e(a,b,c);var j=this;("function"==typeof b||"undefined"==typeof b)&&(c=b,b={}),"object"==typeof a&&(b=a,a=void 0),"undefined"==typeof c&&(c=d),b=b||{};var k=c;j.auto_compaction=b.auto_compaction,j.prefix=e.prefix,f.call(j),j.taskqueue=new h;var l=new i(function(d,f){c=function(a,b){return a?f(a):(delete b.then,void d(b))},b=g.clone(b);var h,i,k=b.name||a;return function(){try{if("string"!=typeof k)throw i=new Error("Missing/invalid DB name"),i.code=400,i;if(h=e.parseAdapter(k,b),b.originalName=k,b.name=h.name,b.adapter=b.adapter||h.adapter,j._adapter=b.adapter,!e.adapters[b.adapter])throw i=new Error("Adapter is missing"),i.code=404,i;if(!e.adapters[b.adapter].valid())throw i=new Error("Invalid Adapter"),i.code=404,i}catch(a){j.taskqueue.fail(a),j.changes=g.toPromise(function(b){b.complete&&b.complete(a)})}}(),i?f(i):(j.adapter=b.adapter,j.replicate={},j.replicate.from=function(a,b,c){return e.replicate(a,j,b,c)},j.replicate.to=function(a,b,c){return e.replicate(j,a,b,c)},j.sync=function(a,b,c){return e.sync(j,a,b,c)},j.replicate.sync=j.sync,j.destroy=g.adapterFun("destroy",function(a){var b=this;b.info(function(b,c){return b?a(b):void e.destroy(c.db_name,a)})}),e.adapters[b.adapter].call(j,b,function(a){function d(a){"destroyed"===a&&(j.emit("destroyed"),e.removeListener(b.name,d))}return a?void(c&&(j.taskqueue.fail(a),c(a))):(e.on(b.name,d),j.emit("created",j),e.emit("created",b.originalName),j.taskqueue.ready(j),void c(null,j))}),b.skipSetup&&j.taskqueue.ready(j),void(g.isCordova()&&cordova.fireWindowEvent(b.name+"_pouch",{})))});l.then(function(a){k(null,a)},k),j.then=l.then.bind(l),j["catch"]=l["catch"].bind(l)}var f=a("./adapter"),g=a("./utils"),h=a("./taskqueue"),i=g.Promise;g.inherits(e,f),b.exports=e}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./adapter":1,"./taskqueue":20,"./utils":21}],8:[function(a,b){"use strict";function c(a,b){function c(b,c,d){if(a.binary||a.json||!a.processData||"string"==typeof b){if(!a.binary&&a.json&&"string"==typeof b)try{b=JSON.parse(b)}catch(e){return d(e)}}else b=JSON.stringify(b);Array.isArray(b)&&(b=b.map(function(a){var b;return a.ok?a:a.error&&"conflict"===a.error?(b=f.REV_CONFLICT,b.id=a.id,b):a.error&&"forbidden"===a.error?(b=f.FORBIDDEN,b.id=a.id,b.reason=a.reason,b):a.missing?(b=f.MISSING_DOC,b.missing=a.missing,b):a})),d(null,b,c)}function h(a,b){var c,d,e,g;try{c=JSON.parse(a.responseText);for(g in f)if(f.hasOwnProperty(g)&&f[g].name===c.error){e=f[g];break}e||(e=f.UNKNOWN_ERROR,a.status&&(e.status=a.status),a.statusText&&(a.name=a.statusText)),d=f.error(e,c.reason)}catch(h){for(var g in f)if(f.hasOwnProperty(g)&&f[g].status===a.status){e=f[g];break}e||(e=f.UNKNOWN_ERROR,a.status&&(e.status=a.status),a.statusText&&(a.name=a.statusText)),d=f.error(e)}b(d)}var i=!1,j=g.getArguments(function(a){i||(b.apply(this,a),i=!0)});"function"==typeof a&&(j=a,a={}),a=g.clone(a);var k={method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1};if(a=g.extend(!0,k,a),"GET"===a.method&&!a.cache){var l=-1!==a.url.indexOf("?");a.url+=(l?"&":"?")+"_nonce="+g.uuid(16)}var m,n;n=a.xhr?new a.xhr:new XMLHttpRequest,n.open(a.method,a.url),n.withCredentials=!0,a.json&&(a.headers.Accept="application/json",a.headers["Content-Type"]=a.headers["Content-Type"]||"application/json",a.body&&a.processData&&"string"!=typeof a.body&&(a.body=JSON.stringify(a.body))),a.binary&&(n.responseType="arraybuffer");var o=function(a,b,c){var d="";if(c){var e=new Date;e.setTime(e.getTime()+24*c*60*60*1e3),d="; expires="+e.toGMTString()}document.cookie=a+"="+b+d+"; path=/"};for(var p in a.headers)if("Cookie"===p){var q=a.headers[p].split("=");o(q[0],q[1],10)}else n.setRequestHeader(p,a.headers[p]);"body"in a||(a.body=null);var r=function(){i||(n.abort(),h(n,j))};if(n.onreadystatechange=function(){if(4===n.readyState&&!i)if(clearTimeout(m),n.status>=200&&n.status<300){var b;b=a.binary?e([n.response||""],{type:n.getResponseHeader("Content-Type")}):n.responseText,c(b,n,j)}else h(n,j)},a.timeout>0&&(m=setTimeout(r,a.timeout),n.onprogress=function(){clearTimeout(m),m=setTimeout(r,a.timeout)},"undefined"==typeof d&&(d=-1!==Object.keys(n).indexOf("upload")),d&&(n.upload.onprogress=n.onprogress)),a.body&&a.body instanceof Blob){var s=new FileReader;s.onloadend=function(){for(var a="",b=new Uint8Array(this.result),c=b.byteLength,d=0;c>d;d++)a+=String.fromCharCode(b[d]);a=g.fixBinary(a),n.send(a)},s.readAsArrayBuffer(a.body)}else n.send(a.body);return{abort:r}}var d,e=a("./blob.js"),f=a("./errors"),g=a("../utils");b.exports=c},{"../utils":21,"./blob.js":9,"./errors":10}],9:[function(a,b){(function(a){"use strict";function c(b,c){b=b||[],c=c||{};try{return new Blob(b,c)}catch(d){if("TypeError"!==d.name)throw d;for(var e=a.BlobBuilder||a.MSBlobBuilder||a.MozBlobBuilder||a.WebKitBlobBuilder,f=new e,g=0;g<b.length;g+=1)f.append(b[g]);return f.getBlob(c.type)}}b.exports=c}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(a,b,c){"use strict";function d(a){this.status=a.status,this.name=a.error,this.message=a.reason,this.error=!0}d.prototype__proto__=Error.prototype,d.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message})},c.UNAUTHORIZED=new d({status:401,error:"unauthorized",reason:"Name or password is incorrect."}),c.MISSING_BULK_DOCS=new d({status:400,error:"bad_request",reason:"Missing JSON list of 'docs'"}),c.MISSING_DOC=new d({status:404,error:"not_found",reason:"missing"}),c.REV_CONFLICT=new d({status:409,error:"conflict",reason:"Document update conflict"}),c.INVALID_ID=new d({status:400,error:"invalid_id",reason:"_id field must contain a string"}),c.MISSING_ID=new d({status:412,error:"missing_id",reason:"_id is required for puts"}),c.RESERVED_ID=new d({status:400,error:"bad_request",reason:"Only reserved document ids may start with underscore."}),c.NOT_OPEN=new d({status:412,error:"precondition_failed",reason:"Database not open"}),c.UNKNOWN_ERROR=new d({status:500,error:"unknown_error",reason:"Database encountered an unknown error"}),c.BAD_ARG=new d({status:500,error:"badarg",reason:"Some query argument is invalid"}),c.INVALID_REQUEST=new d({status:400,error:"invalid_request",reason:"Request was invalid"}),c.QUERY_PARSE_ERROR=new d({status:400,error:"query_parse_error",reason:"Some query parameter is invalid"}),c.DOC_VALIDATION=new d({status:500,error:"doc_validation",reason:"Bad special document member"}),c.BAD_REQUEST=new d({status:400,error:"bad_request",reason:"Something wrong with the request"}),c.NOT_AN_OBJECT=new d({status:400,error:"bad_request",reason:"Document must be a JSON object"}),c.DB_MISSING=new d({status:404,error:"not_found",reason:"Database not found"}),c.IDB_ERROR=new d({status:500,error:"indexed_db_went_bad",reason:"unknown"}),c.WSQ_ERROR=new d({status:500,error:"web_sql_went_bad",reason:"unknown"}),c.LDB_ERROR=new d({status:500,error:"levelDB_went_went_bad",reason:"unknown"}),c.FORBIDDEN=new d({status:403,error:"forbidden",reason:"Forbidden by design doc validate_doc_update function"}),c.error=function(a,b,c){function d(){this.message=b,c&&(this.name=c)}return d.prototype=a,new d(b)}},{}],11:[function(a,b){"use strict";function c(a,b,c){return new e(function(e,f){return b&&"object"==typeof b&&(b=b._id),"string"!=typeof b?f(new Error("doc id is required")):void a.get(b,function(g,h){if(g)return"not_found"!==g.name?f(g):e(d(a,c({_id:b}),c));var i=c(h);return i?void e(d(a,i,c)):e(h)})})}function d(a,b,d){return a.put(b)["catch"](function(e){if("conflict"!==e.name)throw e;return c(a,b,d)})}var e=a("../utils").Promise;b.exports=function(a,b,d,e){return"function"!=typeof e?c(a,b,d):void c(a,b,d).then(function(a){e(null,a)},e)}},{"../utils":21}],12:[function(a,b){"use strict";function c(a){return 0|Math.random()*a}function d(a,b){b=b||e.length;var d="",f=-1;if(a){for(;++f<a;)d+=e[c(b)];return d}for(;++f<36;)switch(f){case 8:case 13:case 18:case 23:d+="-";break;case 19:d+=e[3&c(16)|8];break;default:d+=e[c(16)]}return d}var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");b.exports=d},{}],13:[function(_dereq_,module,exports){"use strict";function evalFilter(input){return eval(["(function () { return ",input," })()"].join(""))}module.exports=evalFilter},{}],14:[function(_dereq_,module,exports){"use strict";function evalView(input){return eval(["(function () {","  return function (doc) {","    var emitted = false;","    var emit = function (a, b) {","      emitted = true;","    };","    var view = "+input+";","    view(doc);","    if (emitted) {","      return true;","    }","  }","})()"].join("\n"))}module.exports=evalView},{}],15:[function(a,b){(function(c){"use strict";var d=a("./setup");b.exports=d,d.ajax=a("./deps/ajax"),d.extend=a("pouchdb-extend"),d.utils=a("./utils"),d.Errors=a("./deps/errors"),d.replicate=a("./replicate").replicate,d.sync=a("./sync"),d.version=a("./version");var e=a("./adapters/http");if(d.adapter("http",e),d.adapter("https",e),d.adapter("idb",a("./adapters/idb")),d.adapter("websql",a("./adapters/websql")),d.plugin(a("pouchdb-mapreduce")),!c.browser){var f=a("./adapters/leveldb");d.adapter("ldb",f),d.adapter("leveldb",f)}}).call(this,a("/Users/daleharvey/src/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"./adapters/http":2,"./adapters/idb":3,"./adapters/leveldb":24,"./adapters/websql":5,"./deps/ajax":8,"./deps/errors":10,"./replicate":17,"./setup":18,"./sync":19,"./utils":21,"./version":22,"/Users/daleharvey/src/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":26,"pouchdb-extend":47,"pouchdb-mapreduce":50}],16:[function(a,b){"use strict";function c(a){for(var b,c=a.shift(),d=[c.id,c.opts,[]],e=d;a.length;)c=a.shift(),b=[c.id,c.opts,[]],e[2].push(b),e=b;return d}function d(a,b){for(var c=[{tree1:a,tree2:b}],d=!1;c.length>0;){var e=c.pop(),f=e.tree1,g=e.tree2;(f[1].status||g[1].status)&&(f[1].status="available"===f[1].status||"available"===g[1].status?"available":"missing");for(var h=0;h<g[2].length;h++)if(f[2][0]){for(var i=!1,j=0;j<f[2].length;j++)f[2][j][0]===g[2][h][0]&&(c.push({tree1:f[2][j],tree2:g[2][h]}),i=!0);i||(d="new_branch",f[2].push(g[2][h]),f[2].sort())}else d="new_leaf",f[2][0]=g[2][h]}return{conflicts:d,tree:a}}function e(a,b,c){var e,f=[],g=!1,h=!1;return a.length?(a.forEach(function(a){if(a.pos===b.pos&&a.ids[0]===b.ids[0])e=d(a.ids,b.ids),f.push({pos:a.pos,ids:e.tree}),g=g||e.conflicts,h=!0;else if(c!==!0){var i=a.pos<b.pos?a:b,j=a.pos<b.pos?b:a,k=j.pos-i.pos,l=[],m=[];for(m.push({ids:i.ids,diff:k,parent:null,parentIdx:null});m.length>0;){var n=m.pop();0!==n.diff?n.ids&&n.ids[2].forEach(function(a,b){m.push({ids:a,diff:n.diff-1,parent:n.ids,parentIdx:b})}):n.ids[0]===j.ids[0]&&l.push(n)}var o=l[0];o?(e=d(o.ids,j.ids),o.parent[2][o.parentIdx]=e.tree,f.push({pos:i.pos,ids:i.ids}),g=g||e.conflicts,h=!0):f.push(a)}else f.push(a)}),h||f.push(b),f.sort(function(a,b){return a.pos-b.pos}),{tree:f,conflicts:g||"internal_node"}):{tree:[b],conflicts:"new_leaf"}}function f(a,b){var d=h.rootToLeaf(a).map(function(a){var d=a.ids.slice(-b);return{pos:a.pos+(a.ids.length-d.length),ids:c(d)}});return d.reduce(function(a,b){return e(a,b,!0).tree},[d.shift()])}var g=a("pouchdb-extend"),h={};h.merge=function(a,b,c){a=g(!0,[],a),b=g(!0,{},b);var d=e(a,b);return{tree:f(d.tree,c),conflicts:d.conflicts}},h.winningRev=function(a){var b=[];return h.traverseRevTree(a.rev_tree,function(a,c,d,e,f){a&&b.push({pos:c,id:d,deleted:!!f.deleted})}),b.sort(function(a,b){return a.deleted!==b.deleted?a.deleted>b.deleted?1:-1:a.pos!==b.pos?b.pos-a.pos:a.id<b.id?1:-1}),b[0].pos+"-"+b[0].id},h.traverseRevTree=function(a,b){for(var c,d=a.slice();c=d.pop();)for(var e=c.pos,f=c.ids,g=f[2],h=b(0===g.length,e,f[0],c.ctx,f[1]),i=0,j=g.length;j>i;i++)d.push({pos:e+1,ids:g[i],ctx:h})},h.collectLeaves=function(a){var b=[];return h.traverseRevTree(a,function(a,c,d,e,f){a&&b.unshift({rev:c+"-"+d,pos:c,opts:f})}),b.sort(function(a,b){return b.pos-a.pos}),b.map(function(a){delete a.pos}),b},h.collectConflicts=function(a){var b=h.winningRev(a),c=h.collectLeaves(a.rev_tree),d=[];return c.forEach(function(a){a.rev===b||a.opts.deleted||d.push(a.rev)}),d},h.rootToLeaf=function(a){var b=[];return h.traverseRevTree(a,function(a,c,d,e,f){if(e=e?e.slice(0):[],e.push({id:d,opts:f}),a){var g=c+1-e.length;b.unshift({pos:g,ids:e})}return e}),b},b.exports=h},{"pouchdb-extend":47}],17:[function(a,b,c){"use strict";function d(){m.call(this),this.cancelled=!1;var a=this,b=new k.Promise(function(b,c){a.once("complete",b),a.once("error",c)});a.then=function(a,c){return b.then(a,c)},a["catch"]=function(a){return b["catch"](a)},a["catch"](function(){})}function e(a,b,c){var d=c.filter?c.filter.toString():"";return a.id().then(function(a){return b.id().then(function(b){var e=a+b+d+JSON.stringify(c.query_params)+c.doc_ids;return"_local/"+k.MD5(e)})})}function f(a,b,c){return a.get(b)["catch"](function(a){if(404===a.status)return{_id:b};throw a}).then(function(b){return b.last_seq=c,a.put(b)})}function g(a,b,c){this.src=a,this.target=b,this.id=c}function h(a,b,c,d,e){function f(){if(0!==x.docs.length){var a=x.docs;return c.bulkDocs({docs:a},{new_edits:!1}).then(function(a){if(e.cancelled)throw r(),new Error("cancelled");var b=[];if(a.forEach(function(a){a.ok||(L.doc_write_failures++,b.push(new Error(a.reason||a.message||"Unknown reason")))}),b.length>0){var c=new Error("bulkDocs error");throw c.other_errors=b,q("target.bulkDocs failed to write docs",c),new Error("bulkWrite partial failure")}},function(b){throw L.doc_write_failures+=a.length,b})}}function h(){var a=x.diffs,c=Object.keys(a)[0],d=a[c].missing;
return b.get(c,{revs:!0,open_revs:d,attachments:!0}).then(function(b){b.forEach(function(b){return e.cancelled?r():void(b.ok&&(L.docs_read++,x.pendingRevs++,x.docs.push(b.ok),delete a[b.ok._id]))})})}function i(){return Object.keys(x.diffs).length>0?h().then(i):k.Promise.resolve()}function j(){var a=Object.keys(x.diffs).filter(function(a){var b=x.diffs[a].missing;return 1===b.length&&"1-"===b[0].slice(0,2)});return b.allDocs({keys:a,include_docs:!0}).then(function(a){if(e.cancelled)throw r(),new Error("cancelled");a.rows.forEach(function(a){!a.doc||a.deleted||"1-"!==a.value.rev.slice(0,2)||a.doc._attachments&&0!==Object.keys(a.doc._attachments).length||(L.docs_read++,x.pendingRevs++,x.docs.push(a.doc),delete x.diffs[a.id])})})}function l(){return"http"===b.type()?j().then(i):i()}function m(){return A=!0,K.writeCheckpoint(x.seq).then(function(){if(A=!1,e.cancelled)throw r(),new Error("cancelled");L.last_seq=D=x.seq,L.docs_written+=x.docs.length,e.emit("change",k.clone(L)),x=void 0,v()})["catch"](function(a){throw A=!1,q("writeCheckpoint completed with error",a),a})}function n(){var a={};return x.changes.forEach(function(b){a[b.id]=b.changes.map(function(a){return a.rev})}),c.revsDiff(a).then(function(a){if(e.cancelled)throw r(),new Error("cancelled");x.diffs=a,x.pendingRevs=0})}function o(){if(!e.cancelled&&!x){if(0===y.length)return void p(!0);x=y.shift(),n().then(l).then(f).then(m).then(o)["catch"](function(a){q("batch processing terminated with error",a)})}}function p(a){return 0===z.changes.length?void(0!==y.length||x||((E&&M.live||B)&&e.emit("uptodate",k.clone(L)),B&&r())):void((a||B||z.changes.length>=F)&&(y.push(z),z={seq:0,changes:[],docs:[]},o()))}function q(a,b){C||(L.ok=!1,L.status="aborted",b.message=a,L.errors.push(b),y=[],z={seq:0,changes:[],docs:[]},r())}function r(){if(!(C||e.cancelled&&(L.status="cancelled",A)))if(L.status=L.status||"complete",L.end_time=new Date,L.last_seq=D,C=e.cancelled=!0,L.errors.length>0){var a=L.errors.pop();L.errors.length>0&&(a.other_errors=L.errors),a.result=L,e.emit("error",a)}else e.emit("complete",L)}function s(a){return e.cancelled?r():(I++,0!==z.changes.length||0!==y.length||x||e.emit("outofdate",k.clone(L)),z.seq=a.seq,z.changes.push(a),void p(0===y.length))}function t(a){return H=!1,e.cancelled?r():(I>0?(M.since=a.last_seq,v()):E?(M.live=!0,v()):B=!0,void p(!0))}function u(a){return H=!1,e.cancelled?r():void q("changes rejected",a)}function v(){!H&&!B&&y.length<G&&(H=!0,I=0,b.changes(M).on("change",s).then(t)["catch"](u))}function w(){K.getCheckpoint().then(function(a){D=a,M={since:D,limit:F,style:"all_docs",doc_ids:J,returnDocs:!1},d.filter&&(M.filter=d.filter),d.query_params&&(M.query_params=d.query_params),v()})["catch"](function(a){q("getCheckpoint rejected with ",a)})}var x,y=[],z={seq:0,changes:[],docs:[]},A=!1,B=!1,C=!1,D=0,E=d.continuous||d.live||!1,F=d.batch_size||100,G=d.batches_limit||10,H=!1,I=0,J=d.doc_ids,K=new g(b,c,a),L={ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]},M={};e.ready(b,c),e.once("cancel",r),"function"==typeof d.onChange&&e.on("change",d.onChange),"function"==typeof d.complete&&(e.once("error",d.complete),e.once("complete",function(a){d.complete(null,a)})),"undefined"==typeof d.since?w():(A=!0,K.writeCheckpoint(d.since).then(function(){return A=!1,e.cancelled?void r():(D=d.since,void w())})["catch"](function(a){throw A=!1,q("writeCheckpoint completed with error",a),a}))}function i(a){return"string"==typeof a?new l(a):a.then?a:k.Promise.resolve(a)}function j(a,b,c,f){"function"==typeof c&&(f=c,c={}),"undefined"==typeof c&&(c={}),c.complete||(c.complete=f||function(){}),c=k.clone(c),c.continuous=c.continuous||c.live;var g=new d(c);return i(a).then(function(a){return i(b).then(function(b){if(!c.server)return e(a,b,c).then(function(d){g.emit("id",d),h(d,a,b,c,g)});if("function"!=typeof a.replicateOnServer)throw new TypeError("Server replication not supported for "+a.type()+" adapter");if(a.type()!==b.type())throw new TypeError("Server replication for different adapter types ("+a.type()+" and "+b.type()+") is not supported");a.replicateOnServer(b,c,g)})})["catch"](function(a){g.emit("error",a),c.complete(a)}),g}var k=a("./utils"),l=a("./index"),m=a("events").EventEmitter;k.inherits(d,m),d.prototype.cancel=function(){this.cancelled=!0,this.emit("cancel")},d.prototype.ready=function(a,b){function c(){e.cancel()}function d(){e.removeAllListeners(),a.removeListener("destroyed",c),b.removeListener("destroyed",c)}var e=this;a.once("destroyed",c),b.once("destroyed",c),this.then(d,d)},g.prototype.writeCheckpoint=function(a){var b=this;return this.updateTarget(a).then(function(){return b.updateSource(a)})},g.prototype.updateTarget=function(a){return f(this.target,this.id,a)},g.prototype.updateSource=function(a){var b=this;return this.readOnlySource?k.Promise.resolve(!0):f(this.src,this.id,a)["catch"](function(a){if(401===a.status)return b.readOnlySource=!0,!0;throw a})},g.prototype.getCheckpoint=function(){var a=this;return a.target.get(a.id).then(function(b){return a.src.get(a.id).then(function(a){return b.last_seq===a.last_seq?a.last_seq:0},function(c){if(404===c.status&&b.last_seq)return a.src.put({_id:a.id,last_seq:0}).then(function(){return 0},function(c){return 401===c.status?(a.readOnlySource=!0,b.last_seq):0});throw c})})["catch"](function(a){if(404!==a.status)throw a;return 0})},c.replicate=j},{"./index":15,"./utils":21,events:25}],18:[function(a,b){(function(c){"use strict";var d=a("./constructor"),e=a("./utils"),f=e.Promise,g=a("events").EventEmitter;d.adapters={},d.preferredAdapters=a("./adapters/preferredAdapters.js"),d.prefix="_pouch_";var h=new g,i=["on","addListener","emit","listeners","once","removeAllListeners","removeListener","setMaxListeners"];i.forEach(function(a){d[a]=h[a].bind(h)}),d.setMaxListeners(0),d.parseAdapter=function(a,b){var f,g,h=a.match(/([a-z\-]*):\/\/(.*)/);if(h){if(a=/http(s?)/.test(h[1])?h[1]+"://"+h[2]:h[2],f=h[1],!d.adapters[f].valid())throw"Invalid adapter";return{name:a,adapter:h[1]}}var i="idb"in d.adapters&&"websql"in d.adapters&&e.hasLocalStorage()&&c.localStorage["_pouch__websqldb_"+d.prefix+a];if("undefined"!=typeof b&&b.db)g="leveldb";else for(var j=0;j<d.preferredAdapters.length;++j)if(g=d.preferredAdapters[j],g in d.adapters){if(i&&"idb"===g)continue;break}if(f=d.adapters[g],g&&f){var k="use_prefix"in f?f.use_prefix:!0;return{name:k?d.prefix+a:a,adapter:g}}throw"No valid adapter found"},d.destroy=e.toPromise(function(a,b,c){function e(){i.destroy(h,b,function(a,b){a?c(a):(d.emit("destroyed",h),d.emit(h,"destroyed"),c(null,b||{ok:!0}))})}("function"==typeof b||"undefined"==typeof b)&&(c=b,b={}),"object"==typeof a&&(b=a,a=void 0);var g=d.parseAdapter(b.name||a,b),h=g.name,i=d.adapters[g.adapter],j="use_prefix"in i?i.use_prefix:!0,k=j?h.replace(new RegExp("^"+d.prefix),""):h;new d(k,{adapter:g.adapter},function(a,b){return a?c(a):void b.get("_local/_pouch_dependentDbs",function(a,b){if(a)return"not_found"!==a.name?c(a):e();var h=b.dependentDbs,i=Object.keys(h).map(function(a){var b=j?a.replace(new RegExp("^"+d.prefix),""):a;return d.destroy(b,{adapter:g.adapter})});f.all(i).then(e,function(a){c(a)})})})}),d.allDbs=e.toPromise(function(a){var b=new Error("allDbs method removed");b.stats="400",a(b)}),d.adapter=function(a,b){b.valid()&&(d.adapters[a]=b)},d.plugin=function(a){Object.keys(a).forEach(function(b){d.prototype[b]=a[b]})},b.exports=d}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./adapters/preferredAdapters.js":4,"./constructor":7,"./utils":21,events:25}],19:[function(a,b){"use strict";function c(a,b,f,g){function h(a){o||(o=!0,l.emit("cancel",a))}function i(a){l.emit("change",{direction:"pull",change:a})}function j(a){l.emit("change",{direction:"push",change:a})}function k(a,b){"change"!==a||b!==i&&b!==j?"cancel"===a&&b===h?l.removeAllListeners("cancel"):a in p&&b===p[a]&&l.removeAllListeners(a):l.removeAllListeners("change")}if(!(this instanceof c))return new c(a,b,f,g);var l=this;"function"==typeof f&&(g=f,f={}),"undefined"==typeof f&&(f={}),this.canceled=!1,f=d.clone(f);var m,n;"onChange"in f&&(m=f.onChange,delete f.onChange),"function"!=typeof g||f.complete?"complete"in f&&(n=f.complete,delete f.complete):n=g,this.push=e(a,b,f),this.pull=e(b,a,f);var o=!1,p={};this.on("newListener",function(a){"change"===a?(l.pull.on("change",i),l.push.on("change",j)):"cancel"===a?(l.pull.on("cancel",h),l.push.on("cancel",h)):"error"===a||"complete"===a||a in p||(p[a]=function(b){l.emit(a,b)},l.pull.on(a,p[a]),l.push.on(a,p[a]))}),this.on("removeListener",function(a){"change"===a?(l.pull.removeListener("change",i),l.push.removeListener("change",j)):"cancel"===a?(l.pull.removeListener("cancel",h),l.push.removeListener("cancel",h)):a in p&&"function"==typeof p[a]&&(l.pull.removeListener(a,p[a]),l.push.removeListener(a,p[a]),delete p[a])}),this.pull.on("removeListener",k),this.push.on("removeListener",k);var q=d.Promise.all([this.push,this.pull]).then(function(a){var b={push:a[0],pull:a[1]};return l.emit("complete",b),n&&n(null,b),l.removeAllListeners(),b},function(a){throw l.cancel(),l.emit("error",a),n&&n(a),l.removeAllListeners(),a});this.then=function(a,b){return q.then(a,b)},this["catch"]=function(a){return q["catch"](a)}}var d=a("./utils"),e=a("./replicate").replicate,f=a("events").EventEmitter;b.exports=c,d.inherits(c,f),c.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())}},{"./replicate":17,"./utils":21,events:25}],20:[function(a,b){"use strict";function c(){this.isReady=!1,this.failed=!1,this.queue=[]}b.exports=c,c.prototype.execute=function(){var a,b;if(this.failed)for(;a=this.queue.shift();)"function"!=typeof a?(b=a.parameters[a.parameters.length-1],"function"==typeof b?b(this.failed):"changes"===a.name&&"function"==typeof b.complete&&b.complete(this.failed)):a(this.failed);else if(this.isReady)for(;a=this.queue.shift();)"function"==typeof a?a():a.task=this.db[a.name].apply(this.db,a.parameters)},c.prototype.fail=function(a){this.failed=a,this.execute()},c.prototype.ready=function(a){return this.failed?!1:0===arguments.length?this.isReady:(this.isReady=a?!0:!1,this.db=a,void this.execute())},c.prototype.addTask=function(a,b){if("function"!=typeof a){var c={name:a,parameters:b};return this.queue.push(c),this.failed&&this.execute(),c}this.queue.push(a),this.failed&&this.execute()}},{}],21:[function(a,b,c){(function(b,d){function e(a){var b={};return a.forEach(function(a){b[a]=!0}),b}function f(){return"undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage&&"undefined"!=typeof chrome.storage.local}function g(){if(!(this instanceof g))return new g;var a=this;m.call(this),this.isChrome=f(),this.listeners={},this.hasLocal=!1,this.isChrome||(this.hasLocal=c.hasLocalStorage()),this.isChrome?chrome.storage.onChanged.addListener(function(b){null!=b.db_name&&a.emit(b.dbName.newValue)}):this.hasLocal&&(d.addEventListener?d.addEventListener("storage",function(b){a.emit(b.key)}):d.attachEvent("storage",function(b){a.emit(b.key)}))}var h=a("crypto"),i=a("md5-jkmyers"),j=a("./merge");c.extend=a("pouchdb-extend"),c.ajax=a("./deps/ajax"),c.createBlob=a("./deps/blob"),c.uuid=a("./deps/uuid"),c.getArguments=a("argsarray");var k=a("./deps/buffer"),l=a("./deps/errors"),m=a("events").EventEmitter;c.Promise="function"==typeof d.Promise?d.Promise:a("bluebird");var n=c.Promise,o=e(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree"]);c.clone=function(a){return c.extend(!0,{},a)},c.inherits=a("inherits"),c.invalidIdError=function(a){return a?"string"!=typeof a?l.INVALID_ID:/^_/.test(a)&&!/^_(design|local)/.test(a)?l.RESERVED_ID:void 0:l.MISSING_ID},c.call=c.getArguments(function(a){if(a.length){var b=a.shift();"function"==typeof b&&b.apply(this,a)}}),c.isLocalId=function(a){return/^_local/.test(a)},c.isDeleted=function(a,b){b||(b=j.winningRev(a));var c=b.indexOf("-");-1!==c&&(b=b.substring(c+1));var d=!1;return j.traverseRevTree(a.rev_tree,function(a,c,e,f,g){e===b&&(d=!!g.deleted)}),d},c.filterChange=function(a){return function(b){var c={},d=a.filter&&"function"==typeof a.filter;if(c.query=a.query_params,a.filter&&d&&!a.filter.call(this,b.doc,c))return!1;if(a.doc_ids&&-1===a.doc_ids.indexOf(b.id))return!1;if(a.include_docs)for(var e in b.doc._attachments)b.doc._attachments.hasOwnProperty(e)&&(b.doc._attachments[e].stub=!0);else delete b.doc;return!0}},c.parseDoc=function(a,b){var d,e,f,g={status:"available"};if(a._deleted&&(g.deleted=!0),b)if(a._id||(a._id=c.uuid()),e=c.uuid(32,16).toLowerCase(),a._rev){if(f=/^(\d+)-(.+)$/.exec(a._rev),!f)throw"invalid value for property '_rev'";a._rev_tree=[{pos:parseInt(f[1],10),ids:[f[2],{status:"missing"},[[e,g,[]]]]}],d=parseInt(f[1],10)+1}else a._rev_tree=[{pos:1,ids:[e,g,[]]}],d=1;else if(a._revisions&&(a._rev_tree=[{pos:a._revisions.start-a._revisions.ids.length+1,ids:a._revisions.ids.reduce(function(a,b){return null===a?[b,g,[]]:[b,{status:"missing"},[a]]},null)}],d=a._revisions.start,e=a._revisions.ids[0]),!a._rev_tree){if(f=/^(\d+)-(.+)$/.exec(a._rev),!f)return l.BAD_ARG;d=parseInt(f[1],10),e=f[2],a._rev_tree=[{pos:parseInt(f[1],10),ids:[f[2],g,[]]}]}var h=c.invalidIdError(a._id);if(h)return h;a._id=decodeURIComponent(a._id),a._rev=[d,e].join("-");var i={metadata:{},data:{}};for(var j in a)if(a.hasOwnProperty(j)){var k="_"===j[0];if(k&&!o[j])return h=l.error(l.DOC_VALIDATION),h.reason+=": "+j,h;k&&"_attachments"!==j?i.metadata[j.slice(1)]=a[j]:i.data[j]=a[j]}return i},c.isCordova=function(){return"undefined"!=typeof cordova||"undefined"!=typeof PhoneGap||"undefined"!=typeof phonegap},c.hasLocalStorage=function(){if(f())return!1;try{return d.localStorage}catch(a){return!1}},c.Changes=g,c.inherits(g,m),g.prototype.addListener=function(a,b,d,e){function f(){d.changes({include_docs:e.include_docs,conflicts:e.conflicts,continuous:!1,descending:!1,filter:e.filter,view:e.view,since:e.since,query_params:e.query_params,onChange:function(a){a.seq>e.since&&!e.cancelled&&(e.since=a.seq,c.call(e.onChange,a))}})}this.listeners[b]||(this.listeners[b]=f,this.on(a,f))},g.prototype.removeListener=function(a,b){b in this.listeners&&m.prototype.removeListener.call(this,a,this.listeners[b])},g.prototype.notifyLocalWindows=function(a){this.isChrome?chrome.storage.local.set({dbName:a}):this.hasLocal&&(localStorage[a]="a"===localStorage[a]?"b":"a")},g.prototype.notify=function(a){this.emit(a),this.notifyLocalWindows(a)},c.atob=b.browser&&"atob"in d?function(a){return atob(a)}:function(a){var b=new k(a,"base64");if(b.toString("base64")!==a)throw"Cannot base64 encode full string";return b.toString("binary")},c.btoa=b.browser&&"btoa"in d?function(a){return btoa(a)}:function(a){return new k(a,"binary").toString("base64")},c.fixBinary=function(a){if(!b.browser)return a;for(var c=a.length,d=new ArrayBuffer(c),e=new Uint8Array(d),f=0;c>f;f++)e[f]=a.charCodeAt(f);return d},c.once=function(a){var b=!1;return c.getArguments(function(c){if(b)throw"function"==typeof console.trace&&console.trace(),new Error("once called  more than once");b=!0,a.apply(this,c)})},c.toPromise=function(a){return c.getArguments(function(d){var e,f=this,g="function"==typeof d[d.length-1]?d.pop():!1;g&&(e=function(a,c){b.nextTick(function(){g(a,c)})});var h=new n(function(b,e){var g;try{var h=c.once(function(a,c){a?e(a):b(c)});d.push(h),g=a.apply(f,d),g&&"function"==typeof g.then&&b(g)}catch(i){e(i)}});return e&&h.then(function(a){e(null,a)},e),h.cancel=function(){return this},h})},c.adapterFun=function(a,b){return c.toPromise(c.getArguments(function(d){if(this._closed)return n.reject(new Error("database is closed"));var e=this;return this.taskqueue.isReady?b.apply(this,d):new c.Promise(function(b,c){e.taskqueue.addTask(function(f){f?c(f):b(e[a].apply(e,d))})})}))},c.arrayBufferToBinaryString=function(a){for(var b="",c=new Uint8Array(a),d=c.byteLength,e=0;d>e;e++)b+=String.fromCharCode(c[e]);return b},c.cancellableFun=function(a,b,d){d=d?c.clone(!0,{},d):{};var e=new m,f=d.complete||function(){},g=d.complete=c.once(function(a,b){a?f(a):(e.emit("end",b),f(null,b)),e.removeAllListeners()}),h=d.onChange||function(){},i=0;b.on("destroyed",function(){e.removeAllListeners()}),d.onChange=function(a){h(a),a.seq<=i||(i=a.seq,e.emit("change",a),a.deleted?e.emit("delete",a):1===a.changes.length&&"1-"===a.changes[0].rev.slice(0,1)?e.emit("create",a):e.emit("update",a))};var j=new n(function(a,b){d.complete=function(c,d){c?b(c):a(d)}});return j.then(function(a){g(null,a)},g),j.cancel=function(){j.isCancelled=!0,b.taskqueue.isReady&&d.complete(null,{status:"cancelled"})},b.taskqueue.isReady?a(b,d,j):b.taskqueue.addTask(function(){j.isCancelled?d.complete(null,{status:"cancelled"}):a(b,d,j)}),j.on=e.on.bind(e),j.once=e.once.bind(e),j.addListener=e.addListener.bind(e),j.removeListener=e.removeListener.bind(e),j.removeAllListeners=e.removeAllListeners.bind(e),j.setMaxListeners=e.setMaxListeners.bind(e),j.listeners=e.listeners.bind(e),j.emit=e.emit.bind(e),j},c.Crypto={},c.MD5=c.Crypto.MD5=function(a){return b.browser?i(a):h.createHash("md5").update(a).digest("hex")}}).call(this,a("/Users/daleharvey/src/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./deps/ajax":8,"./deps/blob":9,"./deps/buffer":24,"./deps/errors":10,"./deps/uuid":12,"./merge":16,"/Users/daleharvey/src/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":26,argsarray:23,bluebird:32,crypto:24,events:25,inherits:27,"md5-jkmyers":46,"pouchdb-extend":47}],22:[function(a,b){b.exports="2.2.3"},{}],23:[function(a,b){"use strict";function c(a){return function(){var b=arguments.length;if(b){for(var c=[],d=-1;++d<b;)c[d]=arguments[d];return a.call(this,c)}return a.call(this,[])}}b.exports=c},{}],24:[function(){},{}],25:[function(a,b){function c(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function d(a){return"function"==typeof a}function e(a){return"number"==typeof a}function f(a){return"object"==typeof a&&null!==a}function g(a){return void 0===a}b.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0,c.defaultMaxListeners=10,c.prototype.setMaxListeners=function(a){if(!e(a)||0>a||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},c.prototype.emit=function(a){var b,c,e,h,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||f(this._events.error)&&!this._events.error.length))throw b=arguments[1],b instanceof Error?b:TypeError('Uncaught, unspecified "error" event.');if(c=this._events[a],g(c))return!1;if(d(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(e=arguments.length,h=new Array(e-1),i=1;e>i;i++)h[i-1]=arguments[i];c.apply(this,h)}else if(f(c)){for(e=arguments.length,h=new Array(e-1),i=1;e>i;i++)h[i-1]=arguments[i];for(j=c.slice(),e=j.length,i=0;e>i;i++)j[i].apply(this,h)}return!0},c.prototype.addListener=function(a,b){var e;if(!d(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,d(b.listener)?b.listener:b),this._events[a]?f(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,f(this._events[a])&&!this._events[a].warned){var e;e=g(this._maxListeners)?c.defaultMaxListeners:this._maxListeners,e&&e>0&&this._events[a].length>e&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())}return this},c.prototype.on=c.prototype.addListener,c.prototype.once=function(a,b){function c(){this.removeListener(a,c),e||(e=!0,b.apply(this,arguments))}if(!d(b))throw TypeError("listener must be a function");var e=!1;return c.listener=b,this.on(a,c),this},c.prototype.removeListener=function(a,b){var c,e,g,h;if(!d(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],g=c.length,e=-1,c===b||d(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(f(c)){for(h=g;h-->0;)if(c[h]===b||c[h].listener&&c[h].listener===b){e=h;break}if(0>e)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(e,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},c.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],d(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},c.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?d(this._events[a])?[this._events[a]]:this._events[a].slice():[]},c.listenerCount=function(a,b){var c;return c=a._events&&a._events[b]?d(a._events[b])?1:a._events[b].length:0}},{}],26:[function(a,b){var c=b.exports={};c.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),c.title="browser",c.browser=!0,c.env={},c.argv=[],c.binding=function(){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(){throw new Error("process.chdir is not supported")}},{}],27:[function(a,b){b.exports="function"==typeof Object.create?function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],28:[function(a,b){"use strict";function c(){}b.exports=c},{}],29:[function(a,b){"use strict";var c=a("./promise"),d=a("./reject"),e=a("./resolve"),f=a("./INTERNAL"),g=a("./handlers"),h=d(new TypeError("must be an array"));b.exports=function(a){function b(a,b){function c(a){i[b]=a,++j===d&&g.resolve(l,i)}e(a).then(c,function(a){g.reject(l,a)})}if("[object Array]"!==Object.prototype.toString.call(a))return h;var d=a.length;if(!d)return e([]);for(var i=new Array(d),j=0,k=-1,l=new c(f);++k<d;)b(a[k],k);return l}},{"./INTERNAL":28,"./handlers":31,"./promise":33,"./reject":35,"./resolve":36}],30:[function(a,b){"use strict";function c(a){var b=a&&a.then;return a&&"object"==typeof a&&"function"==typeof b?function(){b.apply(a,arguments)}:void 0}b.exports=c},{}],31:[function(a,b,c){"use strict";var d=a("./tryCatch"),e=a("./getThen"),f=a("./resolveThenable"),g=a("./states");c.resolve=function(a,b){var h=d(e,b);if("error"===h.status)return c.reject(a,h.value);var i=h.value;if(i)f.safely(a,i);else{a.state=g.FULFILLED,a.outcome=b;for(var j=-1,k=a.queue.length;++j<k;)a.queue[j].callFulfilled(b)}return a},c.reject=function(a,b){a.state=g.REJECTED,a.outcome=b;for(var c=-1,d=a.queue.length;++c<d;)a.queue[c].callRejected(b);return a}},{"./getThen":30,"./resolveThenable":37,"./states":38,"./tryCatch":39}],32:[function(a,b,c){b.exports=c=a("./promise"),c.resolve=a("./resolve"),c.reject=a("./reject"),c.all=a("./all")},{"./all":29,"./promise":33,"./reject":35,"./resolve":36}],33:[function(a,b){"use strict";function c(a){if(!(this instanceof c))return new c(a);if("function"!=typeof a)throw new TypeError("reslover must be a function");this.state=g.PENDING,this.queue=[],a!==e&&f.safely(this,a)}var d=a("./unwrap"),e=a("./INTERNAL"),f=a("./resolveThenable"),g=a("./states"),h=a("./queueItem");b.exports=c,c.prototype["catch"]=function(a){return this.then(null,a)},c.prototype.then=function(a,b){if("function"!=typeof a&&this.state===g.FULFILLED||"function"!=typeof b&&this.state===g.REJECTED)return this;var f=new c(e);if(this.state!==g.PENDING){var i=this.state===g.FULFILLED?a:b;d(f,i,this.outcome)}else this.queue.push(new h(f,a,b));return f}},{"./INTERNAL":28,"./queueItem":34,"./resolveThenable":37,"./states":38,"./unwrap":40}],34:[function(a,b){"use strict";function c(a,b,c){this.promise=a,"function"==typeof b&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),"function"==typeof c&&(this.onRejected=c,this.callRejected=this.otherCallRejected)}var d=a("./handlers"),e=a("./unwrap");b.exports=c,c.prototype.callFulfilled=function(a){d.resolve(this.promise,a)},c.prototype.otherCallFulfilled=function(a){e(this.promise,this.onFulfilled,a)},c.prototype.callRejected=function(a){d.reject(this.promise,a)},c.prototype.otherCallRejected=function(a){e(this.promise,this.onRejected,a)}},{"./handlers":31,"./unwrap":40}],35:[function(a,b){"use strict";function c(a){var b=new d(e);return f.reject(b,a)}var d=a("./promise"),e=a("./INTERNAL"),f=a("./handlers");b.exports=c},{"./INTERNAL":28,"./handlers":31,"./promise":33}],36:[function(a,b){"use strict";function c(a){if(a)return a instanceof d?a:f.resolve(new d(e),a);var b=typeof a;switch(b){case"boolean":return g;case"undefined":return i;case"object":return h;case"number":return j;case"string":return k}}var d=a("./promise"),e=a("./INTERNAL"),f=a("./handlers");b.exports=c;var g=f.resolve(new d(e),!1),h=f.resolve(new d(e),null),i=f.resolve(new d(e),void 0),j=f.resolve(new d(e),0),k=f.resolve(new d(e),"")},{"./INTERNAL":28,"./handlers":31,"./promise":33}],37:[function(a,b,c){"use strict";function d(a,b){function c(b){h||(h=!0,e.reject(a,b))}function d(b){h||(h=!0,e.resolve(a,b))}function g(){b(d,c)}var h=!1,i=f(g);"error"===i.status&&c(i.value)}var e=a("./handlers"),f=a("./tryCatch");c.safely=d},{"./handlers":31,"./tryCatch":39}],38:[function(a,b,c){c.REJECTED=["REJECTED"],c.FULFILLED=["FULFILLED"],c.PENDING=["PENDING"]},{}],39:[function(a,b){"use strict";function c(a,b){var c={};try{c.value=a(b),c.status="success"}catch(d){c.status="error",c.value=d}return c}b.exports=c},{}],40:[function(a,b){"use strict";function c(a,b,c){d(function(){var d;try{d=b(c)}catch(f){return e.reject(a,f)}d===a?e.reject(a,new TypeError("Cannot resolve promise with itself")):e.resolve(a,d)})}var d=a("immediate"),e=a("./handlers");b.exports=c},{"./handlers":31,immediate:41}],41:[function(a,b){"use strict";function c(){e=!0;for(var a,b,c=h.length;c;){for(b=h,h=[],a=-1;++a<c;)b[a]();c=h.length}e=!1}function d(a){1!==h.push(a)||e||f()}for(var e,f,g=[a("./nextTick"),a("./mutation.js"),a("./messageChannel"),a("./stateChange"),a("./timeout")],h=[],i=-1,j=g.length;++i<j;)if(g[i]&&g[i].test&&g[i].test()){f=g[i].install(c);break}b.exports=d},{"./messageChannel":42,"./mutation.js":43,"./nextTick":24,"./stateChange":44,"./timeout":45}],42:[function(a,b,c){(function(a){"use strict";c.test=function(){return a.setImmediate?!1:"undefined"!=typeof a.MessageChannel},c.install=function(b){var c=new a.MessageChannel;return c.port1.onmessage=b,function(){c.port2.postMessage(0)}}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],43:[function(a,b,c){(function(a){"use strict";var b=a.MutationObserver||a.WebKitMutationObserver;c.test=function(){return b},c.install=function(c){var d=0,e=new b(c),f=a.document.createTextNode("");return e.observe(f,{characterData:!0}),function(){f.data=d=++d%2}}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],44:[function(a,b,c){(function(a){"use strict";c.test=function(){return"document"in a&&"onreadystatechange"in a.document.createElement("script")},c.install=function(b){return function(){var c=a.document.createElement("script");return c.onreadystatechange=function(){b(),c.onreadystatechange=null,c.parentNode.removeChild(c),c=null},a.document.documentElement.appendChild(c),b}}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(a,b,c){"use strict";c.test=function(){return!0},c.install=function(a){return function(){setTimeout(a,0)}}},{}],46:[function(a,b,c){!function(a,d){"function"==typeof define&&define.amd?define(d):"object"==typeof c?b.exports=d():a.md5=d()}(this,function(){function a(a,b){var g=a[0],h=a[1],i=a[2],j=a[3];g=c(g,h,i,j,b[0],7,-680876936),j=c(j,g,h,i,b[1],12,-389564586),i=c(i,j,g,h,b[2],17,606105819),h=c(h,i,j,g,b[3],22,-1044525330),g=c(g,h,i,j,b[4],7,-176418897),j=c(j,g,h,i,b[5],12,1200080426),i=c(i,j,g,h,b[6],17,-1473231341),h=c(h,i,j,g,b[7],22,-45705983),g=c(g,h,i,j,b[8],7,1770035416),j=c(j,g,h,i,b[9],12,-1958414417),i=c(i,j,g,h,b[10],17,-42063),h=c(h,i,j,g,b[11],22,-1990404162),g=c(g,h,i,j,b[12],7,1804603682),j=c(j,g,h,i,b[13],12,-40341101),i=c(i,j,g,h,b[14],17,-1502002290),h=c(h,i,j,g,b[15],22,1236535329),g=d(g,h,i,j,b[1],5,-165796510),j=d(j,g,h,i,b[6],9,-1069501632),i=d(i,j,g,h,b[11],14,643717713),h=d(h,i,j,g,b[0],20,-373897302),g=d(g,h,i,j,b[5],5,-701558691),j=d(j,g,h,i,b[10],9,38016083),i=d(i,j,g,h,b[15],14,-660478335),h=d(h,i,j,g,b[4],20,-405537848),g=d(g,h,i,j,b[9],5,568446438),j=d(j,g,h,i,b[14],9,-1019803690),i=d(i,j,g,h,b[3],14,-187363961),h=d(h,i,j,g,b[8],20,1163531501),g=d(g,h,i,j,b[13],5,-1444681467),j=d(j,g,h,i,b[2],9,-51403784),i=d(i,j,g,h,b[7],14,1735328473),h=d(h,i,j,g,b[12],20,-1926607734),g=e(g,h,i,j,b[5],4,-378558),j=e(j,g,h,i,b[8],11,-2022574463),i=e(i,j,g,h,b[11],16,1839030562),h=e(h,i,j,g,b[14],23,-35309556),g=e(g,h,i,j,b[1],4,-1530992060),j=e(j,g,h,i,b[4],11,1272893353),i=e(i,j,g,h,b[7],16,-155497632),h=e(h,i,j,g,b[10],23,-1094730640),g=e(g,h,i,j,b[13],4,681279174),j=e(j,g,h,i,b[0],11,-358537222),i=e(i,j,g,h,b[3],16,-722521979),h=e(h,i,j,g,b[6],23,76029189),g=e(g,h,i,j,b[9],4,-640364487),j=e(j,g,h,i,b[12],11,-421815835),i=e(i,j,g,h,b[15],16,530742520),h=e(h,i,j,g,b[2],23,-995338651),g=f(g,h,i,j,b[0],6,-198630844),j=f(j,g,h,i,b[7],10,1126891415),i=f(i,j,g,h,b[14],15,-1416354905),h=f(h,i,j,g,b[5],21,-57434055),g=f(g,h,i,j,b[12],6,1700485571),j=f(j,g,h,i,b[3],10,-1894986606),i=f(i,j,g,h,b[10],15,-1051523),h=f(h,i,j,g,b[1],21,-2054922799),g=f(g,h,i,j,b[8],6,1873313359),j=f(j,g,h,i,b[15],10,-30611744),i=f(i,j,g,h,b[6],15,-1560198380),h=f(h,i,j,g,b[13],21,1309151649),g=f(g,h,i,j,b[4],6,-145523070),j=f(j,g,h,i,b[11],10,-1120210379),i=f(i,j,g,h,b[2],15,718787259),h=f(h,i,j,g,b[9],21,-343485551),a[0]=l(g,a[0]),a[1]=l(h,a[1]),a[2]=l(i,a[2]),a[3]=l(j,a[3])}function b(a,b,c,d,e,f){return b=l(l(b,a),l(d,f)),l(b<<e|b>>>32-e,c)}function c(a,c,d,e,f,g,h){return b(c&d|~c&e,a,c,f,g,h)}function d(a,c,d,e,f,g,h){return b(c&e|d&~e,a,c,f,g,h)}function e(a,c,d,e,f,g,h){return b(c^d^e,a,c,f,g,h)}function f(a,c,d,e,f,g,h){return b(d^(c|~e),a,c,f,g,h)}function g(b){txt="";var c,d=b.length,e=[1732584193,-271733879,-1732584194,271733878];for(c=64;c<=b.length;c+=64)a(e,h(b.substring(c-64,c)));b=b.substring(c-64);var f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(c=0;c<b.length;c++)f[c>>2]|=b.charCodeAt(c)<<(c%4<<3);if(f[c>>2]|=128<<(c%4<<3),c>55)for(a(e,f),c=0;16>c;c++)f[c]=0;return f[14]=8*d,a(e,f),e}function h(a){var b,c=[];for(b=0;64>b;b+=4)c[b>>2]=a.charCodeAt(b)+(a.charCodeAt(b+1)<<8)+(a.charCodeAt(b+2)<<16)+(a.charCodeAt(b+3)<<24);return c}function i(a){for(var b="",c=0;4>c;c++)b+=m[a>>8*c+4&15]+m[a>>8*c&15];return b}function j(a){for(var b=0;b<a.length;b++)a[b]=i(a[b]);return a.join("")}function k(a){return j(g(a))}function l(a,b){return a+b&4294967295}function l(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}var m="0123456789abcdef".split("");
return"5d41402abc4b2a76b9719d911017c592"!=k("hello"),k})},{}],47:[function(a,b){"use strict";function c(a){return null===a?String(a):"object"==typeof a||"function"==typeof a?h[l.call(a)]||"object":typeof a}function d(a){return null!==a&&a===a.window}function e(a){if(!a||"object"!==c(a)||a.nodeType||d(a))return!1;try{if(a.constructor&&!m.call(a,"constructor")&&!m.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}var e;for(e in a);return void 0===e||m.call(a,e)}function f(a){return"function"===c(a)}function g(){var a,b,c,d,h,i,j=arguments[0]||{},k=1,l=arguments.length,m=!1;for("boolean"==typeof j&&(m=j,j=arguments[1]||{},k=2),"object"==typeof j||f(j)||(j={}),l===k&&(j=this,--k);l>k;k++)if(null!=(a=arguments[k]))for(b in a)if(!(b in Object.prototype)){if(c=j[b],d=a[b],j===d)continue;m&&d&&(e(d)||(h=n(d)))?(h?(h=!1,i=c&&n(c)?c:[]):i=c&&e(c)?c:{},j[b]=g(m,i,d)):void 0!==d&&(n(a)&&f(d)||(j[b]=d))}return j}for(var h={},i=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],j=0;j<i.length;j++){var k=i[j];h["[object "+k+"]"]=k.toLowerCase()}var l=h.toString,m=h.hasOwnProperty,n=Array.isArray||function(a){return"array"===c(a)};b.exports=g},{}],48:[function(a,b){"use strict";var c=a("./upsert"),d=a("./utils"),e=d.Promise;b.exports=function(a){var b=a.db,f=a.viewName,g=a.map,h=a.reduce,i=a.temporary,j=g.toString()+(h&&h.toString())+"undefined";if(!i&&b._cachedViews){var k=b._cachedViews[j];if(k)return e.resolve(k)}return b.info().then(function(a){function e(a){a.views=a.views||{};var b=f;-1===b.indexOf("/")&&(b=f+"/"+f);var c=a.views[b]=a.views[b]||{};if(!c[k])return c[k]=!0,a}var k=a.db_name+"-mrview-"+(i?"temp":d.MD5(j));return c(b,"_local/mrviews",e).then(function(){return b.registerDependentDatabase(k).then(function(a){var c=a.db;c.auto_compaction=!0;var d={name:k,db:c,sourceDB:b,adapter:b.adapter,mapFun:g,reduceFun:h};return d.db.get("_local/lastSeq")["catch"](function(a){if("not_found"!==a.name)throw a}).then(function(a){return d.seq=a?a.seq:0,i||(b._cachedViews=b._cachedViews||{},b._cachedViews[j]=d,d.db.on("destroyed",function(){delete b._cachedViews[j]})),d})})})})}},{"./upsert":55,"./utils":56}],49:[function(_dereq_,module,exports){"use strict";module.exports=function(func,emit,sum,log,isArray,toJSON){return eval("'use strict'; ("+func+");")}},{}],50:[function(a,b,c){"use strict";function d(a){return-1===a.indexOf("/")?[a,a]:a.split("/")}function e(a,b,c){try{return{output:b.apply(null,c)}}catch(d){return a.emit("error",d),{error:d}}}function f(a,b){var c=w(a.key,b.key);return 0!==c?c:w(a.value,b.value)}function g(a,b,c){return c=c||0,"number"==typeof b?a.slice(c,b+c):c>0?a.slice(c):a}function h(a){var b=new Error("builtin "+a+" function requires map values to be numbers or number arrays");return b.name="invalid_value",b.status=500,b}function i(a){for(var b=0,c=0,d=a.length;d>c;c++){var e=a[c];if("number"!=typeof e){if(!Array.isArray(e))throw h("_sum");b="number"==typeof b?[b]:b;for(var f=0,g=e.length;g>f;f++){var i=e[f];if("number"!=typeof i)throw h("_sum");"undefined"==typeof b[f]?b.push(i):b[f]+=i}}else"number"==typeof b?b+=e:b[0]+=e}return b}function j(a,b,c,d){var e=b[a];"undefined"!=typeof e&&(d&&(e=encodeURIComponent(JSON.stringify(e))),c.push(a+"="+e))}function k(a,b){var c=a.descending?"endkey":"startkey",d=a.descending?"startkey":"endkey";if("undefined"!=typeof a[c]&&"undefined"!=typeof a[d]&&w(a[c],a[d])>0)throw new s("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(b.reduce&&a.reduce!==!1){if(a.include_docs)throw new s("{include_docs:true} is invalid for reduce");if(a.keys&&a.keys.length>1&&!a.group&&!a.group_level)throw new s("Multi-key fetches for reduce views must use {group: true}")}if(a.group_level){if("number"!=typeof a.group_level)throw new s('Invalid value for integer: "'+a.group_level+'"');if(a.group_level<0)throw new s('Invalid value for positive integer: "'+a.group_level+'"')}}function l(a,b,c){var e,f=[],g="GET";if(j("reduce",c,f),j("include_docs",c,f),j("limit",c,f),j("descending",c,f),j("group",c,f),j("group_level",c,f),j("skip",c,f),j("startkey",c,f,!0),j("endkey",c,f,!0),j("inclusive_end",c,f),j("key",c,f,!0),f=f.join("&"),f=""===f?"":"?"+f,"undefined"!=typeof c.keys){var h=2e3,i="keys="+encodeURIComponent(JSON.stringify(c.keys));i.length+f.length+1<=h?f+=("?"===f[0]?"&":"?")+i:(g="POST","string"==typeof b?e=JSON.stringify({keys:c.keys}):b.keys=c.keys)}if("string"==typeof b){var k=d(b);return a.request({method:g,url:"_design/"+k[0]+"/_view/"+k[1]+f,body:e})}return e=e||{},Object.keys(b).forEach(function(a){e[a]=Array.isArray(b[a])?b[a]:b[a].toString()}),a.request({method:"POST",url:"_temp_view"+f,body:e})}function m(a){return function(b){if("not_found"===b.name)return a;throw b}}function n(a,b,c){var d="_local/doc_"+a;return b.db.get(d)["catch"](m({_id:d,keys:[]})).then(function(d){return b.db.allDocs({keys:d.keys,include_docs:!0}).then(function(b){var e=b.rows.map(function(a){return a.doc}).filter(function(a){return a}),f=c[a],g={};e.forEach(function(a){g[a._id]=!0,a._deleted=!f[a._id],a._deleted||(a.value=f[a._id])});var h=Object.keys(f);return h.forEach(function(a){g[a]||e.push({_id:a,value:f[a]})}),d.keys=B.uniq(h.concat(d.keys)),e.splice(0,0,d),e})})}function o(a,b,c){var d="_local/lastSeq";return a.db.get(d)["catch"](m({_id:d,seq:0})).then(function(d){var e=Object.keys(b);return C.all(e.map(function(c){return n(c,a,b)})).then(function(b){var e=[];return b.forEach(function(a){e=e.concat(a)}),d.seq=c,e.push(d),a.db.bulkDocs({docs:e})})})}function p(a,b,c){0===c.group_level&&delete c.group_level;var d,f=c.group||c.group_level;d=G[a.reduceFun]?G[a.reduceFun]:A(a.reduceFun.toString(),null,i,t,Array.isArray,JSON.parse);var h=[],j=c.group_level;b.forEach(function(a){var b=h[h.length-1],c=f?a.key:null;return f&&Array.isArray(c)&&"number"==typeof j&&(c=c.length>j?c.slice(0,j):c),b&&0===w(b.key[0][0],c)?(b.key.push([c,a.id]),void b.value.push(a.value)):void h.push({key:[[c,a.id]],value:[a.value]})});for(var k=0,l=h.length;l>k;k++){var m=h[k],n=e(a.sourceDB,d,[m.key,m.value,!1]);m.value=n.error?null:n.output,m.key=m.key[0][0]}return{rows:g(h,c.limit,c.skip)}}function q(a){return a.request({method:"POST",url:"_view_cleanup"})}function r(a,b,c){if("http"===a.type())return l(a,b,c);if("string"!=typeof b){k(c,b);var e={db:a,viewName:"temp_view/temp_view",map:b.map,reduce:b.reduce,temporary:!0};return E.add(function(){return z(e).then(function(a){function b(){return a.db.destroy()}return B.fin(H(a).then(function(){return I(a,c)}),b)})}),E.finish()}var f=b,g=d(f),h=g[0],i=g[1];return a.get("_design/"+h).then(function(b){var d=b.views&&b.views[i];if(!d||"string"!=typeof d.map){var e=new Error("ddoc "+h+" has no view named "+i);throw e.name="not_found",e.status=400,e}k(c,d);var g={db:a,viewName:f,map:d.map,reduce:d.reduce};return z(g).then(function(a){return"ok"===c.stale||"update_after"===c.stale?("update_after"===c.stale&&H(a),I(a,c)):H(a).then(function(){return I(a,c)})})})}function s(a){this.status=400,this.name="query_parse_error",this.message=a,this.error=!0;try{Error.captureStackTrace(this,s)}catch(b){}}var t,u=a("pouchdb-collate"),v=a("./taskqueue"),w=u.collate,x=u.toIndexableString,y=u.normalizeKey,z=a("./create-view"),A=a("./evalfunc");t="undefined"!=typeof console&&"function"==typeof console.log?Function.prototype.bind.call(console.log,console):function(){};var B=a("./utils"),C=B.Promise,D=new v,E=new v,F=50,G={_sum:function(a,b){return i(b)},_count:function(a,b){return b.length},_stats:function(a,b){function c(a){for(var b=0,c=0,d=a.length;d>c;c++){var e=a[c];b+=e*e}return b}return{sum:i(b),min:Math.min.apply(null,b),max:Math.max.apply(null,b),count:b.length,sumsqr:c(b)}}},H=B.sequentialize(D,function(a){function b(a,b){d.push({id:g._id,key:y(a),value:y(b)})}function c(b,c){return function(){return o(a,b,c)}}var d,g,h;if("function"==typeof a.mapFun&&2===a.mapFun.length){var j=a.mapFun;h=function(a){return j(a,b)}}else h=A(a.mapFun.toString(),b,i,t,Array.isArray,JSON.parse);var k=a.seq||0,l=new v;return new C(function(b,i){function j(){l.finish().then(function(){a.seq=k,b()})}function m(){function b(a){i(a)}a.sourceDB.changes({conflicts:!0,include_docs:!0,since:k,limit:F}).on("complete",function(b){var i=b.results;if(!i.length)return j();for(var n={},o=0,p=i.length;p>o;o++){var q=i[o];if("_"!==q.doc._id[0]){d=[],g=q.doc,g._deleted||e(a.sourceDB,h,[g]),d.sort(f);for(var r={},s=0,t=d.length;t>s;s++){var u=d[s],v=x([u.key,u.id,s]);r[v]=u}n[q.doc._id]=r}k=q.seq}return l.add(c(n,k)),i.length<F?j():m()}).on("error",b)}m()})}),I=B.sequentialize(D,function(a,b){function c(b){return b.include_docs=!0,a.db.allDocs(b).then(function(a){return e=a.total_rows,a.rows.map(function(a){return a.doc.value})})}function d(c){var d;if(d=f?p(a,c,b):{total_rows:e,offset:g,rows:c},b.include_docs){var h=c.map(function(b){var c=b.value,d=c&&"object"==typeof c&&c._id||b.id;return a.sourceDB.get(d).then(function(a){b.doc=a},function(){})});return C.all(h).then(function(){return d})}return d}var e,f=a.reduceFun&&b.reduce!==!1,g=b.skip||0;"undefined"==typeof b.keys||b.keys.length||(b.limit=0,delete b.keys);var h=function(a){return a.reduce(function(a,b){return a.concat(b)})};if("undefined"!=typeof b.keys){var i=b.keys,j=i.map(function(a){var b={startkey:x([a]),endkey:x([a,{}])};return c(b)});return C.all(j).then(h).then(d)}var k={descending:b.descending};if("undefined"!=typeof b.startkey&&(k.startkey=x(b.descending?[b.startkey,{}]:[b.startkey])),"undefined"!=typeof b.endkey){var l=b.inclusive_end!==!1;b.descending&&(l=!l),k.endkey=x(l?[b.endkey,{}]:[b.endkey])}if("undefined"!=typeof b.key){var m=x([b.key]),n=x([b.key,{}]);k.descending?(k.endkey=m,k.startkey=n):(k.startkey=m,k.endkey=n)}return f||("number"==typeof b.limit&&(k.limit=b.limit),k.skip=g),c(k).then(d)}),J=B.sequentialize(D,function(a){return a.get("_local/mrviews").then(function(b){var c={};Object.keys(b.views).forEach(function(a){var b=d(a),e="_design/"+b[0],f=b[1];c[e]=c[e]||{},c[e][f]=!0});var e={keys:Object.keys(c),include_docs:!0};return a.allDocs(e).then(function(d){var e={};d.rows.forEach(function(a){var d=a.key.substring(8);Object.keys(c[a.key]).forEach(function(c){var f=d+"/"+c;b.views[f]||(f=c);var g=Object.keys(b.views[f]),h=a.doc&&a.doc.views&&a.doc.views[c];g.forEach(function(a){e[a]=e[a]||h})})});var f=Object.keys(e).filter(function(a){return!e[a]}),g=f.map(function(b){return a.constructor.destroy(b,{adapter:a.adapter})});return C.all(g).then(function(){return{ok:!0}})})},m({ok:!0}))});c.viewCleanup=B.callbackify(function(){var a=this;return"http"===a.type()?q(a):J(a)}),c.query=function(a,b,c){"function"==typeof b&&(c=b,b={}),b=B.extend({},b),"function"==typeof a&&(a={map:a});var d=this,e=C.resolve().then(function(){return r(d,a,b)});return B.promisedCallback(e,c),e},B.inherits(s,Error)},{"./create-view":48,"./evalfunc":49,"./taskqueue":54,"./utils":56,"pouchdb-collate":52}],51:[function(a,b){function c(a){if(!a||"[object Object]"!==e.call(a)||a.nodeType||a.setInterval)return!1;var b=d.call(a,"constructor"),c=d.call(a.constructor.prototype,"isPrototypeOf");if(a.constructor&&!b&&!c)return!1;var f;for(f in a);return void 0===f||d.call(a,f)}var d=Object.prototype.hasOwnProperty,e=Object.prototype.toString;b.exports=function f(){var a,b,d,e,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;for("boolean"==typeof i&&(l=i,i=arguments[1]||{},j=2),"object"!=typeof i&&"function"!=typeof i&&(i={});k>j;j++)if(null!=(a=arguments[j]))for(b in a)d=i[b],e=a[b],i!==e&&(l&&e&&(c(e)||(g=Array.isArray(e)))?(g?(g=!1,h=d&&Array.isArray(d)?d:[]):h=d&&c(d)?d:{},i[b]=f(l,h,e)):void 0!==e&&(i[b]=e));return i}},{}],52:[function(a,b,c){"use strict";function d(a){if(null!==a)switch(typeof a){case"boolean":return a?1:0;case"number":return i(a);case"string":return a.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var b=Array.isArray(a),d=b?a:Object.keys(a),e=-1,f=d.length,g="";if(b)for(;++e<f;)g+=c.toIndexableString(d[e]);else for(;++e<f;){var h=d[e];g+=c.toIndexableString(h)+c.toIndexableString(a[h])}return g}return""}function e(a,b){for(var d=Math.min(a.length,b.length),e=0;d>e;e++){var f=c.collate(a[e],b[e]);if(0!==f)return f}return a.length===b.length?0:a.length>b.length?1:-1}function f(a,b){return a===b?0:a>b?1:-1}function g(a,b){for(var d=Object.keys(a),e=Object.keys(b),f=Math.min(d.length,e.length),g=0;f>g;g++){var h=c.collate(d[g],e[g]);if(0!==h)return h;if(h=c.collate(a[d[g]],b[e[g]]),0!==h)return h}return d.length===e.length?0:d.length>e.length?1:-1}function h(a){var b=["boolean","number","string","object"],c=b.indexOf(typeof a);return~c?null===a?1:Array.isArray(a)?5:3>c?c+2:c+3:Array.isArray(a)?5:void 0}function i(a){if(0===a)return"1";var b=a.toExponential().split(/e\+?/),c=parseInt(b[1],10),d=0>a,e=d?"0":"2",f=(d?-c:c)-j,g=m.padLeft(f.toString(),"0",k);e+=l+g;var h=Math.abs(parseFloat(b[0]));d&&(h=10-h);var i=h.toFixed(20);return i=i.replace(/\.?0+$/,""),e+=l+i}var j=-324,k=3,l="",m=a("./utils");c.collate=function(a,b){if(a===b)return 0;a=c.normalizeKey(a),b=c.normalizeKey(b);var d=h(a),i=h(b);if(d-i!==0)return d-i;if(null===a)return 0;switch(typeof a){case"number":return a-b;case"boolean":return a===b?0:b>a?-1:1;case"string":return f(a,b)}return Array.isArray(a)?e(a,b):g(a,b)},c.normalizeKey=function(a){switch(typeof a){case"undefined":return null;case"number":return 1/0===a||a===-1/0||isNaN(a)?null:a;case"object":var b=a;if(Array.isArray(a)){var d=a.length;a=new Array(d);for(var e=0;d>e;e++)a[e]=c.normalizeKey(b[e])}else{if(a instanceof Date)return a.toJSON();if(null!==a){a={};for(var f in b)if(b.hasOwnProperty(f)){var g=b[f];"undefined"!=typeof g&&(a[f]=c.normalizeKey(g))}}}}return a},c.toIndexableString=function(a){var b="\x00";return a=c.normalizeKey(a),h(a)+l+d(a)+b}},{"./utils":53}],53:[function(a,b,c){"use strict";function d(a,b,c){for(var d="",e=c-a.length;d.length<e;)d+=b;return d}c.padLeft=function(a,b,c){var e=d(a,b,c);return e+a},c.padRight=function(a,b,c){var e=d(a,b,c);return a+e},c.stringLexCompare=function(a,b){var c,d=a.length,e=b.length;for(c=0;d>c;c++){if(c===e)return 1;var f=a.charAt(c),g=b.charAt(c);if(f!==g)return g>f?-1:1}return e>d?-1:0},c.intToDecimalForm=function(a){var b=0>a,c="";do{var d=b?-Math.ceil(a%10):Math.floor(a%10);c=d+c,a=b?Math.ceil(a/10):Math.floor(a/10)}while(a);return b&&"0"!==c&&(c="-"+c),c}},{}],54:[function(a,b){"use strict";function c(){this.promise=new d(function(a){a()})}var d=a("./utils").Promise;c.prototype.add=function(a){return this.promise=this.promise["catch"](function(){}).then(function(){return a()}),this.promise},c.prototype.finish=function(){return this.promise},b.exports=c},{"./utils":56}],55:[function(a,b){"use strict";function c(a,b,c){return new e(function(e,f){return b&&"object"==typeof b&&(b=b._id),"string"!=typeof b?f(new Error("doc id is required")):void a.get(b,function(g,h){if(g)return"not_found"!==g.name?f(g):e(d(a,c({_id:b}),c));var i=c(h);return i?void e(d(a,i,c)):e(h)})})}function d(a,b,d){return a.put(b)["catch"](function(e){if("conflict"!==e.name)throw e;return c(a,b,d)})}var e=a("./utils").Promise;b.exports=c},{"./utils":56}],56:[function(a,b,c){(function(b,d){"use strict";c.Promise="function"==typeof d.Promise?d.Promise:a("lie"),c.uniq=function(a){var b={};return a.forEach(function(a){b[a]=!0}),Object.keys(b)},c.inherits=a("inherits"),c.extend=a("extend");var e=a("argsarray");c.promisedCallback=function(a,c){return c&&a.then(function(a){b.nextTick(function(){c(null,a)})},function(a){b.nextTick(function(){c(a)})}),a},c.callbackify=function(a){return e(function(b){var d=b.pop(),e=a.apply(this,b);return"function"==typeof d&&c.promisedCallback(e,d),e})},c.fin=function(a,b){return a.then(function(a){var c=b();return"function"==typeof c.then?c.then(function(){return a}):a},function(a){var c=b();if("function"==typeof c.then)return c.then(function(){throw a});throw a})},c.sequentialize=function(a,b){return function(){var c=arguments,d=this;return a.add(function(){return b.apply(d,c)})}};var f=a("crypto"),g=a("md5-jkmyers");c.MD5=function(a){return b.browser?g(a):f.createHash("md5").update(a).digest("hex")}}).call(this,a("/Users/daleharvey/src/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"/Users/daleharvey/src/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":26,argsarray:23,crypto:24,extend:51,inherits:27,lie:32,"md5-jkmyers":46}]},{},[15])(15)}),angular.module("CashSplitter.views",[]).constant("views",{double_entry:{map:function(a){a.bills.forEach(function(b){var c=b.splitters.length;b.__deleted||(b.splitters.forEach(function(d){emit([a._id,d],parseFloat(b.amount/c))}),emit([a._id,b.payer],-parseFloat(b.amount)))}),a.payments.forEach(function(b){!b.__deleted&&emit([a._id,b.source],-parseFloat(b.amount)),!b.__deleted&&emit([a._id,b.target],parseFloat(b.amount))})}.toString(),reduce:"_sum"},trip_entries:{map:function(a){a.bills.forEach(function(b){b.type="bill",!b.__deleted&&emit([a._id,new Date(b.creationDate).toJSON(),b.payer],b)}),a.payments.forEach(function(b){b.type="payment",b.description="-> "+b.target,!b.__deleted&&emit([a._id,new Date(b.creationDate).toJSON(),b.source],b)})}.toString()},entries:{map:function(a){a.bills.forEach(function(a){a.type="bill",!a.__deleted&&emit(a._id,a)}),a.payments.forEach(function(a){a.type="payment",a.description="-> "+a.target,!a.__deleted&&emit(a._id,a)})}.toString()}}),angular.module("CashSplitter.directive",[]).directive("submit",function(){return{restrict:"E",templateUrl:"views/directives/addBill.html",link:angular.noop}}).directive("collapse",function(){return{restrict:"A",scope:{collapse:"="},link:function(a,b){a.$watch("collapse",function(a){a?b.removeClass("collapse"):b.addClass("collapse")}),b.find("a").bind("click",function(){a.collapse=!1})}}}).directive("icon",function(){return{restrict:"E",replace:!0,scope:{name:"@"},template:'<i class="fa fa-{{name}}"></i>'}}),angular.module("CashSplitter.service",["CashSplitter.views"]).provider("TripService",["views",function(a){function b(a){return[a.key[2],a.value]}var c=PouchDB("CashSplitter");return{$get:["$q",function(d){function e(a){var b=d.defer();return a.then(function(){return b.resolve.apply(b,arguments)},function(a){return console.err(a),b.reject.apply(b,arguments)}),b.promise}return{add:function(a){return _.each(a.bills,function(a){a.amount=parseFloat(a.amount)}),e(c.put(a,a.name))},get:function(a){return e(c.get(a)).then(function(a){return a.total=_.reduce(a.bills,function(a,b){return a+parseFloat(b.amount)},0),a})},list:function(){return e(c.allDocs({include_docs:!0}))},destroy:function(){return e(c.destroy())},remove:function(a){return e(c.remove(a))},totals:function(b){return e(c.query(a.double_entry,{group:!0,startkey:[b],endkey:[b,{}]})).then(function(a){return _.zipObject(_.map(a.rows,function(a){return[a.key[1],a.value]}))})},splitter_entries:function(d,f){return e(c.query(a.trip_entries,{startkey:[d],endkey:[d,{}]})).then(function(a){return _.filter(_.map(a.rows,b),function(a){return a[0]==f}).reverse()})},trip_entries:function(d){return e(c.query(a.trip_entries,{startkey:[d],endkey:[d,{}]})).then(function(a){return _.map(a.rows,b).reverse()})},destroyDb:function(){return PouchDB.destroy("CashSplitter")},getEntry:function(b){return e(c.query(a.entries)).then(function(a){return a.rows}).then(function(a){return _.find(a,{key:b})}).then(function(a){return a.value})}}}]}}]),angular.module("CashSplitter.controller",[]).controller("TripController",["$scope","trip",function(a,b){a.trip=b}]).controller("TripListController",["$scope","trips",function(a,b){a.trips=b}]).controller("TripNewController",["$scope","TripService","$state",function(a,b,c){a.trip={bills:[],payments:[]},a.submit=function(){b.add(a.trip).then(function(){c.go("trip.show",{trip_id:a.trip.name})})}}]).controller("TripShowController",["$scope","TripService","$state","entries",function(a,b,c,d){b.totals(a.trip._id).then(function(b){a.splitted=b}),a.entries=d,a.remove=function(a){confirm("Do you want to delete this trip?")&&b.remove(a).then(function(){c.go("trip_list")})},a.clean=function(a){confirm("Do you want to delete all bills of this trip?")&&(a.bills=[],a.payments=[],b.add(a).then(function(){c.go("trip.show",null,{reload:!0})}))},a["delete"]=function(d){confirm("Do you want to delete this transaction?")&&((_.findWhere(a.trip.bills,{_id:d})||{}).__deleted=!0,(_.findWhere(a.trip.payments,{_id:d})||{}).__deleted=!0,b.add(a.trip).then(function(){c.go("trip.show",null,{reload:!0})}))}}]).controller("BillNewController",["$scope","TripService","$state",function(a,b,c){a.bill={creationDate:new Date,_id:PouchDB.utils.uuid(),splitters:a.trip.splitters.slice(0)},a.submit=function(){a.bill.amount=a.bill.amount,a.trip.bills.push(a.bill),b.add(a.trip).then(function(){c.go("trip.show",null,{reload:!0})})}}]).controller("FairBillNewController",["$scope","TripService","$state",function(a,b,c){a.bill={},a.creationDate=new Date,a.sum=function(a){return _.reduce(a,function(a,b){return parseFloat(a)+parseFloat(b)})},a.submit=function(d,e){_.each(_.map(_.pick(d,function(a){return!!a}),function(b,c){return{creationDate:a.creationDate,_id:PouchDB.utils.uuid(),splitters:[c],amount:b,payer:e,description:a.description}}),function(b){a.trip.bills.push(b)}),b.add(a.trip).then(function(){c.go("trip.show",null,{reload:!0})})}}]).controller("PaymentNewController",["$scope","TripService","$state",function(a,b,c){a.payment={creationDate:new Date,_id:PouchDB.utils.uuid()},a.submit=function(){a.trip.payments.push(a.payment),b.add(a.trip).then(function(){c.go("trip.show",null,{reload:!0})})}}]).controller("SplitterController",["$scope","$stateParams",function(a,b){a.splitter=b.splitter}]).controller("SplitterShowController",["$scope","entries",function(a,b){a.entries=b}]).controller("EntryController",["$scope","entry",function(a,b){a.entry=b}]).controller("EntryShowController",angular.noop),angular.module("CashSplitter",["ui.router","checklist-model","CashSplitter.controller","CashSplitter.service","CashSplitter.directive"]).run(["$locale","$rootScope","TripService","$state",function(a,b,c,d){a.NUMBER_FORMATS.CURRENCY_SYM="€",a.DATETIME_FORMATS.medium="dd-MM-yyyy HH:mm",a.DATETIME_FORMATS["short"]="dd-MM HH:mm",a.NUMBER_FORMATS.DECIMAL_SEP=",",a.NUMBER_FORMATS.GROUP_SEP=".",a.NUMBER_FORMATS.PATTERNS[1]={minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"-¤",negSuf:"",gSize:3,lgSize:3},b.removeDb=function(){confirm("Do you want to delete all data?")&&c.destroy().then(function(){d.go("trip_list",null,{reload:!0})},function(){})}}]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/trip");var c={trip:["$stateParams","TripService",function(a,b){return b.get(a.trip_id)}]};a.state("trip",{"abstract":!0,url:"/trip/:trip_id",views:{title:{controller:"TripController",templateUrl:"views/trip/title.html",resolve:c},"":{templateUrl:"views/trip/layout.html",controller:"TripController",resolve:c}}}),a.state("trip_list",{url:"/trip",templateUrl:"views/trip/list.html",controller:"TripListController",resolve:{trips:["$stateParams","TripService",function(a,b){return b.list().then(function(a){return a.rows.map(function(a){return a.doc})})}]}}).state("trip_new",{url:"/trip/new",templateUrl:"views/trip/new.html",controller:"TripNewController"}),a.state("trip.show",{url:"",templateUrl:"views/trip/show.html",controller:"TripShowController",resolve:{entries:["TripService","$stateParams",function(a,b){return a.trip_entries(b.trip_id)}]}}).state("trip.show.bill_new",{url:"/bill/new",templateUrl:"views/bill/new.html",controller:"BillNewController"}).state("trip.show.fair_bill_new",{url:"/bill/fair-new",templateUrl:"views/bill/fair-bill-new.html",controller:"FairBillNewController"}).state("trip.show.payment_new",{url:"/payment/new",templateUrl:"views/payment/new.html",controller:"PaymentNewController"}).state("trip.show.splitter",{url:"/splitter/:splitter","abstract":!0,templateUrl:"views/splitter/layout.html",controller:"SplitterController"}).state("trip.show.splitter.show",{url:"",templateUrl:"views/splitter/show.html",controller:"SplitterShowController",resolve:{entries:["TripService","$stateParams",function(a,b){return a.splitter_entries(b.trip_id,b.splitter)}]}}).state("trip.show.entry",{url:"/entry/:entry_id","abstract":!0,template:"<div ui-view></div>",controller:"EntryController",resolve:{entry:["TripService","$stateParams",function(a,b){return a.getEntry(b.entry_id)}]}}).state("trip.show.entry.show",{url:"/",controller:"EntryShowController",templateUrl:"views/entry/show.html"})}]).filter("$",["currencyFilter",function(a){return function(b){return a(b&&b.toFixed?b.toFixed(5):b)}}]),angular.module("CashSplitter").run(["$templateCache",function(a){"use strict";a.put("views/bill/fair-bill-new.html",'<hr />\n<div class="row">\n  <div class="col-xs-4">Amount</div>\n  <div class="col-xs-8">\n    <span class="pull-right">{{(sum(bill)||0)|currency }}</span>\n  </div>\n</div>\n<div class="row">\n  <div class="col-xs-12">\n    <form class="form-horizontal" ng-submit="submit(bill, bill_payer)">\n      <div class="form-group">\n        <label class="col-xs-2 control-label">\n          Payer\n        </label>\n        <div class="col-xs-10">\n          <select id="bill_payer" ng-options="splitter as splitter for splitter in trip.splitters" ng-model="bill_payer" class="form-control" placeholder="Payer" ng-required="true"></select>\n        </div>\n      </div>\n      <hr />\n      <div class="form-group" ng-repeat="splitter in trip.splitters">\n        <label class="col-xs-2 control-label">\n          {{splitter}}\n        </label>\n        <div class="col-xs-10">\n          <input type="text" ng-model="bill[splitter]" class="form-control" />\n        </div>\n      </div>\n      <div class="form-group">\n        <div class="col-xs-12">\n          <input ng-model="description" type="text" class="form-control" id="bill_description" placeholder="Description">\n        </div>\n      </div>\n      <div class="form-group">\n        <div class="col-xs-12">\n          <input ng-model="creationDate" type="datetime-local" class="form-control" id="bill_creationDate" placeholder="Date" ng-required="true">\n        </div>\n      </div>\n      <submit />\n    </form>\n  </div>\n</div>\n<hr />\n'),a.put("views/bill/new.html",'<hr />\n<div class="row">\n  <div class="col-xs-12">\n    <form role="form" ng-submit="submit()">\n      <div class="form-group">\n        <label for="bill_amount">Amount *</label>\n        <input ng-model="bill.amount" step="any" class="form-control" id="bill_amount" placeholder="Amount" ng-required="true">\n      </div>\n      <div class="form-group">\n        <label for="bill_payer">Payer</label>\n        <select id="bill_payer" ng-options="splitter as splitter for splitter in trip.splitters" ng-model="bill.payer" class="form-control"></select>\n      </div>\n      <div class="checkbox" ng-repeat="splitter in trip.splitters track by $index">\n        <label>\n          <input checklist-model="bill.splitters" type="checkbox" checklist-value="splitter">{{splitter}}\n        </label>\n      </div>\n      <div class="form-group">\n        <label for="bill_description">Description</label>\n        <input ng-model="bill.description" type="text" class="form-control" id="bill_description" placeholder="Description">\n      </div>\n      <div class="form-group">\n        <label for="bill_creationDate">Date</label>\n        <input ng-model="bill.creationDate" type="datetime-local" class="form-control" id="bill_creationDate" placeholder="Date" ng-required="true">\n      </div>\n      <submit />\n    </form>\n  </div>\n</div>\n<hr />\n'),a.put("views/directives/addBill.html",'<button class="btn btn-success btn-block" type="submit">\n  <icon name="money"></icon>\n</button>\n'),a.put("views/entry/show.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h3 class="panel-title">\n      <icon name="{{entry.type == \'bill\' ? \'credit-card\' : \'money\'}}"></icon>\n      {{entry.creationDate | date:\'medium\'}}</h3>\n  </div>\n  <div class="panel-body">\n    {{entry.description}} <br />\n    {{entry.splitters.join(\', \')}}\n  </div>\n  <div class="panel-footer">\n      <span>\n          {{entry.amount | currency}}\n      </span>\n      <span class="pull-right">\n          <a ng-click="delete(entry._id)" href>\n              <icon name="scissors"></icon>\n          </a>\n      </span>\n  </div>\n</div>\n'),a.put("views/payment/new.html",'<hr />\n<div class="row">\n  <div class="col-xs-12">\n    <form role="form" ng-submit="submit()">\n      <div class="form-group">\n        <label for="payment_amount">Amount *</label>\n        <input ng-model="payment.amount" step="any" class="form-control" id="payment_amount" placeholder="Amount" ng-required="true">\n      </div>\n      <div class="form-group">\n        <label for="payment_source">Source</label>\n        <select id="payment_source" ng-options="splitter as splitter for splitter in trip.splitters" ng-model="payment.source" class="form-control"></select>\n      </div>\n      <div class="form-group">\n        <label for="payment_target">Target</label>\n        <select id="payment_target" ng-options="splitter as splitter for splitter in trip.splitters" ng-model="payment.target" class="form-control"></select>\n      </div>\n      <div class="form-group">\n        <label for="payment_description">Description</label>\n        <input ng-model="payment.description" type="text" class="form-control" id="payment_description" placeholder="Description">\n      </div>\n      <div class="form-group">\n        <label for="payment_creationDate">Date</label>\n        <input ng-model="payment.creationDate" type="datetime-local" class="form-control" id="payment_creationDate" placeholder="Date" ng-required="true">\n      </div>\n      <submit/>\n    </form>\n  </div>\n</div>\n<hr />\n'),a.put("views/splitter/layout.html","<div ui-view></div>"),a.put("views/splitter/show.html",'<div class="row">\n  <div class="col-xs-12">\n    <table class="table table-condensed table-bordered">\n      <tr ng-repeat="entry in entries">\n        <td>\n          <icon name="{{entry[1].type == \'bill\' ? \'credit-card\' : \'money\'}}"></icon>\n        </td>\n        <td>\n          <span class="pull-right">{{entry[1].amount | $}}</span>\n        </td>\n        <td>{{entry[1].creationDate |date:\'short\'}}</td>\n      </tr>\n    </table>\n  </div>\n</div>\n'),a.put("views/trip/layout.html","<div ui-view></div>"),a.put("views/trip/list.html",'<ul>\n  <li ng-repeat="trip in trips">\n    <a ui-sref="trip.show({trip_id:trip.name})">\n       {{trip.name}}\n    </a>\n  </li>\n</ul>\n'),a.put("views/trip/new.html",'<form role="form" ng-submit="submit()">\n  <div class="form-group">\n    <label for="trip_name">Name</label>\n    <input ng-model="trip.name" type="text" class="form-control" id="trip_name" placeholder="Trip name" ng-required>\n  </div>\n  <div class="form-group">\n    <label for="trip_splitters">Splitters</label>\n    <textarea id="trip_splitters" ng-model="trip.splitters" ng-list class="form-control" placeholder="Splitters name splitted by comma(,)"></textarea>\n  </div>\n  <button type="submit" class="btn btn-default">Add</button>\n</form>\n'),a.put("views/trip/show.html",'<div class="row">\n  <div class="col-xs-8">\n    <div class="button-group">\n      <a class="btn btn-warning" ui-sref="trip.show.bill_new({trip_id:trip.name})">\n        <icon name="plus"></icon>\n        <icon name="credit-card"></icon>\n      </a>\n      <a class="btn btn-success" ui-sref="trip.show.fair_bill_new({trip_id:trip.name})">\n        <icon name="plus"></icon>\n        <icon name="cubes"></icon>\n      </a>\n      <a class="btn btn-primary" ui-sref="trip.show.payment_new({trip_id:trip.name})">\n        <icon name="minus"></icon>\n        <icon name="money"></icon>\n      </a>\n    </div>\n  </div>\n  <div class="col-xs-4">\n    <div class="button-group pull-right">\n      <button class="btn btn-danger" ng-click="remove(trip)">\n        <icon name="trash-o"></icon>\n      </button>\n      <a class="btn btn-danger" ng-click="clean(trip)">\n        <icon name="fire"></icon>\n      </a>\n    </div>\n  </div>\n</div>\n<hr />\n<div class="row">\n  <div class="col-xs-12">\n    <table class="table table-bordered table-condensed table-striped">\n      <tr ng-repeat="splitter in trip.splitters track by $index">\n        <td>\n          <a ui-sref="trip.show.splitter.show({splitter:splitter})">\n            {{splitter}}\n          </a>\n        </td>\n        <td>\n          <span class="pull-right">{{splitted[splitter] | $}}</span>\n        </td>\n      </tr>\n    </table>\n  </div>\n</div>\n<div ui-view></div>\n<div class="row">\n  <div class="col-xs-12">\n    <table class="table table-condensed table-bordered table-striped">\n      <tr ng-repeat="entry in entries">\n        <td>\n          <a ui-sref="trip.show.entry.show({entry_id: entry[1]._id})">\n            <icon name="{{entry[1].type == \'bill\' ? \'credit-card\' : \'money\'}}"></icon>\n          </a>\n        </td>\n        <td>\n          <span class="pull-right">{{entry[1].amount | $}}</span>\n        </td>\n        <td>{{entry[0]}}</td>\n        <td>{{entry[1].creationDate |date:\'short\'}}</td>\n      </tr>\n    </table>\n  </div>\n</div>\n'),a.put("views/trip/title.html",'<span class="navbar-brand">\n  <a ui-sref="trip.show({trip_id:trip._id})">\n  {{trip._id}}\n  </a>\n  {{trip.splitters.length}}\n  <icon name="users"></icon>\n</span>\n')
}]);
//# sourceMappingURL=app.min.map